{"meta":{"version":1,"warehouse":"1.0.3"},"models":{"Asset":[{"_id":"themes/next/source/vendors/velocity/velocity.ui.min.js","path":"vendors/velocity/velocity.ui.min.js","modified":1},{"_id":"themes/next/source/vendors/velocity/velocity.ui.js","path":"vendors/velocity/velocity.ui.js","modified":1},{"_id":"themes/next/source/vendors/velocity/velocity.min.js","path":"vendors/velocity/velocity.min.js","modified":1},{"_id":"themes/next/source/vendors/velocity/velocity.js","path":"vendors/velocity/velocity.js","modified":1},{"_id":"themes/next/source/vendors/velocity/bower.json","path":"vendors/velocity/bower.json","modified":1},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.scrollstop.js","path":"vendors/jquery_lazyload/jquery.scrollstop.js","modified":1},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.lazyload.js","path":"vendors/jquery_lazyload/jquery.lazyload.js","modified":1},{"_id":"source/images/avatar.jpg","path":"images/avatar.jpg","modified":1},{"_id":"themes/next/source/vendors/jquery_lazyload/bower.json","path":"vendors/jquery_lazyload/bower.json","modified":1},{"_id":"themes/next/source/vendors/jquery_lazyload/README.md","path":"vendors/jquery_lazyload/README.md","modified":1},{"_id":"themes/next/source/vendors/jquery_lazyload/CONTRIBUTING.md","path":"vendors/jquery_lazyload/CONTRIBUTING.md","modified":1},{"_id":"themes/next/source/vendors/jquery/index.js","path":"vendors/jquery/index.js","modified":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff2","path":"vendors/font-awesome/fonts/fontawesome-webfont.woff2","modified":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff","path":"vendors/font-awesome/fonts/fontawesome-webfont.woff","modified":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.ttf","path":"vendors/font-awesome/fonts/fontawesome-webfont.ttf","modified":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.svg","path":"vendors/font-awesome/fonts/fontawesome-webfont.svg","modified":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.eot","path":"vendors/font-awesome/fonts/fontawesome-webfont.eot","modified":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/FontAwesome.otf","path":"vendors/font-awesome/fonts/FontAwesome.otf","modified":1},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.min.css","path":"vendors/font-awesome/css/font-awesome.min.css","modified":1},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css.map","path":"vendors/font-awesome/css/font-awesome.css.map","modified":1},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css","path":"vendors/font-awesome/css/font-awesome.css","modified":1},{"_id":"themes/next/source/vendors/font-awesome/bower.json","path":"vendors/font-awesome/bower.json","modified":1},{"_id":"themes/next/source/vendors/font-awesome/HELP-US-OUT.txt","path":"vendors/font-awesome/HELP-US-OUT.txt","modified":1},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.min.js","path":"vendors/fastclick/lib/fastclick.min.js","modified":1},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.js","path":"vendors/fastclick/lib/fastclick.js","modified":1},{"_id":"themes/next/source/vendors/fastclick/bower.json","path":"vendors/fastclick/bower.json","modified":1},{"_id":"themes/next/source/vendors/fastclick/README.md","path":"vendors/fastclick/README.md","modified":1},{"_id":"themes/next/source/vendors/fastclick/LICENSE","path":"vendors/fastclick/LICENSE","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.pack.js","path":"vendors/fancybox/source/jquery.fancybox.pack.js","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.js","path":"vendors/fancybox/source/jquery.fancybox.js","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.css","path":"vendors/fancybox/source/jquery.fancybox.css","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-media.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-media.js","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/fancybox_buttons.png","path":"vendors/fancybox/source/helpers/fancybox_buttons.png","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite@2x.png","path":"vendors/fancybox/source/fancybox_sprite@2x.png","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite.png","path":"vendors/fancybox/source/fancybox_sprite.png","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_overlay.png","path":"vendors/fancybox/source/fancybox_overlay.png","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading@2x.gif","path":"vendors/fancybox/source/fancybox_loading@2x.gif","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading.gif","path":"vendors/fancybox/source/fancybox_loading.gif","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/blank.gif","path":"vendors/fancybox/source/blank.gif","modified":1},{"_id":"themes/next/source/js/ua-parser.min.js","path":"js/ua-parser.min.js","modified":1},{"_id":"themes/next/source/js/motion.js","path":"js/motion.js","modified":1},{"_id":"themes/next/source/js/hook-duoshuo.js","path":"js/hook-duoshuo.js","modified":1},{"_id":"themes/next/source/js/helpers.js","path":"js/helpers.js","modified":1},{"_id":"themes/next/source/js/fancy-box.js","path":"js/fancy-box.js","modified":1},{"_id":"themes/next/source/js/bootstrap.scrollspy.js","path":"js/bootstrap.scrollspy.js","modified":1},{"_id":"themes/next/source/js/bootstrap.js","path":"js/bootstrap.js","modified":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1}],"Cache":[{"_id":"source/404.html","shasum":"75f79c7a9f1072300986dc8b56e6cca36b2b7646","modified":1451905716000},{"_id":"source/_posts/Androidå›¾ç‰‡åº“-Glide.md","shasum":"c1c26a0916c56fb6ebd5aea04dd30b7fe910aa91","modified":1454293282000},{"_id":"source/_posts/Androidæ³¨å…¥æ¡†æ¶Dagger2å­¦ä¹ ç¬”è®°.md","shasum":"b1cfc192f21ffad1e456c02301d739738fdb7c3b","modified":1457242843000},{"_id":"source/_posts/Googleæ¨èçš„Androidåº”ç”¨æ¡†æ¶ä¹‹demo.md","shasum":"c2c5e5fc0204d2904166e3badf40e86ef5cb5658","modified":1454329187000},{"_id":"source/_posts/å§‹å‘ç«™ï¼Œå°†é€šå¾€ä½•å¤„.md","shasum":"b5cd80786f1713f3b3296517f67cebe16053b887","modified":1454395744000},{"_id":"source/_posts/æŠ¢çº¢åŒ…æ’ä»¶åˆ†æä»¥åŠåº”ç”¨.md","shasum":"2c060be2b341b3330864742815a0709ffcca43cb","modified":1453024390000},{"_id":"source/_posts/æ˜¯æ—¶å€™å¼€å§‹å†™åšå®¢äº†.md","shasum":"9f22e296976c2ee3cfd63f6205609dd5ecbd3486","modified":1451905716000},{"_id":"source/about/index.md","shasum":"9a5dd3ddba5289a4e4d759d771f2053cc2b2a672","modified":1452400127000},{"_id":"source/categories/index.md","shasum":"bf42a9ac12d34c166f93214af0b26fafc0ebd2a0","modified":1451905716000},{"_id":"source/images/avatar.jpg","shasum":"6cd06578fa0ccaa6fd0c819e30f23b796b083c20","modified":1451905716000},{"_id":"source/read/index.md","shasum":"8d892e35818d348fe94ec1db8d24f7f4fccdfb61","modified":1451908452000},{"_id":"source/tags/index.md","shasum":"a37dfc7257f428ee34d31cb7d43c4568fa5c092c","modified":1451905716000},{"_id":"source/tools/index.md","shasum":"399b77c4ba3310def845421c9a726b185e7e0512","modified":1454394097000},{"_id":"themes/next/source/css/_common/_page/home.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1451905989000},{"_id":"themes/next/source/css/_mixins/Mist.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1451905989000},{"_id":"themes/next/source/css/_mixins/custom.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1451905989000},{"_id":"themes/next/source/css/_mixins/default.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1451905989000},{"_id":"themes/next/source/css/_variables/custom.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1451905989000},{"_id":"themes/next/_config.yml","shasum":"793426fda9a30a58765604c4c077b266127f4f82","modified":1451907704000},{"_id":"themes/next/languages/de.yml","shasum":"7a8de0e5665c52a1bf168c1e7dd222c8a74fb0ab","modified":1451905989000},{"_id":"themes/next/languages/default.yml","shasum":"f57623e47f533c8d53d859628fa6a368a5298a00","modified":1451905989000},{"_id":"themes/next/languages/en.yml","shasum":"f57623e47f533c8d53d859628fa6a368a5298a00","modified":1451905989000},{"_id":"themes/next/languages/fr-FR.yml","shasum":"2cec663601ac8d178e97aee91d967fa99a95ad4e","modified":1451905989000},{"_id":"themes/next/languages/pt.yml","shasum":"8e38fdf3a5232b428d2e4a641666dbabab87c3d1","modified":1451905989000},{"_id":"themes/next/languages/ru.yml","shasum":"1d1b158f9cff1b38978086043f299b3fc590e007","modified":1451905989000},{"_id":"themes/next/languages/zh-Hans.yml","shasum":"f48a7886c95bffc233d26f4f9614fb0546ba89d6","modified":1451907734000},{"_id":"themes/next/languages/zh-hk.yml","shasum":"248b88c825fde8e35839f3954d38df4e72a0537c","modified":1451905989000},{"_id":"themes/next/languages/zh-tw.yml","shasum":"42ba1d0c6b6026ba1e613ad11efb75432a8132ac","modified":1451905989000},{"_id":"themes/next/layout/_layout.swig","shasum":"4efe52f310b797f4bdedacbd979caf285d2bc731","modified":1451905989000},{"_id":"themes/next/layout/_macro/post-collapse.swig","shasum":"9032ae9056cb19b4c2d069d66ead7abf828f9922","modified":1451905989000},{"_id":"themes/next/layout/_macro/post.swig","shasum":"0674b9bf3103ca32e04f16c7f7a6adad7e32e011","modified":1454295933000},{"_id":"themes/next/layout/_macro/sidebar.swig","shasum":"88e179ff660874135b17d0febc91d04749053a73","modified":1451905989000},{"_id":"themes/next/layout/_partials/comments.swig","shasum":"a612a4eca51ffc87b53a5470b451071a7ad6a031","modified":1451905989000},{"_id":"themes/next/layout/_partials/duoshuo-hot-articles.swig","shasum":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1451905989000},{"_id":"themes/next/layout/_partials/footer.swig","shasum":"26636bbd41c01946fb21e07f36a8c56c5f8b23b3","modified":1454305159000},{"_id":"themes/next/layout/_partials/head.swig","shasum":"fcef099c268bd4964e65cfe3109e3fe99d0b925c","modified":1451905989000},{"_id":"themes/next/layout/_partials/header.swig","shasum":"476333c49a1e7e0402a68a826f67527ac258969d","modified":1451905989000},{"_id":"themes/next/layout/_partials/old-browsers.swig","shasum":"dbbfea810bf3a2ed9c83b9a6683037175aacfc67","modified":1451905989000},{"_id":"themes/next/layout/_partials/pagination.swig","shasum":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1451905989000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","shasum":"00c2b49f6289198b0b2b4e157e4ee783277f32a7","modified":1451905989000},{"_id":"themes/next/bower.json","shasum":"4a53cab758c7d69be2ce773b2afff7dd962b7cb0","modified":1451905989000},{"_id":"themes/next/README.en.md","shasum":"565ba52b3825b85a9f05b41183caca7f18b741d4","modified":1451905989000},{"_id":"themes/next/README.md","shasum":"0b709591995001cd860384d6c189e51d91690714","modified":1451905989000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","shasum":"eefe2388ff3d424694045eda21346989b123977c","modified":1451905989000},{"_id":"themes/next/layout/_partials/search.swig","shasum":"64f14da26792a17bc27836c4e9d83190175f36e6","modified":1451905989000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","shasum":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1451905989000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","shasum":"63315fcf210799f894208c9f512737096df84962","modified":1451905989000},{"_id":"themes/next/layout/_scripts/analytics/baidu-analytics.swig","shasum":"7c43d66da93cde65b473a7d6db2a86f9a42647d6","modified":1451905989000},{"_id":"themes/next/layout/_scripts/analytics/facebook-sdk.swig","shasum":"334176d838ee528e58468d8bc74ff3a6d3f25b2b","modified":1451905989000},{"_id":"themes/next/layout/_scripts/analytics/google-analytics.swig","shasum":"30a23fa7e816496fdec0e932aa42e2d13098a9c2","modified":1451905989000},{"_id":"themes/next/layout/_scripts/analytics.swig","shasum":"33ca06b9bd9a15a19432d5396b85bd319f017319","modified":1451905989000},{"_id":"themes/next/layout/_scripts/baidushare.swig","shasum":"d726361945437cf6e48067b3dd041b7e36e98d85","modified":1451905989000},{"_id":"themes/next/layout/_scripts/bootstrap.scrollspy.swig","shasum":"85295f126836b95f0837d03e58228bb3cf8c4490","modified":1451905989000},{"_id":"themes/next/layout/_scripts/comments/disqus.swig","shasum":"3491d3cebabc8a28857200db28a1be65aad6adc2","modified":1451905989000},{"_id":"themes/next/layout/_scripts/comments/duoshuo.swig","shasum":"44e3d567fd49c2a093f4a0a8af9f00542c935a58","modified":1451905989000},{"_id":"themes/next/layout/_scripts/fancy-box.swig","shasum":"41b4ff1446060c88c33bf666a32277dcf12129f0","modified":1451905989000},{"_id":"themes/next/layout/_scripts/helpers.swig","shasum":"4d2cbfca0aaf546a2b5813288073e824c1498fdf","modified":1451905989000},{"_id":"themes/next/layout/_scripts/mathjax.swig","shasum":"df03220eb8526e17dc9c9f17780c2d6699367181","modified":1451905989000},{"_id":"themes/next/layout/_scripts/motion.swig","shasum":"0d9761e3b1bb9e666ccc71bad59f035deb5a88c6","modified":1451905989000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","shasum":"7a34b02808f144ee4a11032ae3a149eb634a7e82","modified":1451905989000},{"_id":"themes/next/layout/_scripts/tinysou.swig","shasum":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1451905989000},{"_id":"themes/next/layout/archive.swig","shasum":"0c3ce594759f347ea90a4ce592a7a18e2ae4cc5c","modified":1451905989000},{"_id":"themes/next/layout/category.swig","shasum":"d6b3e1dc5e0b8deade9a084c463126e70188ee9b","modified":1451905989000},{"_id":"themes/next/layout/index.swig","shasum":"38b1ad401b748965369296b86327d23082a1fe93","modified":1451905989000},{"_id":"themes/next/layout/page.swig","shasum":"8019d02232a6dd1a665b6a4d2daef8e5dd2f0049","modified":1451905989000},{"_id":"themes/next/layout/post.swig","shasum":"a84457e8ced46e63bc7a8a9e0541a6ba53122a92","modified":1451905989000},{"_id":"themes/next/layout/tag.swig","shasum":"aab44af54fcbc66fea4ad12b2767ffca3eadd451","modified":1451905989000},{"_id":"themes/next/scripts/filters/sticky.js","shasum":"6b1ea0c09105352813357d0fff4e1d3f4c821fa3","modified":1451905989000},{"_id":"themes/next/scripts/merge-configs.js","shasum":"0c56be2e85c694247cfa327ea6d627b99ca265e8","modified":1451905989000},{"_id":"themes/next/scripts/tags/center-quote.js","shasum":"535fc542781021c4326dec24d8495cbb1387634a","modified":1451905989000},{"_id":"themes/next/scripts/tags/full-image.js","shasum":"3acce36db0feb11a982c6c799aa6b6b47df2827c","modified":1451905989000},{"_id":"themes/next/scripts/tags/group-pictures.js","shasum":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1451905989000},{"_id":"themes/next/source/css/_common/_component/back-to-top.styl","shasum":"88cd66910260006aa8e9e795df4948d4b67bfa11","modified":1451905989000},{"_id":"themes/next/source/css/_common/_component/blockquote-center.styl","shasum":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1451905989000},{"_id":"themes/next/source/css/_common/_component/buttons.styl","shasum":"81063e0979f04a0f9af37f321d7321dda9abf593","modified":1451905989000},{"_id":"themes/next/source/css/_common/_component/comments.styl","shasum":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1451905989000},{"_id":"themes/next/source/css/_common/_component/duoshuo.styl","shasum":"2d2da815ab0981b219ea1973a4aedede48801411","modified":1451905989000},{"_id":"themes/next/source/css/_common/_component/gallery.styl","shasum":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1451905989000},{"_id":"themes/next/source/css/_common/_component/group-pictures.styl","shasum":"1ee40743000173495728855f734081eb2b6167cc","modified":1451905989000},{"_id":"themes/next/source/css/_common/_component/jiathis.styl","shasum":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1451905989000},{"_id":"themes/next/source/css/_common/_component/pagination.styl","shasum":"711c8830886619d4f4a0598b0cde5499dce50c62","modified":1451905989000},{"_id":"themes/next/source/css/_common/_component/posts-collapse.styl","shasum":"6750b61236eb359028da8f2c4765f7c89b03dc9a","modified":1451905989000},{"_id":"themes/next/source/css/_common/_component/posts-expand.styl","shasum":"672d5fa7e5b7642d86a4bda176b501508b54860f","modified":1451905989000},{"_id":"themes/next/source/css/_common/_component/posts-type.styl","shasum":"40b593134bf96d1d6095b3439d47820659d7f10b","modified":1451905989000},{"_id":"themes/next/source/css/_common/_component/posts.styl","shasum":"b05ac51dd266d27f12e39e59a94383fe6474b7b3","modified":1451905989000},{"_id":"themes/next/source/css/_common/_component/tag-cloud.styl","shasum":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1451905989000},{"_id":"themes/next/source/css/_common/_core/base.styl","shasum":"388aa7c69c97728c64941db01e0f29a88837120c","modified":1451905989000},{"_id":"themes/next/source/css/_common/_core/helpers.styl","shasum":"d339d114e52a9abbc797ec236a8a770c29e288a6","modified":1451905989000},{"_id":"themes/next/source/css/_common/_core/normalize.styl","shasum":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1451905989000},{"_id":"themes/next/source/css/_common/_core/scaffolding.styl","shasum":"1f8acb3331300eec696a09e7859e11f191e16d7f","modified":1451905989000},{"_id":"themes/next/source/css/_common/_core/tables.styl","shasum":"5f766cf26f966dbf9dcfe681f40ab9032e3e8a08","modified":1451905989000},{"_id":"themes/next/source/css/_common/_fonts/icon-default.styl","shasum":"8b809aef383bebaeb3f282b47675f3a364ce3569","modified":1451905989000},{"_id":"themes/next/source/css/_common/_fonts/icon-feather.styl","shasum":"80413afacfa656322100ce1900fed1ebcd8f8f44","modified":1451905989000},{"_id":"themes/next/source/css/_common/_fonts/icon-font.styl","shasum":"ec3f86739bede393cafcd3e31052c01115ae20d6","modified":1451905989000},{"_id":"themes/next/source/css/_common/_page/archive.styl","shasum":"dff879f55ca65fa79c07e9098719e53eeea7ac88","modified":1451905989000},{"_id":"themes/next/source/css/_common/_fonts/icon-fifty-shades.styl","shasum":"249f75bafa26b99d272352c0646e7497ea680b39","modified":1451905989000},{"_id":"themes/next/source/css/_common/_page/categories.styl","shasum":"4f696a2eaeee2f214adcf273eab25c62a398077a","modified":1451905989000},{"_id":"themes/next/source/css/_common/_page/post-detail.styl","shasum":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1451905989000},{"_id":"themes/next/source/css/_common/_section/body.styl","shasum":"ca1a4766cbe25baac757c6b47a4858d221afdc40","modified":1451905989000},{"_id":"themes/next/source/css/_common/_section/footer.styl","shasum":"8994ffcce84deac0471532f270f97c44fea54dc0","modified":1451905989000},{"_id":"themes/next/source/css/_common/_section/header.styl","shasum":"a6aa8a56f9f645ae5a76a1034f79adf73b053aa0","modified":1451905989000},{"_id":"themes/next/source/css/_common/_section/media.styl","shasum":"fa9809d2ecc753cf32f70803c1d0821c405211f4","modified":1451905989000},{"_id":"themes/next/source/css/_common/_section/layout.styl","shasum":"03ae7b808dde9065412968aa69916162e790455d","modified":1451905989000},{"_id":"themes/next/source/css/_common/_vendor/highlight/highlight.styl","shasum":"6242be4307a3b3dafc14e556f51c8875c41a1ddd","modified":1451905989000},{"_id":"themes/next/source/css/_common/_section/sidebar.styl","shasum":"bc106c3e759cd752c2b4c53ac27bc5ef5e3b18ea","modified":1451905989000},{"_id":"themes/next/source/css/_common/_vendor/highlight/theme.styl","shasum":"ae19721ceee5ba460e131cb2427dae3c1ff39d6f","modified":1451905989000},{"_id":"themes/next/source/css/_custom/custom.styl","shasum":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1451905989000},{"_id":"themes/next/source/css/_common/_fonts/icon-linecons.styl","shasum":"9cdbedb3627ac941cfb063b152abe5a75c3c699a","modified":1451905989000},{"_id":"themes/next/source/css/_mixins/base.styl","shasum":"4e49707c99c8bbcfa0a607dfdaff0fbb7dffd2a3","modified":1451905989000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","shasum":"1631a430655eadb485574d1a9bedd49460988b11","modified":1451905989000},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","shasum":"d50c2a9ae363d26ed2e9bc226a9dc7abeb9ace1b","modified":1451905989000},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","shasum":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1451905989000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","shasum":"5a8036fc61207ca0fe38c9782ed2f686fbf764be","modified":1451905989000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","shasum":"fc7d96b897290dbd93bc8c515a2058fc4c374ea7","modified":1451905989000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","shasum":"4303776991ef28f5742ca51c7dffe6f12f0acf34","modified":1451905989000},{"_id":"themes/next/source/css/_schemes/default/_logo.styl","shasum":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1451905989000},{"_id":"themes/next/source/css/_schemes/default/_menu.styl","shasum":"4bba29cece65ffc5122f4e052063dea4439fe4ae","modified":1451905989000},{"_id":"themes/next/source/css/_variables/Mist.styl","shasum":"9f8791860cc1ca724d2dfe609e8cd6abc44d6926","modified":1451905989000},{"_id":"themes/next/source/css/_schemes/default/_search.styl","shasum":"c524bccdc554349106d1c8be9c3f275d4c0d4281","modified":1451905989000},{"_id":"themes/next/source/css/_variables/base.styl","shasum":"f532d6b0f961a8f3867c06e132233286f110180d","modified":1451905989000},{"_id":"themes/next/source/css/_schemes/default/index.styl","shasum":"159464cb8a7e01e32db9ec70dec391ec70a72f9c","modified":1451905989000},{"_id":"themes/next/source/css/main.styl","shasum":"56dacee56c5eaa4b2676d196452314fb50f758aa","modified":1451905989000},{"_id":"themes/next/source/css/_variables/default.styl","shasum":"8ec3307fe42d738b1bbda4b6419d0995f5560222","modified":1451905989000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","shasum":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1451905989000},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","shasum":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1451905989000},{"_id":"themes/next/source/images/cc-by-nc.svg","shasum":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1451905989000},{"_id":"themes/next/source/images/cc-by-nd.svg","shasum":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1451905989000},{"_id":"themes/next/source/images/cc-zero.svg","shasum":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1451905989000},{"_id":"themes/next/source/images/loading.gif","shasum":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1451905989000},{"_id":"themes/next/source/images/cc-by.svg","shasum":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1451905989000},{"_id":"themes/next/source/images/cc-by-sa.svg","shasum":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1451905989000},{"_id":"themes/next/source/images/placeholder.gif","shasum":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1451905989000},{"_id":"themes/next/source/images/quote-l.svg","shasum":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1451905989000},{"_id":"themes/next/source/js/bootstrap.js","shasum":"f9b637b6d064f728d7dc2b6b5058a006a4454299","modified":1451905989000},{"_id":"themes/next/source/js/fancy-box.js","shasum":"b5fa638ed371b5f658b0826ec4afee25d9986ef2","modified":1451905989000},{"_id":"themes/next/source/js/helpers.js","shasum":"c15216ef897334362789ba37464298948b2eef95","modified":1451905989000},{"_id":"themes/next/source/images/searchicon.png","shasum":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1451905989000},{"_id":"themes/next/source/js/motion.js","shasum":"b4132517fe499538ad725094593fb7ead8c04bf7","modified":1451905989000},{"_id":"themes/next/source/images/quote-r.svg","shasum":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1451905989000},{"_id":"themes/next/source/js/bootstrap.scrollspy.js","shasum":"ae7bdce88b515aade4eea8bf7407eec458bcd625","modified":1451905989000},{"_id":"themes/next/source/js/hook-duoshuo.js","shasum":"ccb32e0a1acf798337c9697e1aab5484b52f9df4","modified":1451905989000},{"_id":"themes/next/source/js/ua-parser.min.js","shasum":"1148fa2bcb8b2e40c31e5f597bf794a57369a2e6","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/blank.gif","shasum":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading.gif","shasum":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite.png","shasum":"17df19f97628e77be09c352bf27425faea248251","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading@2x.gif","shasum":"273b123496a42ba45c3416adb027cd99745058b0","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_overlay.png","shasum":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","shasum":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite@2x.png","shasum":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","shasum":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/fancybox_buttons.png","shasum":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","shasum":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","shasum":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.css","shasum":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.pack.js","shasum":"53360764b429c212f424399384417ccc233bb3be","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-media.js","shasum":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1451905989000},{"_id":"themes/next/source/vendors/fastclick/README.md","shasum":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1451905989000},{"_id":"themes/next/source/vendors/fastclick/LICENSE","shasum":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1451905989000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.js","shasum":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1451905989000},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.min.js","shasum":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1451905989000},{"_id":"themes/next/source/vendors/font-awesome/HELP-US-OUT.txt","shasum":"69a4c537d167b68a0ccf1c6febd138aeffca60d6","modified":1451905989000},{"_id":"themes/next/source/vendors/fastclick/bower.json","shasum":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1451905989000},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.js","shasum":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1451905989000},{"_id":"themes/next/source/vendors/font-awesome/bower.json","shasum":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1451905989000},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.min.css","shasum":"05ea25bc9b3ac48993e1fee322d3bc94b49a6e22","modified":1451905989000},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css","shasum":"3b87c2560832748cd06f9bfd2fd6ea8edbdae8c7","modified":1451905989000},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css.map","shasum":"0189d278706509412bac4745f96c83984e1d59f4","modified":1451905989000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff2","shasum":"574ea2698c03ae9477db2ea3baf460ee32f1a7ea","modified":1451905989000},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.lazyload.js","shasum":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1451905989000},{"_id":"themes/next/source/vendors/jquery_lazyload/CONTRIBUTING.md","shasum":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1451905989000},{"_id":"themes/next/source/vendors/jquery_lazyload/bower.json","shasum":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1451905989000},{"_id":"themes/next/source/vendors/jquery_lazyload/README.md","shasum":"895d50fa29759af7835256522e9dd7dac597765c","modified":1451905989000},{"_id":"themes/next/source/vendors/velocity/velocity.min.js","shasum":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1451905989000},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.scrollstop.js","shasum":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1451905989000},{"_id":"themes/next/source/vendors/velocity/velocity.ui.min.js","shasum":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1451905989000},{"_id":"themes/next/source/vendors/velocity/bower.json","shasum":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1451905989000},{"_id":"themes/next/test/intern.js","shasum":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1451905989000},{"_id":"themes/next/test/helpers.js","shasum":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1451905989000},{"_id":"themes/next/source/vendors/velocity/velocity.ui.js","shasum":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1451905989000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.eot","shasum":"b3c2f08e73320135b69c23a3908b87a12053a2f6","modified":1451905989000},{"_id":"themes/next/source/vendors/font-awesome/fonts/FontAwesome.otf","shasum":"0112e96f327d413938d37c1693806f468ffdbace","modified":1451905989000},{"_id":"themes/next/source/vendors/jquery/index.js","shasum":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1451905989000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff","shasum":"507970402e328b2baeb05bde73bf9ded4e2c3a2d","modified":1451905989000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.ttf","shasum":"27cf1f2ec59aece6938c7bb2feb0e287ea778ff9","modified":1451905989000},{"_id":"themes/next/source/vendors/velocity/velocity.js","shasum":"e63dc7cea055ca60a95d286f32349d88b10c5a4d","modified":1451905989000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.svg","shasum":"2b3c8ba7008cc014d8fb37abc6f9f49aeda83824","modified":1451905989000}],"Category":[{"name":"æ‚è°ˆ","_id":"cilg4yv6800070uc9bhips80e"},{"name":"æŠ€æœ¯","_id":"cilg4yv6e000a0uc96jflhsfh"}],"Data":[],"Page":[{"_content":"<!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  <meta name=\"robots\" content=\"all\" />\n  <meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homePageUrl=\"your site url \" homePageName=\"å›åˆ°æˆ‘çš„ä¸»é¡µ\"></script>\n\n</body>\n</html>\n","source":"404.html","raw":"<!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  <meta name=\"robots\" content=\"all\" />\n  <meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homePageUrl=\"your site url \" homePageName=\"å›åˆ°æˆ‘çš„ä¸»é¡µ\"></script>\n\n</body>\n</html>\n","date":"2016-01-04T11:08:36.000Z","updated":"2016-01-04T11:08:36.000Z","path":"404.html","title":"","comments":1,"layout":"page","_id":"cilg4yv4t00000uc9592g85lf"},{"title":"åˆ©å™¨","date":"2015-12-11T03:02:26.000Z","type":"tools","_content":"# å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨\nä»‹ç»ä¸€äº›ç¥å™¨\n\n## App\n* å³åˆ» \n\n\n\n## Mac\n* alfred\n* dash\n* iterm+zsh\n\n## [Alfredæ’ä»¶](https://www.zhihu.com/question/20656680)\n* [workflow list](http://alfredworkflow.com/) - æœç´¢å¸¸ç”¨çš„alfred workflowæ’ä»¶ï¼Œwf+ç©ºæ ¼+å…³é”®å­—\n* æœ‰é“è¯å…¸ç¿»è¯‘ - yd+ç©ºæ ¼+å…³é”®å­— \n* [tinyPNG](http://www.waerfa.com/alfred-workflow-collection-compress-pictures-with-tinypng) - é€‰ä¸­æ–‡ä»¶ï¼Œç„¶åæ‰“å¼€alfredï¼Œè¾“å…¥tiny,éœ€è¦å…ˆé…ç½®ã€‚\n* [terminalfinder](http://www.packal.org/workflow/terminalfinder) - å¿«é€Ÿç»ˆç«¯/itermï¼Œfinderåˆ‡æ¢ï¼Œæ³¨æ„å¯¹åº”ç‰ˆæœ¬ã€‚\n* [å…¶ä»–æ¨è](http://sspai.com/32680)\n\n## å‘½ä»¤è¡Œ\n* cheat","source":"tools/index.md","raw":"title: åˆ©å™¨\ndate: 2015-12-11 11:02:26\ntype: \"tools\"\n---\n# å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨\nä»‹ç»ä¸€äº›ç¥å™¨\n\n## App\n* å³åˆ» \n\n\n\n## Mac\n* alfred\n* dash\n* iterm+zsh\n\n## [Alfredæ’ä»¶](https://www.zhihu.com/question/20656680)\n* [workflow list](http://alfredworkflow.com/) - æœç´¢å¸¸ç”¨çš„alfred workflowæ’ä»¶ï¼Œwf+ç©ºæ ¼+å…³é”®å­—\n* æœ‰é“è¯å…¸ç¿»è¯‘ - yd+ç©ºæ ¼+å…³é”®å­— \n* [tinyPNG](http://www.waerfa.com/alfred-workflow-collection-compress-pictures-with-tinypng) - é€‰ä¸­æ–‡ä»¶ï¼Œç„¶åæ‰“å¼€alfredï¼Œè¾“å…¥tiny,éœ€è¦å…ˆé…ç½®ã€‚\n* [terminalfinder](http://www.packal.org/workflow/terminalfinder) - å¿«é€Ÿç»ˆç«¯/itermï¼Œfinderåˆ‡æ¢ï¼Œæ³¨æ„å¯¹åº”ç‰ˆæœ¬ã€‚\n* [å…¶ä»–æ¨è](http://sspai.com/32680)\n\n## å‘½ä»¤è¡Œ\n* cheat","updated":"2016-02-02T06:21:37.000Z","path":"tools/index.html","comments":1,"layout":"page","_id":"cilg4yv5j00010uc9etnvcayw"},{"title":"tags","date":"2015-12-11T02:59:14.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"title: tags\ndate: 2015-12-11 10:59:14\ntype: \"tags\"\ncomments: false\n---\n","updated":"2016-01-04T11:08:36.000Z","path":"tags/index.html","layout":"page","_id":"cilg4yv5m00020uc9pldlap3t"},{"title":"é˜…è¯»","date":"2016-01-04T03:17:02.000Z","_content":"# About Read\nåˆ†äº«ä¸€äº›ä¹¦ç±å’Œé˜…è¯»èµ„æº\n\n\n# åšå®¢\n* [Androidå¼€å‘æŠ€æœ¯å‘¨æŠ¥](http://www.androidweekly.cn)\n\n# å¾®ä¿¡å…¬ä¼—å·\n* å­¦ä¹ å­¦ä¹ å†å­¦ä¹ \n\n# ç½‘ç«™\n\n* ã€ã€‘","source":"read/index.md","raw":"title: é˜…è¯»\ndate: 2016-01-04 11:17:02\n---\n# About Read\nåˆ†äº«ä¸€äº›ä¹¦ç±å’Œé˜…è¯»èµ„æº\n\n\n# åšå®¢\n* [Androidå¼€å‘æŠ€æœ¯å‘¨æŠ¥](http://www.androidweekly.cn)\n\n# å¾®ä¿¡å…¬ä¼—å·\n* å­¦ä¹ å­¦ä¹ å†å­¦ä¹ \n\n# ç½‘ç«™\n\n* ã€ã€‘","updated":"2016-01-04T11:54:12.000Z","path":"read/index.html","comments":1,"layout":"page","_id":"cilg4yv5o00030uc9sxwkuaoo"},{"title":"categories","date":"2015-12-11T03:02:26.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"title: categories\ndate: 2015-12-11 11:02:26\ntype: \"categories\"\ncomments: false\n---\n","updated":"2016-01-04T11:08:36.000Z","path":"categories/index.html","layout":"page","_id":"cilg4yv5u00040uc9owxve35m"},{"title":"about","date":"2016-01-04T03:17:02.000Z","_content":"# About Me\n\n\n# æ„Ÿå…´è¶£çš„æŠ€æœ¯\n* RxJavaï¼šæµè¡Œçš„å¼€å‘æ¡†æ¶ï¼Œé€‚åº”é«˜æ€§èƒ½appçš„å¼€å‘è¶‹åŠ¿\n* ReactNativeï¼šä¸€ç§æœ‰å‰é€”çš„appè·¨å¹³å°æ–¹æ¡ˆ\n* Fluxï¼šFbæå‡ºçš„å•å‘æ•°æ®æµå¼€å‘æ€æƒ³\n* MVP MVVMï¼šAndroidå¼€å‘å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼","source":"about/index.md","raw":"title: about\ndate: 2016-01-04 11:17:02\n---\n# About Me\n\n\n# æ„Ÿå…´è¶£çš„æŠ€æœ¯\n* RxJavaï¼šæµè¡Œçš„å¼€å‘æ¡†æ¶ï¼Œé€‚åº”é«˜æ€§èƒ½appçš„å¼€å‘è¶‹åŠ¿\n* ReactNativeï¼šä¸€ç§æœ‰å‰é€”çš„appè·¨å¹³å°æ–¹æ¡ˆ\n* Fluxï¼šFbæå‡ºçš„å•å‘æ•°æ®æµå¼€å‘æ€æƒ³\n* MVP MVVMï¼šAndroidå¼€å‘å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼","updated":"2016-01-10T04:28:47.000Z","path":"about/index.html","comments":1,"layout":"page","_id":"cilg4yv5x00050uc9jf0wwna3"}],"Post":[{"title":"æ˜¯æ—¶å€™å¼€å§‹å†™åšå®¢äº†","date":"2016-01-04T06:03:30.000Z","_content":"## å¼€å†™å’¯\næ–°çš„ä¸€å¹´åˆå¼€å§‹å•¦ï¼Œå’Œå»å¹´ä¸€æ ·ï¼Œæ¯å¹´éƒ½è¦åšä¸€ä»¶æœ‰ä»·å€¼çš„äº‹æƒ…ã€‚\nè¯è¯´å†™åšå®¢çœŸçš„è®¡åˆ’äº†å¥½ä¹…ï¼Œä¸€ç›´éƒ½åœ¨è®¡åˆ’ingï¼Œä¼¼ä¹å¯ä»¥å†™ä¸€ä¸ªå¤§çºªäº‹äº†ã€‚å¥½å§ï¼Œæˆ‘æ‰¿è®¤è¿™æ˜¯æ‹–å»¶ç—‡æ™šæœŸã€‚\n\n## å¤§çºªäº‹\n\n* 2014-07 åˆšæ¯•ä¸šï¼Œè®¡åˆ’å¼€å§‹å†™åšå®¢ï¼Œå¼€é€šäº†CSDNï¼Œä»…ä»…æ˜¯å¼€é€šäº†ã€‚\n* 2015-06 å’Œæœ‹å‹èŠå¤©ï¼Œå†³å®šè¦å†™åšå®¢ï¼Œä¹°äº†åŸŸå[limuzhi.com](http://www.limuzhi.com)ï¼ŒæŠ˜è…¾äº†å¤‡æ¡ˆé‚£äº›ç ´äº‹ï¼Œè™šæ‹Ÿæœºå’Œwordpressï¼Œå¥½lowï¼Œç„¶åå°±æ²¡æœ‰ç„¶åäº†ã€‚\n* 2015-12 é—²é€›çš„æ—¶å€™å‘ç°å¯ä»¥ç”¨githubæ­å»ºã€‚ä¸€çœ‹node.js && hexo && macdownï¼Œç¬é—´é«˜å¤§ä¸Šï¼ŒèŠ±äº†åŠå¤©é…ç½®å®Œã€‚\n* 2016-01 æ­£å¼å¼€å§‹å†™ï¼Œç›®æ ‡**è‡³å°‘ä¸€å‘¨ä¸€æ›´**ã€‚\n\n## ç›®æ ‡\n\nä»å¤§å­¦å¼€å§‹å°±æœ‰åšç¬”è®°[^1]çš„ä¹ æƒ¯ ï¼Œå¯æƒœå‘ç°ä¸€äº›é—®é¢˜ï¼Œä¸€ä¸ªæ˜¯è‡ªå·±çœ‹çš„ç¬”è®°è´¨é‡æ²¡æœ‰ä¿éšœï¼Œæœ¬ç€ã€å¤§æ¦‚çœ‹æ‡‚ã€å°±è¡Œã€‚å…¶æ¬¡ï¼Œå¾ˆå°‘å›å»å›é¡¾ï¼Œå†™äº†å°±æ”¾é‚£ï¼Œæ²¡æœ‰åç»­æ”¶ç›Šã€‚å¸Œæœ›åœ¨çº¿åšå®¢è¿™ç§\"æ–°æ–¹å¼\"èƒ½å¸¦æ¥ä¸€äº›æ”¹å˜,ä¸‹é¢ç»™è‡ªå·±è®¾å®šä¸€äº›ç›®æ ‡ã€‚\n\n* ä¸€å‘¨ä¸€æ›´ï¼Œä¸€å‘¨ä¸€æ›´ï¼Œä¸€å‘¨ä¸€æ›´ï¼Œé‡è¦çš„äº‹æƒ…è¯´ä¸‰é\n* å¹²è´§\n* ä¿¡è¾¾é›…ã€‚ã€‚ã€‚å°½åŠ›å§\n\n## Enjoy\n\n\n``` java\nSystem.out.println(\"hello world\");\n```\n\n\n\n[^1]: ç”¨wizç¬”è®°ï¼Œç›®å½•+tagçš„æ–¹å¼ï¼Œè®°å½•çš„å¾ˆå¤šä¸”ä¹±ï¼Œè¢«å½“æˆæ”¶è—å¤¹ç”¨äº†ã€‚","source":"_posts/æ˜¯æ—¶å€™å¼€å§‹å†™åšå®¢äº†.md","raw":"title: æ˜¯æ—¶å€™å¼€å§‹å†™åšå®¢äº†\ndate: 2016-01-04 14:03:30\ncategories:\n- æ‚è°ˆ\ntags:  \n---\n## å¼€å†™å’¯\næ–°çš„ä¸€å¹´åˆå¼€å§‹å•¦ï¼Œå’Œå»å¹´ä¸€æ ·ï¼Œæ¯å¹´éƒ½è¦åšä¸€ä»¶æœ‰ä»·å€¼çš„äº‹æƒ…ã€‚\nè¯è¯´å†™åšå®¢çœŸçš„è®¡åˆ’äº†å¥½ä¹…ï¼Œä¸€ç›´éƒ½åœ¨è®¡åˆ’ingï¼Œä¼¼ä¹å¯ä»¥å†™ä¸€ä¸ªå¤§çºªäº‹äº†ã€‚å¥½å§ï¼Œæˆ‘æ‰¿è®¤è¿™æ˜¯æ‹–å»¶ç—‡æ™šæœŸã€‚\n\n## å¤§çºªäº‹\n\n* 2014-07 åˆšæ¯•ä¸šï¼Œè®¡åˆ’å¼€å§‹å†™åšå®¢ï¼Œå¼€é€šäº†CSDNï¼Œä»…ä»…æ˜¯å¼€é€šäº†ã€‚\n* 2015-06 å’Œæœ‹å‹èŠå¤©ï¼Œå†³å®šè¦å†™åšå®¢ï¼Œä¹°äº†åŸŸå[limuzhi.com](http://www.limuzhi.com)ï¼ŒæŠ˜è…¾äº†å¤‡æ¡ˆé‚£äº›ç ´äº‹ï¼Œè™šæ‹Ÿæœºå’Œwordpressï¼Œå¥½lowï¼Œç„¶åå°±æ²¡æœ‰ç„¶åäº†ã€‚\n* 2015-12 é—²é€›çš„æ—¶å€™å‘ç°å¯ä»¥ç”¨githubæ­å»ºã€‚ä¸€çœ‹node.js && hexo && macdownï¼Œç¬é—´é«˜å¤§ä¸Šï¼ŒèŠ±äº†åŠå¤©é…ç½®å®Œã€‚\n* 2016-01 æ­£å¼å¼€å§‹å†™ï¼Œç›®æ ‡**è‡³å°‘ä¸€å‘¨ä¸€æ›´**ã€‚\n\n## ç›®æ ‡\n\nä»å¤§å­¦å¼€å§‹å°±æœ‰åšç¬”è®°[^1]çš„ä¹ æƒ¯ ï¼Œå¯æƒœå‘ç°ä¸€äº›é—®é¢˜ï¼Œä¸€ä¸ªæ˜¯è‡ªå·±çœ‹çš„ç¬”è®°è´¨é‡æ²¡æœ‰ä¿éšœï¼Œæœ¬ç€ã€å¤§æ¦‚çœ‹æ‡‚ã€å°±è¡Œã€‚å…¶æ¬¡ï¼Œå¾ˆå°‘å›å»å›é¡¾ï¼Œå†™äº†å°±æ”¾é‚£ï¼Œæ²¡æœ‰åç»­æ”¶ç›Šã€‚å¸Œæœ›åœ¨çº¿åšå®¢è¿™ç§\"æ–°æ–¹å¼\"èƒ½å¸¦æ¥ä¸€äº›æ”¹å˜,ä¸‹é¢ç»™è‡ªå·±è®¾å®šä¸€äº›ç›®æ ‡ã€‚\n\n* ä¸€å‘¨ä¸€æ›´ï¼Œä¸€å‘¨ä¸€æ›´ï¼Œä¸€å‘¨ä¸€æ›´ï¼Œé‡è¦çš„äº‹æƒ…è¯´ä¸‰é\n* å¹²è´§\n* ä¿¡è¾¾é›…ã€‚ã€‚ã€‚å°½åŠ›å§\n\n## Enjoy\n\n\n``` java\nSystem.out.println(\"hello world\");\n```\n\n\n\n[^1]: ç”¨wizç¬”è®°ï¼Œç›®å½•+tagçš„æ–¹å¼ï¼Œè®°å½•çš„å¾ˆå¤šä¸”ä¹±ï¼Œè¢«å½“æˆæ”¶è—å¤¹ç”¨äº†ã€‚","slug":"æ˜¯æ—¶å€™å¼€å§‹å†™åšå®¢äº†","published":1,"updated":"2016-01-04T11:08:36.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cilg4yv6300060uc9kcrde9w6","sticky":0},{"title":"æŠ¢çº¢åŒ…æ’ä»¶åˆ†æä»¥åŠåº”ç”¨","date":"2016-01-17T08:07:44.000Z","_content":"ä¸´è¿‘æ˜¥èŠ‚ï¼Œç¾¤é‡Œçš„çº¢åŒ…åˆå¤šäº†ï¼ˆä¹Ÿè®¸ä»…ä»…æ˜¯ç¾¤å¤šäº†ï¼‰ï¼Œç”±äºæµè¡Œäº†å„ç§æŠ¢çº¢åŒ…æ’ä»¶ï¼Œçº¢åŒ…åŸºæœ¬æ˜¯ç§’æ²¡çš„èŠ‚å¥ã€‚åœ¨å¥½å¥‡å¿ƒçš„é©±ä½¿ä¸‹ç ”ç©¶äº†ä¸€ä¸‹æŠ¢çº¢åŒ…æ’ä»¶çš„åŸç†ï¼Œå‘ç°æ—¢ç®€å•åˆå¾ˆæœ‰æ„æ€ã€‚è¿˜èƒ½ç”¨æ¥å¹²äº›å…¶ä»–ç¾ç¾çš„äº‹æƒ…ğŸ˜‰ã€‚ã€‚\n\n> å‚è€ƒGithubé¡¹ç›®æºç   [å¾®ä¿¡æŠ¢çº¢åŒ…æ’ä»¶](https://github.com/geeeeeeeeek/WeChatLuckyMoney)\n\n## åŸºæœ¬åŸç†\n\nåœ¨æ²¡æœ‰çœ‹Githubä¸Šçš„å®ç°çš„æ—¶å€™ï¼Œæˆ‘å¤©çœŸåœ°ä»¥ä¸ºè¿™ç§æ’ä»¶çš„åŸç†ç±»ä¼¼äºPCå¹³å°ä¸Šçš„æŒ‰é”®ç²¾çµï¼ˆAndroidç‰ˆä¹Ÿæœ‰ï¼‰ï¼Œæˆ–è€…ä¸€äº›æµ‹è¯•åŒ–å·¥å…·ã€‚è¿™ä¸€ç±»è½¯ä»¶å®ç°èµ·æ¥åº”å½“æ¯”è¾ƒå¤æ‚ï¼ŒToo Yang Too Simpleã€‚Androidå·²ç»æä¾›äº†å®Œå¤‡çš„ç³»ç»Ÿã€‚\n> AccessibilityService æœåŠ¡ï¼ˆServiceï¼‰ï¼Œåˆè¡·æ˜¯ç”¨äºè¾…åŠ©æœåŠ¡ï¼Œæ€»ä¹‹å®ƒçš„**åŠŸèƒ½æ˜¯æ ¹æ®ç”¨æˆ·çš„ä¸€äº›æ“ä½œç»™ç”¨æˆ·ç›¸åº”çš„æç¤º**ï¼Œå¦‚ç»™æ®‹ç–¾äººè‡ªåŠ¨è¯»å‡ºé€‰æ‹©çš„æ–‡å­—ã€‚\n\næˆ‘ä»¬éœ€è¦åšçš„æ˜¯\n1. ç»§æ‰¿AccessibilityServiceï¼Œå†™è‡ªå®šä¹‰çš„è¾…åŠ©æœåŠ¡\n2. å½“ç”¨æˆ·Appçš„ç•Œé¢å‘é€å˜åŒ–æ—¶ï¼Œä¼šè§¦å‘Serviceçš„ç›¸å…³å›è°ƒï¼Œåœ¨è¯¥å›è°ƒä¸­å¯ä»¥è·å–**å½“å‰ç•Œé¢ä¸­çš„UIç•Œé¢å…ƒç´ èŠ‚ç‚¹**ï¼ˆä¸æ˜¯viewæœ¬èº«ï¼Œæ˜¯å®ƒçš„ä¸€ä¸ªæ˜ å°„è€Œä¸”å¯èƒ½ä¸æ˜¯ä¸€ä¸€æ˜ å°„ï¼‰ã€‚\n3. æ ¹æ®**å…³é”®å­—/å…ƒç´ id**æŸ¥æ‰¾éœ€è¦çš„viewï¼Œå¤„ç†ä¹‹,å¦‚æ¨¡æ‹Ÿç‚¹å‡»ã€‚\n4. done\n\n## æºç åˆ†æ\n\n### å­¦ä¹ AccessibilityService\nå®˜æ–¹æ–‡æ¡£ä¸¤ç¯‡æ–‡ç« é€šè¯»ä¹‹ [Android Train](http://developer.android.com/intl/zh-cn/training/accessibility/service.html) && [Android APIæŒ‡å—](http://developer.android.com/intl/zh-cn/guide/topics/ui/accessibility/services.html)\nä¸­æ–‡å¯ä»¥å­¦ä¹ çš„æ–‡ç«  [Androidä¸­å¾®ä¿¡æŠ¢çº¢åŒ…æ’ä»¶åŸç†è§£æå’Œå¼€å‘å®ç°](http://blog.csdn.net/jiangwei0910410003/article/details/48895153)\n\n### å…³é”®API\n* Serviceé…ç½®\n\n```xml\n<!--è‡ªå®šä¹‰çš„æœåŠ¡å’ŒæŒ‡å®šé…ç½®æ–‡ä»¶res/xml/accessible_service_config.xml-->\n<service\n            android:name=\".HongbaoService\"\n            android:permission=\"android.permission.BIND_ACCESSIBILITY_SERVICE\">\n            <intent-filter>\n                <action android:name=\"android.accessibilityservice.AccessibilityService\"/>\n            </intent-filter>\n            <meta-data android:name=\"android.accessibilityservice\"\n                       android:resource=\"@xml/accessible_service_config\"/>\n</service>\n```\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<accessibility-service\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:description=\"@string/app_name\"\n    android:accessibilityEventTypes=\"typeWindowStateChanged|typeWindowContentChanged\"\n    android:accessibilityFeedbackType=\"feedbackAllMask\"\n    android:packageNames=\"com.tencent.mm\"\n    android:notificationTimeout=\"10\"\n    android:accessibilityFlags=\"\"\n    android:canRetrieveWindowContent=\"true\"/>\n```\n> android:packageNames=\"com.tencent.mm\" æŒ‡å®šè¦ç›‘å¬çš„ç¨‹åºçš„åŒ…å\n> android:canRetrieveWindowContent=\"true\" å¯ä»¥è·å–å…·ä½“çš„å†…å®¹\n> android:accessibilityEventTypes ç›‘å¬çš„äº‹ä»¶\n> android:accessibilityFeedbackType=\"feedbackAllMask\" è®¾ç½®åé¦ˆäº‹ä»¶ï¼ˆå¦‚æŒ¯åŠ¨ä¸€ä¸‹æç¤ºç”¨æˆ·ï¼‰ï¼Œè¿™é‡Œæ˜¯å±è”½æ‰€æœ‰åé¦ˆã€‚\n\n* Serviveå›è°ƒ\n\n```Java\n public void onAccessibilityEvent(AccessibilityEvent event) {\n // å›è°ƒ\n }\n```\n* èŠ‚ç‚¹æŸ¥æ‰¾\n\n```Java \n// è·å–æ‰€æœ‰é˜¶æ®µ\nAccessibilityNodeInfo nodeInfo = event.getSource();\n// æŸ¥æ‰¾æ‰€æœ‰æœ‰\"é¢†å–çº¢åŒ…\"çš„View\nList<AccessibilityNodeInfo> node1 = nodeInfo.findAccessibilityNodeInfosByText(\"é¢†å–çº¢åŒ…\");\n// æŸ¥æ‰¾æ‰€æœ‰idæ˜¯com.tencent.mm:id/ar6\nList<AccessibilityNodeInfo> node2 = nodeInfo.findAccessibilityNodeInfosByViewId(\"com.tencent.mm:id/ar6\");\n```\næ³¨ï¼šå¯ä»¥é€šè¿‡DDMSé‡Œçš„Dump View Hierarchy For UI Automator åˆ†æUIç»“æ„æ¥è·å–id\n\n* å‡ºå‘æ“ä½œ\n\n```Java\n// å¯¹æŸä¸ªèŠ‚ç‚¹æ“ä½œ\ncellNode.performAction(AccessibilityNodeInfo.ACTION_CLICK);\n// æŒ‰ä¸‹æ‰‹æœºçš„åé€€é”®\nperformGlobalAction(GLOBAL_ACTION_BACK);\n```\n* å¯åŠ¨Accessibilityçš„ç³»ç»Ÿè®¾ç½®ç•Œé¢ï¼Œéœ€è¦ç”¨æˆ·æ‰‹åŠ¨æ‰“å¼€æœåŠ¡\n\n```Java\nIntent intent =\n            new Intent(Settings.ACTION_ACCESSIBILITY_SETTINGS);\nstartActivity(intent);\n```\n\n### å‡ ä¸ªæ³¨æ„ç‚¹\n* AccessibilityService å»ºè®®åœ¨Android4.0ä»¥åŠä»¥ä¸Šç‰ˆæœ¬ä¸­ä½¿ç”¨ï¼Œä¹Ÿæœ‰support_v4 å‘ä¸‹å…¼å®¹ã€‚\n* Servicesé…ç½®å¯ä»¥é€šè¿‡xmlé…ç½®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä»£ç é…ç½®\n* **ä¸åŒç³»ç»Ÿçš„Apiå¯èƒ½ç»“æœä¸åŒ**ï¼ˆå¦‚API16ï¼‰ï¼Œå¦‚æŸ¥æ‰¾ä¸åˆ°ä¸€äº›å…ƒç´ \n\n> In Android 4.1 (API Level 16) and higher, the getSource() method, as well as AccessibilityNodeInfo.getChild() and getParent(), return only view objects that are considered important for accessibility (views that draw content or respond to user actions). If your service requires all views, it can request them by setting the flags member of the service's AccessibilityServiceInfo instance to **FLAG_INCLUDE_NOT_IMPORTANT_VIEWS**\n\n* AccessibilityNodeå¯èƒ½æœ‰ä¸€ä¸ªå®ä¾‹æ± çš„è®¾è®¡ã€‚è·å–å½“å‰çª—ä½“èŠ‚ç‚¹æ ‘çš„æ—¶å€™ï¼Œä»ä¸€ä¸ªå¯é‡ç”¨çš„å®ä¾‹æ± ä¸­è·å–ä¸€ä¸ªè¾…åŠ©èŠ‚ç‚¹ä¿¡æ¯ (AccessibilityNodeInfo)å®ä¾‹ã€‚åœ¨æ¥ä¸‹æ¥çš„è·å–æ—¶ï¼Œä»ç„¶ä»å®ä¾‹æ± ä¸­è·å–èŠ‚ç‚¹å®ä¾‹ï¼Œè¿™æ—¶å¯èƒ½ä¼šé‡ç”¨ä¹‹å‰çš„å®ä¾‹ã€‚è¿™æ ·çš„è®¾è®¡æ˜¯æœ‰å¥½å¤„çš„ï¼Œå¯ä»¥é˜²æ­¢æ¯æ¬¡è¿”å›éƒ½åˆ›å»ºå¤§é‡çš„å®ä¾‹ï¼Œå½±å“æ€§èƒ½ã€‚AccessibilityNodeProviderçš„æºç è¡¨æ˜äº†è¿™æ ·çš„è®¾è®¡ã€‚\n\n\n### æŠ¢çº¢åŒ…\n\n[å¾®ä¿¡æŠ¢çº¢åŒ…æ’ä»¶](https://github.com/geeeeeeeeek/WeChatLuckyMoney)çš„devåˆ†æ”¯çš„é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼ˆå‚è€ƒå·¥ç¨‹çš„READMEæ–‡ä»¶ï¼Œè‡´åŠ›äºåŒºåˆ†å„ç§çŠ¶æ€å’Œä¸é‡å¤æŠ¢ç›¸åŒçº¢åŒ…ï¼‰ï¼Œå®æµ‹ä¸ç¨³å®šï¼Œ**stableåˆ†æ”¯é€»è¾‘æ¯”è¾ƒç®€å•ä¹Ÿè¾ƒç¨³å®š**ã€‚å…·ä½“ä»£ç å°±ä¸è¯´äº†ã€‚\n\n## Do Something\næŠ¢çº¢åŒ…æ’ä»¶ç½‘ä¸Šæœ‰å¾ˆå¤šå®ç°ï¼Œæˆ‘æ‰€è§çš„éƒ½æ˜¯ç”¨AccessibilityServiceæ¥åšçš„ã€‚ç”¨è¿™ä¸ªServiceçš„ç¡®å¯ä»¥åšä¸€äº›æœ‰è¶£çš„äº‹æƒ…ï¼Œæ‰“ç®—åœ¨åç»­é˜¶æ®µç”¨è¿™ä¸ªåŸç†**å†™ä¸€ä¸ªå¾®ä¿¡è‡ªåŠ¨èŠå¤©ç¨‹åº**ï¼Œå½“ç„¶æ˜¯è¦å»ºç«‹åœ¨è‡ªå·±æ­å»ºçš„æ¡†æ¶ä¹‹ä¸Šçš„ã€‚\n\n","source":"_posts/æŠ¢çº¢åŒ…æ’ä»¶åˆ†æä»¥åŠåº”ç”¨.md","raw":"title: æŠ¢çº¢åŒ…æ’ä»¶åˆ†æä»¥åŠåº”ç”¨\ndate: 2016-01-17 16:07:44\ncategories:\n- æŠ€æœ¯\ntags:\n- Android\n- å…¶ä»–\n---\nä¸´è¿‘æ˜¥èŠ‚ï¼Œç¾¤é‡Œçš„çº¢åŒ…åˆå¤šäº†ï¼ˆä¹Ÿè®¸ä»…ä»…æ˜¯ç¾¤å¤šäº†ï¼‰ï¼Œç”±äºæµè¡Œäº†å„ç§æŠ¢çº¢åŒ…æ’ä»¶ï¼Œçº¢åŒ…åŸºæœ¬æ˜¯ç§’æ²¡çš„èŠ‚å¥ã€‚åœ¨å¥½å¥‡å¿ƒçš„é©±ä½¿ä¸‹ç ”ç©¶äº†ä¸€ä¸‹æŠ¢çº¢åŒ…æ’ä»¶çš„åŸç†ï¼Œå‘ç°æ—¢ç®€å•åˆå¾ˆæœ‰æ„æ€ã€‚è¿˜èƒ½ç”¨æ¥å¹²äº›å…¶ä»–ç¾ç¾çš„äº‹æƒ…ğŸ˜‰ã€‚ã€‚\n\n> å‚è€ƒGithubé¡¹ç›®æºç   [å¾®ä¿¡æŠ¢çº¢åŒ…æ’ä»¶](https://github.com/geeeeeeeeek/WeChatLuckyMoney)\n\n## åŸºæœ¬åŸç†\n\nåœ¨æ²¡æœ‰çœ‹Githubä¸Šçš„å®ç°çš„æ—¶å€™ï¼Œæˆ‘å¤©çœŸåœ°ä»¥ä¸ºè¿™ç§æ’ä»¶çš„åŸç†ç±»ä¼¼äºPCå¹³å°ä¸Šçš„æŒ‰é”®ç²¾çµï¼ˆAndroidç‰ˆä¹Ÿæœ‰ï¼‰ï¼Œæˆ–è€…ä¸€äº›æµ‹è¯•åŒ–å·¥å…·ã€‚è¿™ä¸€ç±»è½¯ä»¶å®ç°èµ·æ¥åº”å½“æ¯”è¾ƒå¤æ‚ï¼ŒToo Yang Too Simpleã€‚Androidå·²ç»æä¾›äº†å®Œå¤‡çš„ç³»ç»Ÿã€‚\n> AccessibilityService æœåŠ¡ï¼ˆServiceï¼‰ï¼Œåˆè¡·æ˜¯ç”¨äºè¾…åŠ©æœåŠ¡ï¼Œæ€»ä¹‹å®ƒçš„**åŠŸèƒ½æ˜¯æ ¹æ®ç”¨æˆ·çš„ä¸€äº›æ“ä½œç»™ç”¨æˆ·ç›¸åº”çš„æç¤º**ï¼Œå¦‚ç»™æ®‹ç–¾äººè‡ªåŠ¨è¯»å‡ºé€‰æ‹©çš„æ–‡å­—ã€‚\n\næˆ‘ä»¬éœ€è¦åšçš„æ˜¯\n1. ç»§æ‰¿AccessibilityServiceï¼Œå†™è‡ªå®šä¹‰çš„è¾…åŠ©æœåŠ¡\n2. å½“ç”¨æˆ·Appçš„ç•Œé¢å‘é€å˜åŒ–æ—¶ï¼Œä¼šè§¦å‘Serviceçš„ç›¸å…³å›è°ƒï¼Œåœ¨è¯¥å›è°ƒä¸­å¯ä»¥è·å–**å½“å‰ç•Œé¢ä¸­çš„UIç•Œé¢å…ƒç´ èŠ‚ç‚¹**ï¼ˆä¸æ˜¯viewæœ¬èº«ï¼Œæ˜¯å®ƒçš„ä¸€ä¸ªæ˜ å°„è€Œä¸”å¯èƒ½ä¸æ˜¯ä¸€ä¸€æ˜ å°„ï¼‰ã€‚\n3. æ ¹æ®**å…³é”®å­—/å…ƒç´ id**æŸ¥æ‰¾éœ€è¦çš„viewï¼Œå¤„ç†ä¹‹,å¦‚æ¨¡æ‹Ÿç‚¹å‡»ã€‚\n4. done\n\n## æºç åˆ†æ\n\n### å­¦ä¹ AccessibilityService\nå®˜æ–¹æ–‡æ¡£ä¸¤ç¯‡æ–‡ç« é€šè¯»ä¹‹ [Android Train](http://developer.android.com/intl/zh-cn/training/accessibility/service.html) && [Android APIæŒ‡å—](http://developer.android.com/intl/zh-cn/guide/topics/ui/accessibility/services.html)\nä¸­æ–‡å¯ä»¥å­¦ä¹ çš„æ–‡ç«  [Androidä¸­å¾®ä¿¡æŠ¢çº¢åŒ…æ’ä»¶åŸç†è§£æå’Œå¼€å‘å®ç°](http://blog.csdn.net/jiangwei0910410003/article/details/48895153)\n\n### å…³é”®API\n* Serviceé…ç½®\n\n```xml\n<!--è‡ªå®šä¹‰çš„æœåŠ¡å’ŒæŒ‡å®šé…ç½®æ–‡ä»¶res/xml/accessible_service_config.xml-->\n<service\n            android:name=\".HongbaoService\"\n            android:permission=\"android.permission.BIND_ACCESSIBILITY_SERVICE\">\n            <intent-filter>\n                <action android:name=\"android.accessibilityservice.AccessibilityService\"/>\n            </intent-filter>\n            <meta-data android:name=\"android.accessibilityservice\"\n                       android:resource=\"@xml/accessible_service_config\"/>\n</service>\n```\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<accessibility-service\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:description=\"@string/app_name\"\n    android:accessibilityEventTypes=\"typeWindowStateChanged|typeWindowContentChanged\"\n    android:accessibilityFeedbackType=\"feedbackAllMask\"\n    android:packageNames=\"com.tencent.mm\"\n    android:notificationTimeout=\"10\"\n    android:accessibilityFlags=\"\"\n    android:canRetrieveWindowContent=\"true\"/>\n```\n> android:packageNames=\"com.tencent.mm\" æŒ‡å®šè¦ç›‘å¬çš„ç¨‹åºçš„åŒ…å\n> android:canRetrieveWindowContent=\"true\" å¯ä»¥è·å–å…·ä½“çš„å†…å®¹\n> android:accessibilityEventTypes ç›‘å¬çš„äº‹ä»¶\n> android:accessibilityFeedbackType=\"feedbackAllMask\" è®¾ç½®åé¦ˆäº‹ä»¶ï¼ˆå¦‚æŒ¯åŠ¨ä¸€ä¸‹æç¤ºç”¨æˆ·ï¼‰ï¼Œè¿™é‡Œæ˜¯å±è”½æ‰€æœ‰åé¦ˆã€‚\n\n* Serviveå›è°ƒ\n\n```Java\n public void onAccessibilityEvent(AccessibilityEvent event) {\n // å›è°ƒ\n }\n```\n* èŠ‚ç‚¹æŸ¥æ‰¾\n\n```Java \n// è·å–æ‰€æœ‰é˜¶æ®µ\nAccessibilityNodeInfo nodeInfo = event.getSource();\n// æŸ¥æ‰¾æ‰€æœ‰æœ‰\"é¢†å–çº¢åŒ…\"çš„View\nList<AccessibilityNodeInfo> node1 = nodeInfo.findAccessibilityNodeInfosByText(\"é¢†å–çº¢åŒ…\");\n// æŸ¥æ‰¾æ‰€æœ‰idæ˜¯com.tencent.mm:id/ar6\nList<AccessibilityNodeInfo> node2 = nodeInfo.findAccessibilityNodeInfosByViewId(\"com.tencent.mm:id/ar6\");\n```\næ³¨ï¼šå¯ä»¥é€šè¿‡DDMSé‡Œçš„Dump View Hierarchy For UI Automator åˆ†æUIç»“æ„æ¥è·å–id\n\n* å‡ºå‘æ“ä½œ\n\n```Java\n// å¯¹æŸä¸ªèŠ‚ç‚¹æ“ä½œ\ncellNode.performAction(AccessibilityNodeInfo.ACTION_CLICK);\n// æŒ‰ä¸‹æ‰‹æœºçš„åé€€é”®\nperformGlobalAction(GLOBAL_ACTION_BACK);\n```\n* å¯åŠ¨Accessibilityçš„ç³»ç»Ÿè®¾ç½®ç•Œé¢ï¼Œéœ€è¦ç”¨æˆ·æ‰‹åŠ¨æ‰“å¼€æœåŠ¡\n\n```Java\nIntent intent =\n            new Intent(Settings.ACTION_ACCESSIBILITY_SETTINGS);\nstartActivity(intent);\n```\n\n### å‡ ä¸ªæ³¨æ„ç‚¹\n* AccessibilityService å»ºè®®åœ¨Android4.0ä»¥åŠä»¥ä¸Šç‰ˆæœ¬ä¸­ä½¿ç”¨ï¼Œä¹Ÿæœ‰support_v4 å‘ä¸‹å…¼å®¹ã€‚\n* Servicesé…ç½®å¯ä»¥é€šè¿‡xmlé…ç½®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä»£ç é…ç½®\n* **ä¸åŒç³»ç»Ÿçš„Apiå¯èƒ½ç»“æœä¸åŒ**ï¼ˆå¦‚API16ï¼‰ï¼Œå¦‚æŸ¥æ‰¾ä¸åˆ°ä¸€äº›å…ƒç´ \n\n> In Android 4.1 (API Level 16) and higher, the getSource() method, as well as AccessibilityNodeInfo.getChild() and getParent(), return only view objects that are considered important for accessibility (views that draw content or respond to user actions). If your service requires all views, it can request them by setting the flags member of the service's AccessibilityServiceInfo instance to **FLAG_INCLUDE_NOT_IMPORTANT_VIEWS**\n\n* AccessibilityNodeå¯èƒ½æœ‰ä¸€ä¸ªå®ä¾‹æ± çš„è®¾è®¡ã€‚è·å–å½“å‰çª—ä½“èŠ‚ç‚¹æ ‘çš„æ—¶å€™ï¼Œä»ä¸€ä¸ªå¯é‡ç”¨çš„å®ä¾‹æ± ä¸­è·å–ä¸€ä¸ªè¾…åŠ©èŠ‚ç‚¹ä¿¡æ¯ (AccessibilityNodeInfo)å®ä¾‹ã€‚åœ¨æ¥ä¸‹æ¥çš„è·å–æ—¶ï¼Œä»ç„¶ä»å®ä¾‹æ± ä¸­è·å–èŠ‚ç‚¹å®ä¾‹ï¼Œè¿™æ—¶å¯èƒ½ä¼šé‡ç”¨ä¹‹å‰çš„å®ä¾‹ã€‚è¿™æ ·çš„è®¾è®¡æ˜¯æœ‰å¥½å¤„çš„ï¼Œå¯ä»¥é˜²æ­¢æ¯æ¬¡è¿”å›éƒ½åˆ›å»ºå¤§é‡çš„å®ä¾‹ï¼Œå½±å“æ€§èƒ½ã€‚AccessibilityNodeProviderçš„æºç è¡¨æ˜äº†è¿™æ ·çš„è®¾è®¡ã€‚\n\n\n### æŠ¢çº¢åŒ…\n\n[å¾®ä¿¡æŠ¢çº¢åŒ…æ’ä»¶](https://github.com/geeeeeeeeek/WeChatLuckyMoney)çš„devåˆ†æ”¯çš„é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼ˆå‚è€ƒå·¥ç¨‹çš„READMEæ–‡ä»¶ï¼Œè‡´åŠ›äºåŒºåˆ†å„ç§çŠ¶æ€å’Œä¸é‡å¤æŠ¢ç›¸åŒçº¢åŒ…ï¼‰ï¼Œå®æµ‹ä¸ç¨³å®šï¼Œ**stableåˆ†æ”¯é€»è¾‘æ¯”è¾ƒç®€å•ä¹Ÿè¾ƒç¨³å®š**ã€‚å…·ä½“ä»£ç å°±ä¸è¯´äº†ã€‚\n\n## Do Something\næŠ¢çº¢åŒ…æ’ä»¶ç½‘ä¸Šæœ‰å¾ˆå¤šå®ç°ï¼Œæˆ‘æ‰€è§çš„éƒ½æ˜¯ç”¨AccessibilityServiceæ¥åšçš„ã€‚ç”¨è¿™ä¸ªServiceçš„ç¡®å¯ä»¥åšä¸€äº›æœ‰è¶£çš„äº‹æƒ…ï¼Œæ‰“ç®—åœ¨åç»­é˜¶æ®µç”¨è¿™ä¸ªåŸç†**å†™ä¸€ä¸ªå¾®ä¿¡è‡ªåŠ¨èŠå¤©ç¨‹åº**ï¼Œå½“ç„¶æ˜¯è¦å»ºç«‹åœ¨è‡ªå·±æ­å»ºçš„æ¡†æ¶ä¹‹ä¸Šçš„ã€‚\n\n","slug":"æŠ¢çº¢åŒ…æ’ä»¶åˆ†æä»¥åŠåº”ç”¨","published":1,"updated":"2016-01-17T09:53:10.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cilg4yv6d00090uc98nobv7vb","sticky":0},{"title":"å§‹å‘ç«™ï¼Œå°†é€šå¾€ä½•å¤„","date":"2016-01-10T04:36:26.000Z","sticky":10,"description":"ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ªç”¨äºç”Ÿäº§ç¯å¢ƒçš„Android Appï¼Œè¦èµ°è¿™äº›è·¯ã€‚è¿™ç¯‡æ–‡ç« æ˜¯åšå®¢çš„æ€»ç›®å½•ï¼Œä¼šæŒç»­æ›´æ–°ã€‚åŒæ—¶ä¹Ÿæ˜¯æˆ‘çš„ä¸€ä¸ªèµ·ç‚¹ï¼Œä¸€äº›æ€è€ƒã€‚ä¼˜å…ˆå†™ä¸€äº›æ„Ÿå…´è¶£çš„æŠ€æœ¯ç‚¹ï¼Œæœ€åå½¢æˆä¸€ä¸ªä½“ç³»ï¼Œå®Œæˆæ„å»ºä¸€ä¸ªå¯æŒç»­æ”¹è¿›çš„ç”¨äºç”Ÿäº§ç¯å¢ƒçš„Appçš„ç›®æ ‡ã€‚å½“ç„¶ä¹Ÿå¯èƒ½æ‰©å±•åˆ°Serverå’ŒIOSçš„å…¶ä»–æ–¹é¢ã€‚","_content":"\nèµ·åºŠï¼Œåƒé¥­ï¼Œå°±åˆ°äº†æ™Œåˆã€‚\nè¿™å‘¨çš„ä»»åŠ¡è¿˜æ²¡æœ‰å®Œæˆï¼Œåœ¨å®¶é‡Œæ€»æ˜¯æ…µæ‡’çš„çŠ¶æ€ï¼Œè½¬å¿µæ¥åˆ°æ¥¼ä¸‹çš„å’–å•¡é¦†--HappyTreeï¼Œèººåœ¨æ²™å‘ä¸Šæ€è€ƒè¿™ä¸ªå¥‡æ€ªçš„é—®é¢˜ã€‚ä¸æƒ³å†™é¸¡æ±¤æˆ–è€…æ„Ÿæ‚Ÿï¼Œä½†æ˜¯è¿™æ–‡é£ä¸å¯¹å•Šï¼\nè¿™æ˜¯ä¸€ç¯‡Guideï¼Œç½—åˆ—**ä¸€äº›æŠ€æœ¯çš„å…´å¥‹ç‚¹**ï¼ˆGç‚¹ï¼Ÿï¼‰ã€‚è™½ç„¶æˆ‘å±äºæ‚ç‰Œå†›ç³»åˆ—ï¼Œä»€ä¹ˆéƒ½æƒ³æä¸€äº›ï¼Œå¯æ˜¯ç°åœ¨è¿˜æ˜¯ä¸“æ³¨äºAndroidæ–¹å‘ã€‚\n\n## åˆ‡å…¥ç‚¹\nä¸ç®¡åœ¨å“ªå·¥ä½œï¼Œä¸€ç›´éƒ½åœ¨æ€è€ƒæˆ–è€…è§‚å¯Ÿè¿™ä¸¤ä¸ªé—®é¢˜\n\n* **å¦‚ä½•æ­å»ºä¸€ä¸ªé«˜æ•ˆçš„å¼€å‘æ¡†æ¶**\n* å¦‚ä½•ç»„å»ºä¸€ä¸ªæœ‰æˆ˜æ–—åŠ›çš„å›¢é˜Ÿ\n\næœ¬æ–‡ä¸»è¦ä»ç¬¬ä¸€ç‚¹æ€è€ƒé—®é¢˜ï¼Œä¸€ä¸ªåˆæ ¼çš„æ¡†æ¶æ˜¯æ€æ ·ç»„æˆçš„ï¼Ÿè°ˆè°ˆæˆ‘ç»å†çš„ä¸¤ä¸ªå›¢é˜Ÿï¼ˆæœ‰æœºä¼šå†™æ–‡ç« ç»†è°ˆï¼‰ï¼Œç¬¬ä¸€å›¢é˜Ÿï¼Œç®€å•è§„èŒƒçš„å¼€å‘æ¡†æ¶ï¼Œå…¥é—¨ç¨‹åºå‘˜ä¹Ÿå¯ä»¥å®Œæˆå¼€å‘ï¼Œç¬¬äºŒä¸ªå›¢é˜Ÿï¼Œé¡¹ç›®å¤ªä¹…ï¼Œæ¡†æ¶å¤ªå¤šå¯¼è‡´æ²¡æœ‰æ¡†æ¶ï¼Œè‡ªç”±å‘æŒ¥ã€‚ç†æ‰€å½“ç„¶åœ°è®¤ä¸ºå‰è€…niubilityï¼Œåè€…å¤ªlowã€‚ä½†æ˜¯åœ¨ç¬¬ä¸€ä¸ªå›¢é˜Ÿæœ‰ä¸€ç§é”™è§‰ï¼ŒæŠ€æœ¯å°±æ˜¯è¿™äº›ä¸œè¥¿ï¼Œæ²¡æœ‰ä»€ä¹ˆå¯ä»¥è¯´çš„äº†ã€‚ç›´åˆ°ç°åœ¨ï¼Œ**å½“è‡ªå·±æ€è€ƒå¦‚ä½•æ„å»ºä¸€ä¸ªæ¡†æ¶çš„æ—¶å€™ï¼Œå‘ç°ä¸–ç•Œå¦‚æ­¤ç²¾å½©ã€‚**\nç”¨æ—¶åˆ»å‡†å¤‡åˆ›ä¸šçš„å¿ƒæ€å»æ€è€ƒå·¥ä½œã€‚æ‰€ä»¥ï¼Œç°åœ¨æˆ‘åœ¨å§‹å‘ç«™ï¼Œæ€»æœ‰ä¸€å¤©ä¼šå¯ç¨‹ã€‚æœ€è¿‘æœ‰ä¸€ç¯‡å¾ˆä¸é”™çš„å¾®ä¿¡å›¢é˜Ÿçš„æ–‡ç« [ã€Šåˆ›ä¸šç å†œçš„ä¸€äº›å»ºè®®ã€‹](https://simpleton.gitbooks.io/sim-tech-note/content/Android/AndroidStartupTutorial.html)ï¼Œæ ¸å¿ƒæ€æƒ³:**\"ä¸è¦é‡å¤å‘æ˜è½®å­\"ï¼Œå½“ç„¶è¿™ä¸æ„å‘³ç€ä¸éœ€è¦çŸ¥é“æ€ä¹ˆåˆ¶é€ è½®å­ã€‚**é‚£ä¹ˆï¼Œçœ‹çœ‹å¦‚ä½•ç”¨è¿™äº›è½®å­æ¥é€ è½¦ã€‚\n\n\n## æ„å»ºä¸€ä¸ªApp\nä¸€ä¸ªå®Œå¤‡çš„appåº”å½“å…·æœ‰è¿™äº›åŸºç¡€èƒ½åŠ›\n\n* ç½‘ç»œèƒ½åŠ›ï¼ˆhttpsã€ä¸‹è½½ã€å‡çº§ç­‰ï¼‰\n* å›¾ç‰‡åº“\n* å¼€å‘æ¡†æ¶ï¼ˆæ¨¡å¼ï¼‰\n* å…¬å…±åº“/æ§ä»¶åº“/å·¥å…·åº“\n* apkæ‰“åŒ…ä¸ç˜¦èº«\n* bugè·Ÿè¸ªæœºåˆ¶/è´¨é‡ä¿è¯\n* ç”¨æˆ·åˆ†æç³»ç»Ÿ\n* æ¨é€æœºåˆ¶/é•¿è¿æ¥æ–¹æ¡ˆ\n* å¯¹å†…è§„èŒƒï¼ˆå·¥ç¨‹ç»“æ„ã€ä»£ç styleç­‰ï¼‰\n* å¯¹å¤–è§„èŒƒï¼ˆæ¥å£è§„èŒƒã€æ²Ÿé€šè§„èŒƒï¼‰\n\n\nä¸€ä¸ªä¼˜ç§€çš„appåº”å½“å…·æœ‰è¿™äº›æŠ€æœ¯èƒ½åŠ›\n\n* ç°åº¦å‘å¸ƒèƒ½åŠ›\n* æ’ä»¶åŒ–æŠ€æœ¯\n* çƒ­ä¿®å¤æŠ€æœ¯\n* Androidæµ‹è¯•æŠ€æœ¯\n* mockç³»ç»Ÿ\n* æ€§èƒ½ä¼˜åŒ–ï¼ˆå†…å­˜ï¼Œå¯åŠ¨æ—¶é—´ç­‰ï¼‰\n* apkå®‰å…¨é—®é¢˜\n\nå›¢é˜Ÿåä½œçš„åŸºç¡€è®¾æ–½\n\n* ç‰ˆæœ¬ç®¡ç†å·¥å…·\n* Code Reviewå·¥å…·\n* æŒç»­é›†æˆ\n\n### ç½‘ç»œèƒ½åŠ›\n[okhttp](https://github.com/square/okhttp) ç°åœ¨ä½¿ç”¨ä¸­ï¼ŒhttpåŸºç¡€åº“ï¼Œè‰¯å¥½çš„åŒæ­¥/å¼‚æ­¥æ¥å£\n\n[android-async-http](https://github.com/loopj/android-async-http) ä¹‹å‰ä½¿ç”¨ï¼Œæ¯”è¾ƒè€ï¼ŒåŠŸèƒ½ä¹Ÿæ¯”è¾ƒå®Œå¤‡\n\n> okhttp\\android-async-http\\volley\\retrofit æ¯”è¾ƒ\n> okhttp å’Œ async httpæ˜¯ä¸€ä¸ªåŸºç¡€çš„é€šä¿¡åº“ï¼Œéƒ½å¾ˆå¼ºå¤§ï¼Œä½†éœ€è¦è‡ªå·±å°è£…ä½¿ç”¨æ‰æ›´æ–¹ä¾¿ã€‚å¦å¤–okhttpå·²ç»è¢«è°·æ­Œå®˜æ–¹ç”¨åœ¨androidæºç ä¸­äº†ã€‚ retrofitå’Œ volleyæ˜¯å±äºæ¯”è¾ƒé«˜çº§ç‚¹çš„å°è£…åº“äº†ã€‚å…¶ä¸­ retrofitæ˜¯é»˜è®¤ä½¿ç”¨okhttpï¼Œvolleyä¹Ÿæ”¯æŒokhttpä½œä¸ºå…¶åº•å±‚é€šä¿¡çš„éƒ¨ä»¶ã€‚retrofitçš„ç‰¹ç‚¹æ˜¯ä½¿ç”¨æ¸…æ™°ç®€å•çš„æ¥å£ï¼Œéå¸¸æ–¹ä¾¿ï¼Œè€Œ volleyåœ¨ä½¿ç”¨çš„æ—¶å€™ä¹Ÿè¿˜ç®€å•ï¼Œä¸è¿‡è¦ä½¿ç”¨é«˜çº§ä¸€ç‚¹çš„åŠŸèƒ½éœ€è¦è‡ªå·±è‡ªå®šä¹‰å¾ˆå¤šä¸œè¥¿ï¼Œä¸ªäººå¸¸ç”¨ **retrofit+okhttp**\né“¾æ¥ï¼šhttps://www.zhihu.com/question/35189851/answer/62857319\næ¥æºï¼šçŸ¥ä¹\n\n[Gson](https://github.com/google/gson) jsonè§£æï¼Œä¸€ç›´ä½¿ç”¨è¿™ä¸ªåº“\n\n[jackson]() æ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œæœ‰ç©ºç ”ç©¶ä¸€ä¸‹\n\n> jackson gson fastjson\n> jackson ä¼¼ä¹æœ‰ä¼˜åŠ¿ï¼Œå°¤å…¶æ˜¯å¤§æ–‡ä»¶å¤šå¹¶å‘çš„æƒ…å†µä¸‹\n\n\n### å›¾ç‰‡åº“\n[Android-Universal-Image-Loader](https://github.com/nostra13/Android-Universal-Image-Loader) ä½¿ç”¨è¿‡ä¸”é˜…è¯»è¿‡æºç ï¼Œæ¯”è¾ƒç®€å•ï¼ŒåŠŸèƒ½è¾ƒå¼±ï¼Œæ— æ³•å¾ˆå¥½åº”å½“OOM\n\n[Glide]() ç›®å‰ä½¿ç”¨çš„çš„åº“ï¼Œåœ¨éä¸“ä¸šå›¾ç‰‡åº”ç”¨ä¸­å¼ºçƒˆæ¨èï¼Œç»¼åˆå„ç§æ•°æ®æœ€ä¼˜ç§€çš„Libï¼ŒåŒæ—¶ä¹Ÿæ˜¯Googleæ¨èçš„ã€‚æ”¯æŒgifï¼ˆwebpåŠ¨å›¾ä¸æ”¯æŒï¼Ÿvideoæ”¯æŒï¼Ÿï¼‰æºç ä¸­å¤§é‡çš„æ¥å£çš„è®¾è®¡ï¼Œååˆ†å€¼å¾—å­¦ä¹ ã€‚å¤§å°500kbä»¥å†…ã€‚\n\n[fresco](https://github.com/facebook/fresco) æœ€ä¼˜ç§€çš„å†…å­˜ç®¡ç†å’Œæœ€å¼ºå¤§çš„åŠŸèƒ½ï¼Œæ”¯æŒWebPåŠ¨å›¾ã€‚FBå‡ºå“ï¼Œä¸€äº›é»‘ç§‘æŠ€ï¼Œä»£ç å¤æ‚ï¼Œå‹ç¼©åé€šç”¨å®‰è£…åŒ…ä»£ç 1Mï¼ˆåŒ…å«ä¸¤ä¸ªå¹³å°çš„soï¼‰ã€‚\n\n> Fresco vs UIL vs Glide vs Piasso\n> UIL æ¯”è¾ƒè€ï¼ŒåŠŸèƒ½æ¯”è¾ƒå¼±ï¼ˆä¸æ”¯æŒGif WebPï¼‰,\n> Frescoæœ€ä¸ºå¼ºå¤§ï¼Œé—®é¢˜æ˜¯å¯¹å¤–æ¥å£ä¸å‹å¥½ï¼ˆéœ€è¦æ›¿æ¢ImageViewï¼‰ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹é‡åˆ°é—®é¢˜å¾ˆéš¾ä¿®æ”¹æºç è§£å†³é—®é¢˜ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œå»ºè®®ä¸æ˜¯å›¾ç‰‡ç‰¹åˆ«é‡çš„Appä¸è¦ä½¿ç”¨ã€‚\n> Piasso éƒ½æ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œå¯¹å¤–æ¥å£ç®€å•ã€‚æ®è¯´ï¼šã€Glideçš„æ€§èƒ½æ›´å¥½ä¸€äº›ï¼Œå¹¶ä¸”æ”¯æŒæ›´å¤šæ ¼å¼çš„å›¾ç‰‡ã€ï¼Œä»¥åæœ‰æ—¶é—´è°ƒç ”ä¸€ä¸‹Glideã€‚\n\n### å…¬å…±åº“/æ§ä»¶åº“/å·¥å…·åº“\nå¾…è¡¥å……ï¼Œä¸»è¦æ˜¯ä¸€äº›é€šç”¨çš„å…¬å…±ç»„ä»¶å’Œå·¥å…·ç±»ï¼Œå¯èƒ½åŒ…å«BaseActivity\\BaseFragment,xxxUtilsã€‚ä¸€äº›åŠ¨ç”»åº“nineOld\n\n### å¼€å‘æ¡†æ¶\nè¿™é‡ŒåŒ…æ‹¬ä¸”ä¸é™äºï¼šä¸€äº›è®¾è®¡æ¨¡å¼ï¼ˆMVCç­‰ï¼‰ï¼Œä¸€äº›å¤šçº¿ç¨‹å·¥å…·åº“ï¼ˆä»£æ›¿AsyncTaskï¼Œå¦‚Boltsç­‰ï¼‰\n\n[Bolts-Android](https://github.com/BoltsFramework/Bolts-Android) androidå¤šçº¿ç¨‹ï¼Œå–ä»£AsyncTaskä½œä¸ºç»Ÿä¸€çš„çº¿ç¨‹æ± ã€‚å…·æœ‰é“¾å¼è°ƒç”¨çš„ç»“æ„ï¼Œå¯æŒ‡å®šè¿è¡Œçš„ä¸é€šçº¿ç¨‹ã€‚FBå‡ºå“ï¼Œç°åœ¨åœ¨ä½¿ç”¨ä¸­ï¼Œå…¥é—¨ç®€å•ï¼Œä½¿ç”¨ä»£ä»·å¾ˆå°ã€‚\n\n[MVP && MVVM](http://www.ruanyifeng.com/blog/2015/02/mvcmvp_mvvm.html)    MVPæ˜¯åœ¨å¼€å‘ä¸­å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå½“å‰ä½¿ç”¨ä¸­ã€‚\n\n[Flow æ€æƒ³](http://zhuanlan.zhihu.com/FrontendMagazine/19900243) ä¸€ç§å•å‘æ•°æ®æµçš„æ€æƒ³ï¼Œåœ¨Reactæ¡†æ¶ä¸­ä½¿ç”¨ï¼Œå¯ä»¥åœ¨ç§»åŠ¨å¼€å‘ä¸­ä½¿ç”¨ã€‚FBå‡ºåï¼Œå­¦ä¹ ingï¼Œæ²¡æœ‰å®è·µè¿‡ã€‚\n> Flow VS MVP ?\n\n[RxJava RxAndroid](https://github.com/ReactiveX/RxAndroid) ReactiveXçš„Javaç‰ˆæœ¬å’ŒAndroidæ‰©å±•ï¼Œå¼ºå¤§ï¼é“¾å¼è°ƒç”¨ï¼Œå¯ä»¥ä»£æ›¿Boltsçš„æ‰€æœ‰åŠŸèƒ½ï¼ˆä¹Ÿå¯ä»¥å°è£…åä»£æ›¿EventBusï¼‰ï¼Œä¸€ç§å®Œå¤‡çš„å¼€å‘æ¡†æ¶ï¼ˆæ€æƒ³ï¼‰ã€‚å¾®è½¯å‡ºå“ï¼Œå­¦ä¹ ä¸­ï¼Œå…¥é—¨è¾ƒéš¾ï¼Œå¯¹å›¢é˜Ÿè¦æ±‚å¾ˆé«˜ï¼Œå¯ä»¥æå¤§ç®€åŒ–ä»£ç ã€‚\n\n[EventBus](https://github.com/greenrobot/EventBus) ä¸€ç§æ€»çº¿æœºåˆ¶ï¼Œä½¿ç”¨å‘å¸ƒ-è®¢é˜…çš„æ–¹å¼è§£è€¦æ¨¡å—ï¼Œæ²¡æœ‰ä½¿ç”¨è¿‡ã€‚ç±»ä¼¼çš„è¿˜æœ‰[Otto](https://github.com/square/otto)\n\n> å…³äºä¸€äº›å›¢é˜Ÿå†…éƒ¨ä½¿ç”¨çš„æ¡†æ¶ï¼šå¤§è‡´æ€æƒ³ç±»ä¼¼äºboltsè¿™ä¸€ç±»æ¡†æ¶å†å°è£…ä¸€ä¸‹ç½‘ç»œæ¡†æ¶ã€‚æ–¹ä¾¿å¼€å‘è€…å¿«é€Ÿå‘èµ·Restè¯·æ±‚å¹¶ä¸”åœ¨åˆé€‚çš„çº¿ç¨‹å¤„ç†æ•°æ®å’ŒUIã€‚\n> \n> å…¶ä»–ï¼š\n> [EventBus VS RxJava ](https://www.zhihu.com/question/32179258)\n> \n> å¾…è¡¥å……ï¼šä¸€äº›å…¶ä»–çš„æ³¨å…¥æ¡†æ¶ï¼Œå’Œå¦‚ä½•è”åˆä½¿ç”¨è¿™äº›æ¡†æ¶ã€‚\n\n### bugè·Ÿè¸ªæœºåˆ¶/è´¨é‡ä¿è¯\nå‘ç°é—®é¢˜çš„èƒ½åŠ›æ˜¯Appçš„ä¸€ç§é‡è¦çš„èƒ½åŠ›ï¼Œç±»ä¼¼ç™¾åº¦ä½¿ç”¨çš„Crabå¹³å°è·Ÿè¸ªç”¨æˆ·å´©æºƒå’Œbugç‡æ˜¯é‡è¦çš„ã€‚\n\n[bugè·Ÿè¸ªç³»ç»Ÿ](https://get.fabric.io/?locale=zh-cn) ä¸ŠæŠ¥ç”¨æˆ·å´©æºƒæ•°æ®ï¼Œéƒ¨åˆ†ç”¨æˆ·åˆ†æå·¥å…·å…·å¤‡æ­¤åŠŸèƒ½ï¼ˆå¦‚GAï¼‰ï¼Œä½†æ˜¯å»ºè®®åŠ å…¥ä¸“é—¨çš„bugä¸ŠæŠ¥å·¥å…·ï¼Œç±»ä¼¼ç™¾ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚\n\n[ç”¨æˆ·åé¦ˆçš„è®¾è®¡]() ä¸€èˆ¬appéƒ½éœ€è¦åé¦ˆæ¨¡å—ä¾›ç”¨æˆ·ä¸»åŠ¨ååº”é—®é¢˜ã€‚\n\n[æ€§èƒ½ã€å†…å­˜ç›‘æ§]() ä¸»è¦æ˜¯å¼€å‘é˜¶æ®µä½¿ç”¨ï¼Œæš´éœ²é—®é¢˜ã€‚ä¾‹å¦‚LeakCanaryã€BlockCanary\n\n### ç”¨æˆ·åˆ†æç³»ç»Ÿ\nè·Ÿè¸ªç”¨æˆ·è¡Œä¸ºï¼Œæ”¶é›†æ•°æ®æ˜¯æŒç»­ä¼˜åŒ–çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯äº§å“é‡è¦èƒ½åŠ›ã€‚åŸºæœ¬çš„åŸ‹ç‚¹æœºåˆ¶æˆ–è€…ç±»ä¼¼äºGoogle Analyseçš„åˆ†æç³»ç»Ÿ\n\n[AppåŸ‹ç‚¹è®¾è®¡ä¸æ•°æ®ä¸ŠæŠ¥]()\n\n[æ¥å…¥ç¬¬ä¸‰æ–¹åˆ†æç³»ç»Ÿ]() è·å–ç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼Œå½¢æˆç”»åƒæ˜¯è¿™äº›ç³»ç»Ÿçš„é‡è¦åŠŸèƒ½ã€‚\n\n### æ¨é€æœºåˆ¶/é•¿è¿æ¥æ–¹æ¡ˆ\næ¨é€çš„ç¬¬ä¸‰æ–¹æ–¹æ¡ˆï¼Œä¿¡é¸½ã€otherï¼Ÿ\néƒ¨åˆ†åº”ç”¨å¯èƒ½éœ€è¦é•¿è¿æ¥ï¼ŒMQTT\n\n### å¯¹å†…è§„èŒƒ\n[æ„å»ºå·¥ç¨‹ç»“æ„]() å¦‚ä½•æ„å»ºåˆç†çš„å·¥ç¨‹ç»“æ„ï¼Œä¾æ®ä¸šåŠ¡ï¼ŸåŠŸèƒ½ï¼Ÿï¼Œå¦‚ä½•æ–¹ä¾¿æ‰©å±•åŠŸèƒ½ï¼Œå‘å¸ƒä¸é€šç‰ˆæœ¬ï¼Ÿ\n\n[ä»£ç Style](https://github.com/square/java-code-styles) Squareçš„java-code-styles,ä¹Ÿå¯ä»¥è‡ªå·±forkåšç›¸åº”çš„ä¿®æ”¹\n\n[èµ„æºStyle]() Androidç‰¹æœ‰çš„é—®é¢˜ï¼Œdimens,styles,stringsä¸­æŒ‰ç…§UIéœ€æ±‚è®¾è®¡ä¸€äº›åŸºæœ¬çš„å…¬å…±å€¼ï¼ˆä¸šåŠ¡æ— å…³ï¼Ÿï¼‰ã€‚å¦åˆ™ä¼šå¯¼è‡´ä¸å¯æ§ã€‚\n\n[ä»£ç æ£€æµ‹]() ä»£ç é™æ€æ£€æµ‹ï¼ŒåŠ¨æ€æ£€æµ‹ï¼Œæå‰å‘ç°æ½œåœ¨é—®é¢˜ï¼Œæé«˜ä»£ç è´¨é‡ã€‚\n\n[CodeReview]() ä»£ç æäº¤commitå‰çš„å®¡æ ¸æµç¨‹\n\n### å¯¹å¤–è§„èŒƒ\n[ç½‘ç»œè¯·æ±‚]() http or httpsï¼Œget or post ,æ˜¯å¦ä½¿ç”¨ç§æœ‰è¯ä¹¦ï¼Ÿ\n\n[jsonæ ¼å¼è§„èŒƒ]() ä½¿ç”¨æ ‡å‡†çš„jsonæ ¼å¼ï¼Œå®šä¹‰åˆç†çš„è¿”å›ç»“æ„å’ŒçŠ¶æ€ç ï¼ˆé”™è¯¯ç å»ºè®®ä¸è¦ä½¿ç”¨http headä¸­çš„ä»£ç ï¼Œéƒ¨åˆ†å¹¿å‘Šå·¥å…·/é˜²ç«å¢™æ‹¦æˆªï¼Œè€Œæ˜¯å®šä¹‰åœ¨jsonä¸­ï¼‰ã€‚\n\n[åŠ å¯†æ–¹å¼æœè§„èŒƒ]() å®šä¹‰ä¸åŒä¿¡æ¯çš„å®‰å…¨ç­‰çº§ä»¥åŠå¯¹åº”åŠ å¯†ç®—æ³•--DES or RSA or MD5æ ¡éªŒ\n\n[è¿­ä»£æµç¨‹ä¸å‘ç‰ˆè§„èŒƒ]() æ•æ·æµç¨‹ï¼Œç°åº¦/å‘ç‰ˆæ ‡å‡†ï¼ˆbugç‡ï¼Ÿï¼‰\n\n[é—®é¢˜è§£å†³æµç¨‹]() æ¬¡å¥¥ï¼Œè¿™äº›é—®é¢˜å¤ªå¤šäº†\n\n### ç°åº¦å‘å¸ƒ\nå¾…ç ”ç©¶ï¼ŒGooglePlayå…·æœ‰æ­¤åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œå¼€å‘ï¼Œå¯¹äºç”¨æˆ·é‡è¾ƒå¤šçš„Appæ­¤åŠŸèƒ½å…·æœ‰é‡è¦æ„ä¹‰ï¼Œé˜²æ­¢æ–°ç‰ˆæœ¬é—®é¢˜å½±å“åˆ°å…¨éƒ¨ç”¨æˆ·å’ŒéªŒè¯åŠŸèƒ½æ•ˆæœéƒ½æœ‰ä½œç”¨ã€‚\n\n### æ’ä»¶åŒ–æŠ€æœ¯\n[ç®€å•å¯é çš„æ’ä»¶åŒ–æŠ€æœ¯](https://github.com/wequick/Small) æ’ä»¶åŒ–æ˜¯å¤§å‹äº§å“çš„æ¡†æ¶éœ€æ±‚ï¼Œå°¤å…¶æ˜¯å¹³å°åŒ–äº§å“æˆ–è€…å¯¹Appå®‰è£…åŒ…å¤§å°æœ‰ä¸¥æ ¼é™åˆ¶çš„åº”ç”¨ã€‚åŒæ—¶ä¹Ÿæ˜¯å¯¹65535é™åˆ¶çš„æŠ€æœ¯è§£å†³æ–¹æ¡ˆã€‚\n\n### çƒ­ä¿®å¤æŠ€æœ¯\n[çƒ­ä¿®å¤æŠ€æœ¯ç ”ç©¶](http://blog.zhaiyifan.cn/2015/11/20/HotPatchCompare/) çƒ­ä¿®å¤æŠ€æœ¯æ˜¯äº§å“ä¸Šçº¿åç´§æ€¥ä¿®å¤çš„éœ€è¦ï¼Œæ˜¯å¯¹ç°åº¦å‘å¸ƒè¡¥å……ã€‚\n\n### mockç³»ç»Ÿ\nclientå›¢é˜Ÿå†…éƒ¨å¼€å‘ä½¿ç”¨ï¼Œå¯ä»¥éƒ¨åˆ†è§£å†³serverä¸clientå¼€å‘ä¸åè°ƒçš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯serverè¿›åº¦æ…¢äºclientçš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥ç”¨äºclientç¨‹åºå‘˜è‡ªå·±è°ƒè¯•ç¨‹åºã€‚\n\n### æ€§èƒ½ä¼˜åŒ–\nAppè¿­ä»£åˆ°ä¸€å®šé˜¶æ®µï¼Œè‡ªç„¶è€Œç„¶åœ°ä¼šè¿›å…¥è¿™ä¹ˆä¸€ä¸ªé˜¶æ®µã€‚ä¸€ä¸ªå¥½çš„æ¡†æ¶å¯èƒ½ä¼šæš‚æ—¶éšè—è¿™äº›é—®é¢˜ã€‚ä½†æ˜¯å¯¹ç³»ç»Ÿçš„æŒç»­ç›‘æ§ï¼ˆæ€§èƒ½åˆ†ææŠ¥å‘Šï¼‰æ˜¯å¿…ä¸å¯å°‘ï¼ŒåŠæ—©å‘ç°é—®é¢˜ä¸å®šä½ï¼Œå¯»æ±‚æ—¶é—´ä¼˜åŒ–é—®é¢˜ååˆ†é‡è¦ã€‚\n\n### ç‰ˆæœ¬ç®¡ç†å·¥å…·\n[git](http://www.bootcss.com/p/git-guide/) ä½¿ç”¨è¾ƒå¤šçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œä»£æ›¿svnç­‰ä¼ ç»Ÿå·¥å…·\n[git flow](http://nvie.com/posts/a-successful-git-branching-model/)  gitç‰ˆæœ¬ç®¡ç†çš„å·¥ä½œæµçš„æœ€ä½³å®è·µã€‚æ»¡è¶³æ­£å¼å¼€å‘ã€æ–°ç‰¹æ€§é¢„ç ”ã€ç°åº¦ã€Releaseç­‰ç‰ˆæœ¬çš„å‘å¸ƒéœ€æ±‚ã€‚\n[gitæœåŠ¡å™¨æ­å»º]()\n[gitlab](https://about.gitlab.com/gitlab-com/) å¼€æºçš„æœ¬åœ°ç®¡ç†ç³»ç»Ÿï¼Œç±»ä¼¼githubçš„åŠŸèƒ½\n\n### Code Reviewå·¥å…·\n[Gerrit]() é€‚ç”¨äºå›¢é˜Ÿå†…éƒ¨å¼€å‘ä»£ç æäº¤å®¡æ ¸çš„å·¥å…·ã€‚ä»¥åŠè¯¥å·¥å…·ä¸IDEã€Gitçš„é›†æˆã€‚\n\n### æŒç»­é›†æˆ\n[jenkins+git+gerritæ–¹æ¡ˆ]() å°†Androidçš„Gradle build æŒç»­é›†æˆ\n\n> æ˜¯å¦è€ƒè™‘ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Ÿ\n\n\n## è¶‹åŠ¿\nä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œèƒ½æ„Ÿå—åˆ°Androidå¼€å‘æŠ€æœ¯å‘å±•è¿…é€Ÿï¼Œæ–°æŠ€æœ¯ç›®ä¸æš‡æ¥ã€‚**åˆ†äº«ä¸€äº›ä¿¡æ¯è·å–[æ¸ é“](http://www.limuzhi.com/read/)**ã€‚å¯¹äºè¶‹åŠ¿ï¼Œç±»æ¯”äºå…¶ä»–æŠ€æœ¯æ˜¯ç§ä¸é”™çš„æ€è·¯ï¼Œ[ã€Šä»ä¸­é—´ä»¶çš„å†å²æ¥çœ‹ç§»åŠ¨Appå¼€å‘çš„æœªæ¥ã€‹](http://blog.jobbole.com/91662/)ç»™æˆ‘ä¸€äº›å¯å‘ã€‚\n\n[React](http://www.ruanyifeng.com/blog/2015/03/react.html) FBæå‡ºçš„ä¸€ç§Jsçš„mvcå¼€å‘æ¡†æ¶ï¼Œè™šæ‹Ÿdomå…·æœ‰é«˜æ•ˆçš„ç‰¹ç‚¹ï¼Œå¹¶ä¸”å¯ä»¥æ‰©å±•åˆ°Appä¸­ã€‚JavaScriptæœ‰æœ›å é¢†å‰åç«¯(Node.js)å’Œå„ä¸ªå¹³å°ã€‚\n\n[React Native](http://www.androidweekly.cn/android-dev-special-weekly-react-native/) Reactçš„androidç‰ˆæœ¬ï¼Œæœ‰æœ›å–ä»£å…¶ä»–çš„hybridå¼€å‘æ¡†æ¶ã€‚\n\n\n## æœ€åä¸€äº›è¯\nè‡³æ­¤ï¼ŒåŸºæœ¬æ€»ç»“äº†Appå¼€å‘çš„æŠ€æœ¯ç‚¹ï¼Œç•™äº†å¾ˆå¤šå‘ç­‰ç€ä»¥åæ…¢æ…¢å¡«ï¼Œæ¯ä¸€ç‚¹å±•å¼€éƒ½èƒ½å†™å¾ˆå¤šã€‚åç»­ä¼šä¸æ–­æ›´æ–°è¿™äº›æ–‡ç« åˆ°è‡ªå·±çš„åšæ–‡ï¼Œä¹Ÿå¯èƒ½å¢åˆ ä¸€äº›å†…å®¹ã€‚ä»å“ªé‡Œå¼€å§‹å†™è¿˜æ²¡æœ‰æƒ³å¥½ï¼ŒæœŸé—´ä¼šæ’å…¥ä¸€äº›å°é¡¹ç›®ã€‚æ‰“ç®—åœ¨æ˜¥èŠ‚å‰å†™ä¸€ä¸ªæŠ¢çº¢åŒ…çš„ç³»åˆ—æ–‡ç« ï¼Œä¸»è¦åˆ†æä¸€äº›æŠ¢çº¢åŒ…æ’ä»¶çš„æºç ã€‚\n\næœ¬äººä¸€å¹´å¤šçš„å·¥ä½œç»éªŒï¼Œå¤§éƒ¨åˆ†çš„å†…å®¹ä¹Ÿåœ¨æ¢ç´¢ä¸­æˆ–è€…åªæœ‰ä¸€äº›æ¦‚å¿µï¼Œä»»ä½•é—®é¢˜æ¬¢è¿æå‡ºã€‚","source":"_posts/å§‹å‘ç«™ï¼Œå°†é€šå¾€ä½•å¤„.md","raw":"title: å§‹å‘ç«™ï¼Œå°†é€šå¾€ä½•å¤„\ndate: 2016-01-10 12:36:26\nsticky: 10\ndescription: ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ªç”¨äºç”Ÿäº§ç¯å¢ƒçš„Android Appï¼Œè¦èµ°è¿™äº›è·¯ã€‚è¿™ç¯‡æ–‡ç« æ˜¯åšå®¢çš„æ€»ç›®å½•ï¼Œä¼šæŒç»­æ›´æ–°ã€‚åŒæ—¶ä¹Ÿæ˜¯æˆ‘çš„ä¸€ä¸ªèµ·ç‚¹ï¼Œä¸€äº›æ€è€ƒã€‚ä¼˜å…ˆå†™ä¸€äº›æ„Ÿå…´è¶£çš„æŠ€æœ¯ç‚¹ï¼Œæœ€åå½¢æˆä¸€ä¸ªä½“ç³»ï¼Œå®Œæˆæ„å»ºä¸€ä¸ªå¯æŒç»­æ”¹è¿›çš„ç”¨äºç”Ÿäº§ç¯å¢ƒçš„Appçš„ç›®æ ‡ã€‚å½“ç„¶ä¹Ÿå¯èƒ½æ‰©å±•åˆ°Serverå’ŒIOSçš„å…¶ä»–æ–¹é¢ã€‚\ncategories:\n- æŠ€æœ¯\ntags:\n- Android\n- Guide\n- æœ€ä½³å®è·µ \n---\n\nèµ·åºŠï¼Œåƒé¥­ï¼Œå°±åˆ°äº†æ™Œåˆã€‚\nè¿™å‘¨çš„ä»»åŠ¡è¿˜æ²¡æœ‰å®Œæˆï¼Œåœ¨å®¶é‡Œæ€»æ˜¯æ…µæ‡’çš„çŠ¶æ€ï¼Œè½¬å¿µæ¥åˆ°æ¥¼ä¸‹çš„å’–å•¡é¦†--HappyTreeï¼Œèººåœ¨æ²™å‘ä¸Šæ€è€ƒè¿™ä¸ªå¥‡æ€ªçš„é—®é¢˜ã€‚ä¸æƒ³å†™é¸¡æ±¤æˆ–è€…æ„Ÿæ‚Ÿï¼Œä½†æ˜¯è¿™æ–‡é£ä¸å¯¹å•Šï¼\nè¿™æ˜¯ä¸€ç¯‡Guideï¼Œç½—åˆ—**ä¸€äº›æŠ€æœ¯çš„å…´å¥‹ç‚¹**ï¼ˆGç‚¹ï¼Ÿï¼‰ã€‚è™½ç„¶æˆ‘å±äºæ‚ç‰Œå†›ç³»åˆ—ï¼Œä»€ä¹ˆéƒ½æƒ³æä¸€äº›ï¼Œå¯æ˜¯ç°åœ¨è¿˜æ˜¯ä¸“æ³¨äºAndroidæ–¹å‘ã€‚\n\n## åˆ‡å…¥ç‚¹\nä¸ç®¡åœ¨å“ªå·¥ä½œï¼Œä¸€ç›´éƒ½åœ¨æ€è€ƒæˆ–è€…è§‚å¯Ÿè¿™ä¸¤ä¸ªé—®é¢˜\n\n* **å¦‚ä½•æ­å»ºä¸€ä¸ªé«˜æ•ˆçš„å¼€å‘æ¡†æ¶**\n* å¦‚ä½•ç»„å»ºä¸€ä¸ªæœ‰æˆ˜æ–—åŠ›çš„å›¢é˜Ÿ\n\næœ¬æ–‡ä¸»è¦ä»ç¬¬ä¸€ç‚¹æ€è€ƒé—®é¢˜ï¼Œä¸€ä¸ªåˆæ ¼çš„æ¡†æ¶æ˜¯æ€æ ·ç»„æˆçš„ï¼Ÿè°ˆè°ˆæˆ‘ç»å†çš„ä¸¤ä¸ªå›¢é˜Ÿï¼ˆæœ‰æœºä¼šå†™æ–‡ç« ç»†è°ˆï¼‰ï¼Œç¬¬ä¸€å›¢é˜Ÿï¼Œç®€å•è§„èŒƒçš„å¼€å‘æ¡†æ¶ï¼Œå…¥é—¨ç¨‹åºå‘˜ä¹Ÿå¯ä»¥å®Œæˆå¼€å‘ï¼Œç¬¬äºŒä¸ªå›¢é˜Ÿï¼Œé¡¹ç›®å¤ªä¹…ï¼Œæ¡†æ¶å¤ªå¤šå¯¼è‡´æ²¡æœ‰æ¡†æ¶ï¼Œè‡ªç”±å‘æŒ¥ã€‚ç†æ‰€å½“ç„¶åœ°è®¤ä¸ºå‰è€…niubilityï¼Œåè€…å¤ªlowã€‚ä½†æ˜¯åœ¨ç¬¬ä¸€ä¸ªå›¢é˜Ÿæœ‰ä¸€ç§é”™è§‰ï¼ŒæŠ€æœ¯å°±æ˜¯è¿™äº›ä¸œè¥¿ï¼Œæ²¡æœ‰ä»€ä¹ˆå¯ä»¥è¯´çš„äº†ã€‚ç›´åˆ°ç°åœ¨ï¼Œ**å½“è‡ªå·±æ€è€ƒå¦‚ä½•æ„å»ºä¸€ä¸ªæ¡†æ¶çš„æ—¶å€™ï¼Œå‘ç°ä¸–ç•Œå¦‚æ­¤ç²¾å½©ã€‚**\nç”¨æ—¶åˆ»å‡†å¤‡åˆ›ä¸šçš„å¿ƒæ€å»æ€è€ƒå·¥ä½œã€‚æ‰€ä»¥ï¼Œç°åœ¨æˆ‘åœ¨å§‹å‘ç«™ï¼Œæ€»æœ‰ä¸€å¤©ä¼šå¯ç¨‹ã€‚æœ€è¿‘æœ‰ä¸€ç¯‡å¾ˆä¸é”™çš„å¾®ä¿¡å›¢é˜Ÿçš„æ–‡ç« [ã€Šåˆ›ä¸šç å†œçš„ä¸€äº›å»ºè®®ã€‹](https://simpleton.gitbooks.io/sim-tech-note/content/Android/AndroidStartupTutorial.html)ï¼Œæ ¸å¿ƒæ€æƒ³:**\"ä¸è¦é‡å¤å‘æ˜è½®å­\"ï¼Œå½“ç„¶è¿™ä¸æ„å‘³ç€ä¸éœ€è¦çŸ¥é“æ€ä¹ˆåˆ¶é€ è½®å­ã€‚**é‚£ä¹ˆï¼Œçœ‹çœ‹å¦‚ä½•ç”¨è¿™äº›è½®å­æ¥é€ è½¦ã€‚\n\n\n## æ„å»ºä¸€ä¸ªApp\nä¸€ä¸ªå®Œå¤‡çš„appåº”å½“å…·æœ‰è¿™äº›åŸºç¡€èƒ½åŠ›\n\n* ç½‘ç»œèƒ½åŠ›ï¼ˆhttpsã€ä¸‹è½½ã€å‡çº§ç­‰ï¼‰\n* å›¾ç‰‡åº“\n* å¼€å‘æ¡†æ¶ï¼ˆæ¨¡å¼ï¼‰\n* å…¬å…±åº“/æ§ä»¶åº“/å·¥å…·åº“\n* apkæ‰“åŒ…ä¸ç˜¦èº«\n* bugè·Ÿè¸ªæœºåˆ¶/è´¨é‡ä¿è¯\n* ç”¨æˆ·åˆ†æç³»ç»Ÿ\n* æ¨é€æœºåˆ¶/é•¿è¿æ¥æ–¹æ¡ˆ\n* å¯¹å†…è§„èŒƒï¼ˆå·¥ç¨‹ç»“æ„ã€ä»£ç styleç­‰ï¼‰\n* å¯¹å¤–è§„èŒƒï¼ˆæ¥å£è§„èŒƒã€æ²Ÿé€šè§„èŒƒï¼‰\n\n\nä¸€ä¸ªä¼˜ç§€çš„appåº”å½“å…·æœ‰è¿™äº›æŠ€æœ¯èƒ½åŠ›\n\n* ç°åº¦å‘å¸ƒèƒ½åŠ›\n* æ’ä»¶åŒ–æŠ€æœ¯\n* çƒ­ä¿®å¤æŠ€æœ¯\n* Androidæµ‹è¯•æŠ€æœ¯\n* mockç³»ç»Ÿ\n* æ€§èƒ½ä¼˜åŒ–ï¼ˆå†…å­˜ï¼Œå¯åŠ¨æ—¶é—´ç­‰ï¼‰\n* apkå®‰å…¨é—®é¢˜\n\nå›¢é˜Ÿåä½œçš„åŸºç¡€è®¾æ–½\n\n* ç‰ˆæœ¬ç®¡ç†å·¥å…·\n* Code Reviewå·¥å…·\n* æŒç»­é›†æˆ\n\n### ç½‘ç»œèƒ½åŠ›\n[okhttp](https://github.com/square/okhttp) ç°åœ¨ä½¿ç”¨ä¸­ï¼ŒhttpåŸºç¡€åº“ï¼Œè‰¯å¥½çš„åŒæ­¥/å¼‚æ­¥æ¥å£\n\n[android-async-http](https://github.com/loopj/android-async-http) ä¹‹å‰ä½¿ç”¨ï¼Œæ¯”è¾ƒè€ï¼ŒåŠŸèƒ½ä¹Ÿæ¯”è¾ƒå®Œå¤‡\n\n> okhttp\\android-async-http\\volley\\retrofit æ¯”è¾ƒ\n> okhttp å’Œ async httpæ˜¯ä¸€ä¸ªåŸºç¡€çš„é€šä¿¡åº“ï¼Œéƒ½å¾ˆå¼ºå¤§ï¼Œä½†éœ€è¦è‡ªå·±å°è£…ä½¿ç”¨æ‰æ›´æ–¹ä¾¿ã€‚å¦å¤–okhttpå·²ç»è¢«è°·æ­Œå®˜æ–¹ç”¨åœ¨androidæºç ä¸­äº†ã€‚ retrofitå’Œ volleyæ˜¯å±äºæ¯”è¾ƒé«˜çº§ç‚¹çš„å°è£…åº“äº†ã€‚å…¶ä¸­ retrofitæ˜¯é»˜è®¤ä½¿ç”¨okhttpï¼Œvolleyä¹Ÿæ”¯æŒokhttpä½œä¸ºå…¶åº•å±‚é€šä¿¡çš„éƒ¨ä»¶ã€‚retrofitçš„ç‰¹ç‚¹æ˜¯ä½¿ç”¨æ¸…æ™°ç®€å•çš„æ¥å£ï¼Œéå¸¸æ–¹ä¾¿ï¼Œè€Œ volleyåœ¨ä½¿ç”¨çš„æ—¶å€™ä¹Ÿè¿˜ç®€å•ï¼Œä¸è¿‡è¦ä½¿ç”¨é«˜çº§ä¸€ç‚¹çš„åŠŸèƒ½éœ€è¦è‡ªå·±è‡ªå®šä¹‰å¾ˆå¤šä¸œè¥¿ï¼Œä¸ªäººå¸¸ç”¨ **retrofit+okhttp**\né“¾æ¥ï¼šhttps://www.zhihu.com/question/35189851/answer/62857319\næ¥æºï¼šçŸ¥ä¹\n\n[Gson](https://github.com/google/gson) jsonè§£æï¼Œä¸€ç›´ä½¿ç”¨è¿™ä¸ªåº“\n\n[jackson]() æ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œæœ‰ç©ºç ”ç©¶ä¸€ä¸‹\n\n> jackson gson fastjson\n> jackson ä¼¼ä¹æœ‰ä¼˜åŠ¿ï¼Œå°¤å…¶æ˜¯å¤§æ–‡ä»¶å¤šå¹¶å‘çš„æƒ…å†µä¸‹\n\n\n### å›¾ç‰‡åº“\n[Android-Universal-Image-Loader](https://github.com/nostra13/Android-Universal-Image-Loader) ä½¿ç”¨è¿‡ä¸”é˜…è¯»è¿‡æºç ï¼Œæ¯”è¾ƒç®€å•ï¼ŒåŠŸèƒ½è¾ƒå¼±ï¼Œæ— æ³•å¾ˆå¥½åº”å½“OOM\n\n[Glide]() ç›®å‰ä½¿ç”¨çš„çš„åº“ï¼Œåœ¨éä¸“ä¸šå›¾ç‰‡åº”ç”¨ä¸­å¼ºçƒˆæ¨èï¼Œç»¼åˆå„ç§æ•°æ®æœ€ä¼˜ç§€çš„Libï¼ŒåŒæ—¶ä¹Ÿæ˜¯Googleæ¨èçš„ã€‚æ”¯æŒgifï¼ˆwebpåŠ¨å›¾ä¸æ”¯æŒï¼Ÿvideoæ”¯æŒï¼Ÿï¼‰æºç ä¸­å¤§é‡çš„æ¥å£çš„è®¾è®¡ï¼Œååˆ†å€¼å¾—å­¦ä¹ ã€‚å¤§å°500kbä»¥å†…ã€‚\n\n[fresco](https://github.com/facebook/fresco) æœ€ä¼˜ç§€çš„å†…å­˜ç®¡ç†å’Œæœ€å¼ºå¤§çš„åŠŸèƒ½ï¼Œæ”¯æŒWebPåŠ¨å›¾ã€‚FBå‡ºå“ï¼Œä¸€äº›é»‘ç§‘æŠ€ï¼Œä»£ç å¤æ‚ï¼Œå‹ç¼©åé€šç”¨å®‰è£…åŒ…ä»£ç 1Mï¼ˆåŒ…å«ä¸¤ä¸ªå¹³å°çš„soï¼‰ã€‚\n\n> Fresco vs UIL vs Glide vs Piasso\n> UIL æ¯”è¾ƒè€ï¼ŒåŠŸèƒ½æ¯”è¾ƒå¼±ï¼ˆä¸æ”¯æŒGif WebPï¼‰,\n> Frescoæœ€ä¸ºå¼ºå¤§ï¼Œé—®é¢˜æ˜¯å¯¹å¤–æ¥å£ä¸å‹å¥½ï¼ˆéœ€è¦æ›¿æ¢ImageViewï¼‰ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹é‡åˆ°é—®é¢˜å¾ˆéš¾ä¿®æ”¹æºç è§£å†³é—®é¢˜ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œå»ºè®®ä¸æ˜¯å›¾ç‰‡ç‰¹åˆ«é‡çš„Appä¸è¦ä½¿ç”¨ã€‚\n> Piasso éƒ½æ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œå¯¹å¤–æ¥å£ç®€å•ã€‚æ®è¯´ï¼šã€Glideçš„æ€§èƒ½æ›´å¥½ä¸€äº›ï¼Œå¹¶ä¸”æ”¯æŒæ›´å¤šæ ¼å¼çš„å›¾ç‰‡ã€ï¼Œä»¥åæœ‰æ—¶é—´è°ƒç ”ä¸€ä¸‹Glideã€‚\n\n### å…¬å…±åº“/æ§ä»¶åº“/å·¥å…·åº“\nå¾…è¡¥å……ï¼Œä¸»è¦æ˜¯ä¸€äº›é€šç”¨çš„å…¬å…±ç»„ä»¶å’Œå·¥å…·ç±»ï¼Œå¯èƒ½åŒ…å«BaseActivity\\BaseFragment,xxxUtilsã€‚ä¸€äº›åŠ¨ç”»åº“nineOld\n\n### å¼€å‘æ¡†æ¶\nè¿™é‡ŒåŒ…æ‹¬ä¸”ä¸é™äºï¼šä¸€äº›è®¾è®¡æ¨¡å¼ï¼ˆMVCç­‰ï¼‰ï¼Œä¸€äº›å¤šçº¿ç¨‹å·¥å…·åº“ï¼ˆä»£æ›¿AsyncTaskï¼Œå¦‚Boltsç­‰ï¼‰\n\n[Bolts-Android](https://github.com/BoltsFramework/Bolts-Android) androidå¤šçº¿ç¨‹ï¼Œå–ä»£AsyncTaskä½œä¸ºç»Ÿä¸€çš„çº¿ç¨‹æ± ã€‚å…·æœ‰é“¾å¼è°ƒç”¨çš„ç»“æ„ï¼Œå¯æŒ‡å®šè¿è¡Œçš„ä¸é€šçº¿ç¨‹ã€‚FBå‡ºå“ï¼Œç°åœ¨åœ¨ä½¿ç”¨ä¸­ï¼Œå…¥é—¨ç®€å•ï¼Œä½¿ç”¨ä»£ä»·å¾ˆå°ã€‚\n\n[MVP && MVVM](http://www.ruanyifeng.com/blog/2015/02/mvcmvp_mvvm.html)    MVPæ˜¯åœ¨å¼€å‘ä¸­å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå½“å‰ä½¿ç”¨ä¸­ã€‚\n\n[Flow æ€æƒ³](http://zhuanlan.zhihu.com/FrontendMagazine/19900243) ä¸€ç§å•å‘æ•°æ®æµçš„æ€æƒ³ï¼Œåœ¨Reactæ¡†æ¶ä¸­ä½¿ç”¨ï¼Œå¯ä»¥åœ¨ç§»åŠ¨å¼€å‘ä¸­ä½¿ç”¨ã€‚FBå‡ºåï¼Œå­¦ä¹ ingï¼Œæ²¡æœ‰å®è·µè¿‡ã€‚\n> Flow VS MVP ?\n\n[RxJava RxAndroid](https://github.com/ReactiveX/RxAndroid) ReactiveXçš„Javaç‰ˆæœ¬å’ŒAndroidæ‰©å±•ï¼Œå¼ºå¤§ï¼é“¾å¼è°ƒç”¨ï¼Œå¯ä»¥ä»£æ›¿Boltsçš„æ‰€æœ‰åŠŸèƒ½ï¼ˆä¹Ÿå¯ä»¥å°è£…åä»£æ›¿EventBusï¼‰ï¼Œä¸€ç§å®Œå¤‡çš„å¼€å‘æ¡†æ¶ï¼ˆæ€æƒ³ï¼‰ã€‚å¾®è½¯å‡ºå“ï¼Œå­¦ä¹ ä¸­ï¼Œå…¥é—¨è¾ƒéš¾ï¼Œå¯¹å›¢é˜Ÿè¦æ±‚å¾ˆé«˜ï¼Œå¯ä»¥æå¤§ç®€åŒ–ä»£ç ã€‚\n\n[EventBus](https://github.com/greenrobot/EventBus) ä¸€ç§æ€»çº¿æœºåˆ¶ï¼Œä½¿ç”¨å‘å¸ƒ-è®¢é˜…çš„æ–¹å¼è§£è€¦æ¨¡å—ï¼Œæ²¡æœ‰ä½¿ç”¨è¿‡ã€‚ç±»ä¼¼çš„è¿˜æœ‰[Otto](https://github.com/square/otto)\n\n> å…³äºä¸€äº›å›¢é˜Ÿå†…éƒ¨ä½¿ç”¨çš„æ¡†æ¶ï¼šå¤§è‡´æ€æƒ³ç±»ä¼¼äºboltsè¿™ä¸€ç±»æ¡†æ¶å†å°è£…ä¸€ä¸‹ç½‘ç»œæ¡†æ¶ã€‚æ–¹ä¾¿å¼€å‘è€…å¿«é€Ÿå‘èµ·Restè¯·æ±‚å¹¶ä¸”åœ¨åˆé€‚çš„çº¿ç¨‹å¤„ç†æ•°æ®å’ŒUIã€‚\n> \n> å…¶ä»–ï¼š\n> [EventBus VS RxJava ](https://www.zhihu.com/question/32179258)\n> \n> å¾…è¡¥å……ï¼šä¸€äº›å…¶ä»–çš„æ³¨å…¥æ¡†æ¶ï¼Œå’Œå¦‚ä½•è”åˆä½¿ç”¨è¿™äº›æ¡†æ¶ã€‚\n\n### bugè·Ÿè¸ªæœºåˆ¶/è´¨é‡ä¿è¯\nå‘ç°é—®é¢˜çš„èƒ½åŠ›æ˜¯Appçš„ä¸€ç§é‡è¦çš„èƒ½åŠ›ï¼Œç±»ä¼¼ç™¾åº¦ä½¿ç”¨çš„Crabå¹³å°è·Ÿè¸ªç”¨æˆ·å´©æºƒå’Œbugç‡æ˜¯é‡è¦çš„ã€‚\n\n[bugè·Ÿè¸ªç³»ç»Ÿ](https://get.fabric.io/?locale=zh-cn) ä¸ŠæŠ¥ç”¨æˆ·å´©æºƒæ•°æ®ï¼Œéƒ¨åˆ†ç”¨æˆ·åˆ†æå·¥å…·å…·å¤‡æ­¤åŠŸèƒ½ï¼ˆå¦‚GAï¼‰ï¼Œä½†æ˜¯å»ºè®®åŠ å…¥ä¸“é—¨çš„bugä¸ŠæŠ¥å·¥å…·ï¼Œç±»ä¼¼ç™¾ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚\n\n[ç”¨æˆ·åé¦ˆçš„è®¾è®¡]() ä¸€èˆ¬appéƒ½éœ€è¦åé¦ˆæ¨¡å—ä¾›ç”¨æˆ·ä¸»åŠ¨ååº”é—®é¢˜ã€‚\n\n[æ€§èƒ½ã€å†…å­˜ç›‘æ§]() ä¸»è¦æ˜¯å¼€å‘é˜¶æ®µä½¿ç”¨ï¼Œæš´éœ²é—®é¢˜ã€‚ä¾‹å¦‚LeakCanaryã€BlockCanary\n\n### ç”¨æˆ·åˆ†æç³»ç»Ÿ\nè·Ÿè¸ªç”¨æˆ·è¡Œä¸ºï¼Œæ”¶é›†æ•°æ®æ˜¯æŒç»­ä¼˜åŒ–çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯äº§å“é‡è¦èƒ½åŠ›ã€‚åŸºæœ¬çš„åŸ‹ç‚¹æœºåˆ¶æˆ–è€…ç±»ä¼¼äºGoogle Analyseçš„åˆ†æç³»ç»Ÿ\n\n[AppåŸ‹ç‚¹è®¾è®¡ä¸æ•°æ®ä¸ŠæŠ¥]()\n\n[æ¥å…¥ç¬¬ä¸‰æ–¹åˆ†æç³»ç»Ÿ]() è·å–ç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼Œå½¢æˆç”»åƒæ˜¯è¿™äº›ç³»ç»Ÿçš„é‡è¦åŠŸèƒ½ã€‚\n\n### æ¨é€æœºåˆ¶/é•¿è¿æ¥æ–¹æ¡ˆ\næ¨é€çš„ç¬¬ä¸‰æ–¹æ–¹æ¡ˆï¼Œä¿¡é¸½ã€otherï¼Ÿ\néƒ¨åˆ†åº”ç”¨å¯èƒ½éœ€è¦é•¿è¿æ¥ï¼ŒMQTT\n\n### å¯¹å†…è§„èŒƒ\n[æ„å»ºå·¥ç¨‹ç»“æ„]() å¦‚ä½•æ„å»ºåˆç†çš„å·¥ç¨‹ç»“æ„ï¼Œä¾æ®ä¸šåŠ¡ï¼ŸåŠŸèƒ½ï¼Ÿï¼Œå¦‚ä½•æ–¹ä¾¿æ‰©å±•åŠŸèƒ½ï¼Œå‘å¸ƒä¸é€šç‰ˆæœ¬ï¼Ÿ\n\n[ä»£ç Style](https://github.com/square/java-code-styles) Squareçš„java-code-styles,ä¹Ÿå¯ä»¥è‡ªå·±forkåšç›¸åº”çš„ä¿®æ”¹\n\n[èµ„æºStyle]() Androidç‰¹æœ‰çš„é—®é¢˜ï¼Œdimens,styles,stringsä¸­æŒ‰ç…§UIéœ€æ±‚è®¾è®¡ä¸€äº›åŸºæœ¬çš„å…¬å…±å€¼ï¼ˆä¸šåŠ¡æ— å…³ï¼Ÿï¼‰ã€‚å¦åˆ™ä¼šå¯¼è‡´ä¸å¯æ§ã€‚\n\n[ä»£ç æ£€æµ‹]() ä»£ç é™æ€æ£€æµ‹ï¼ŒåŠ¨æ€æ£€æµ‹ï¼Œæå‰å‘ç°æ½œåœ¨é—®é¢˜ï¼Œæé«˜ä»£ç è´¨é‡ã€‚\n\n[CodeReview]() ä»£ç æäº¤commitå‰çš„å®¡æ ¸æµç¨‹\n\n### å¯¹å¤–è§„èŒƒ\n[ç½‘ç»œè¯·æ±‚]() http or httpsï¼Œget or post ,æ˜¯å¦ä½¿ç”¨ç§æœ‰è¯ä¹¦ï¼Ÿ\n\n[jsonæ ¼å¼è§„èŒƒ]() ä½¿ç”¨æ ‡å‡†çš„jsonæ ¼å¼ï¼Œå®šä¹‰åˆç†çš„è¿”å›ç»“æ„å’ŒçŠ¶æ€ç ï¼ˆé”™è¯¯ç å»ºè®®ä¸è¦ä½¿ç”¨http headä¸­çš„ä»£ç ï¼Œéƒ¨åˆ†å¹¿å‘Šå·¥å…·/é˜²ç«å¢™æ‹¦æˆªï¼Œè€Œæ˜¯å®šä¹‰åœ¨jsonä¸­ï¼‰ã€‚\n\n[åŠ å¯†æ–¹å¼æœè§„èŒƒ]() å®šä¹‰ä¸åŒä¿¡æ¯çš„å®‰å…¨ç­‰çº§ä»¥åŠå¯¹åº”åŠ å¯†ç®—æ³•--DES or RSA or MD5æ ¡éªŒ\n\n[è¿­ä»£æµç¨‹ä¸å‘ç‰ˆè§„èŒƒ]() æ•æ·æµç¨‹ï¼Œç°åº¦/å‘ç‰ˆæ ‡å‡†ï¼ˆbugç‡ï¼Ÿï¼‰\n\n[é—®é¢˜è§£å†³æµç¨‹]() æ¬¡å¥¥ï¼Œè¿™äº›é—®é¢˜å¤ªå¤šäº†\n\n### ç°åº¦å‘å¸ƒ\nå¾…ç ”ç©¶ï¼ŒGooglePlayå…·æœ‰æ­¤åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œå¼€å‘ï¼Œå¯¹äºç”¨æˆ·é‡è¾ƒå¤šçš„Appæ­¤åŠŸèƒ½å…·æœ‰é‡è¦æ„ä¹‰ï¼Œé˜²æ­¢æ–°ç‰ˆæœ¬é—®é¢˜å½±å“åˆ°å…¨éƒ¨ç”¨æˆ·å’ŒéªŒè¯åŠŸèƒ½æ•ˆæœéƒ½æœ‰ä½œç”¨ã€‚\n\n### æ’ä»¶åŒ–æŠ€æœ¯\n[ç®€å•å¯é çš„æ’ä»¶åŒ–æŠ€æœ¯](https://github.com/wequick/Small) æ’ä»¶åŒ–æ˜¯å¤§å‹äº§å“çš„æ¡†æ¶éœ€æ±‚ï¼Œå°¤å…¶æ˜¯å¹³å°åŒ–äº§å“æˆ–è€…å¯¹Appå®‰è£…åŒ…å¤§å°æœ‰ä¸¥æ ¼é™åˆ¶çš„åº”ç”¨ã€‚åŒæ—¶ä¹Ÿæ˜¯å¯¹65535é™åˆ¶çš„æŠ€æœ¯è§£å†³æ–¹æ¡ˆã€‚\n\n### çƒ­ä¿®å¤æŠ€æœ¯\n[çƒ­ä¿®å¤æŠ€æœ¯ç ”ç©¶](http://blog.zhaiyifan.cn/2015/11/20/HotPatchCompare/) çƒ­ä¿®å¤æŠ€æœ¯æ˜¯äº§å“ä¸Šçº¿åç´§æ€¥ä¿®å¤çš„éœ€è¦ï¼Œæ˜¯å¯¹ç°åº¦å‘å¸ƒè¡¥å……ã€‚\n\n### mockç³»ç»Ÿ\nclientå›¢é˜Ÿå†…éƒ¨å¼€å‘ä½¿ç”¨ï¼Œå¯ä»¥éƒ¨åˆ†è§£å†³serverä¸clientå¼€å‘ä¸åè°ƒçš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯serverè¿›åº¦æ…¢äºclientçš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥ç”¨äºclientç¨‹åºå‘˜è‡ªå·±è°ƒè¯•ç¨‹åºã€‚\n\n### æ€§èƒ½ä¼˜åŒ–\nAppè¿­ä»£åˆ°ä¸€å®šé˜¶æ®µï¼Œè‡ªç„¶è€Œç„¶åœ°ä¼šè¿›å…¥è¿™ä¹ˆä¸€ä¸ªé˜¶æ®µã€‚ä¸€ä¸ªå¥½çš„æ¡†æ¶å¯èƒ½ä¼šæš‚æ—¶éšè—è¿™äº›é—®é¢˜ã€‚ä½†æ˜¯å¯¹ç³»ç»Ÿçš„æŒç»­ç›‘æ§ï¼ˆæ€§èƒ½åˆ†ææŠ¥å‘Šï¼‰æ˜¯å¿…ä¸å¯å°‘ï¼ŒåŠæ—©å‘ç°é—®é¢˜ä¸å®šä½ï¼Œå¯»æ±‚æ—¶é—´ä¼˜åŒ–é—®é¢˜ååˆ†é‡è¦ã€‚\n\n### ç‰ˆæœ¬ç®¡ç†å·¥å…·\n[git](http://www.bootcss.com/p/git-guide/) ä½¿ç”¨è¾ƒå¤šçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œä»£æ›¿svnç­‰ä¼ ç»Ÿå·¥å…·\n[git flow](http://nvie.com/posts/a-successful-git-branching-model/)  gitç‰ˆæœ¬ç®¡ç†çš„å·¥ä½œæµçš„æœ€ä½³å®è·µã€‚æ»¡è¶³æ­£å¼å¼€å‘ã€æ–°ç‰¹æ€§é¢„ç ”ã€ç°åº¦ã€Releaseç­‰ç‰ˆæœ¬çš„å‘å¸ƒéœ€æ±‚ã€‚\n[gitæœåŠ¡å™¨æ­å»º]()\n[gitlab](https://about.gitlab.com/gitlab-com/) å¼€æºçš„æœ¬åœ°ç®¡ç†ç³»ç»Ÿï¼Œç±»ä¼¼githubçš„åŠŸèƒ½\n\n### Code Reviewå·¥å…·\n[Gerrit]() é€‚ç”¨äºå›¢é˜Ÿå†…éƒ¨å¼€å‘ä»£ç æäº¤å®¡æ ¸çš„å·¥å…·ã€‚ä»¥åŠè¯¥å·¥å…·ä¸IDEã€Gitçš„é›†æˆã€‚\n\n### æŒç»­é›†æˆ\n[jenkins+git+gerritæ–¹æ¡ˆ]() å°†Androidçš„Gradle build æŒç»­é›†æˆ\n\n> æ˜¯å¦è€ƒè™‘ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Ÿ\n\n\n## è¶‹åŠ¿\nä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œèƒ½æ„Ÿå—åˆ°Androidå¼€å‘æŠ€æœ¯å‘å±•è¿…é€Ÿï¼Œæ–°æŠ€æœ¯ç›®ä¸æš‡æ¥ã€‚**åˆ†äº«ä¸€äº›ä¿¡æ¯è·å–[æ¸ é“](http://www.limuzhi.com/read/)**ã€‚å¯¹äºè¶‹åŠ¿ï¼Œç±»æ¯”äºå…¶ä»–æŠ€æœ¯æ˜¯ç§ä¸é”™çš„æ€è·¯ï¼Œ[ã€Šä»ä¸­é—´ä»¶çš„å†å²æ¥çœ‹ç§»åŠ¨Appå¼€å‘çš„æœªæ¥ã€‹](http://blog.jobbole.com/91662/)ç»™æˆ‘ä¸€äº›å¯å‘ã€‚\n\n[React](http://www.ruanyifeng.com/blog/2015/03/react.html) FBæå‡ºçš„ä¸€ç§Jsçš„mvcå¼€å‘æ¡†æ¶ï¼Œè™šæ‹Ÿdomå…·æœ‰é«˜æ•ˆçš„ç‰¹ç‚¹ï¼Œå¹¶ä¸”å¯ä»¥æ‰©å±•åˆ°Appä¸­ã€‚JavaScriptæœ‰æœ›å é¢†å‰åç«¯(Node.js)å’Œå„ä¸ªå¹³å°ã€‚\n\n[React Native](http://www.androidweekly.cn/android-dev-special-weekly-react-native/) Reactçš„androidç‰ˆæœ¬ï¼Œæœ‰æœ›å–ä»£å…¶ä»–çš„hybridå¼€å‘æ¡†æ¶ã€‚\n\n\n## æœ€åä¸€äº›è¯\nè‡³æ­¤ï¼ŒåŸºæœ¬æ€»ç»“äº†Appå¼€å‘çš„æŠ€æœ¯ç‚¹ï¼Œç•™äº†å¾ˆå¤šå‘ç­‰ç€ä»¥åæ…¢æ…¢å¡«ï¼Œæ¯ä¸€ç‚¹å±•å¼€éƒ½èƒ½å†™å¾ˆå¤šã€‚åç»­ä¼šä¸æ–­æ›´æ–°è¿™äº›æ–‡ç« åˆ°è‡ªå·±çš„åšæ–‡ï¼Œä¹Ÿå¯èƒ½å¢åˆ ä¸€äº›å†…å®¹ã€‚ä»å“ªé‡Œå¼€å§‹å†™è¿˜æ²¡æœ‰æƒ³å¥½ï¼ŒæœŸé—´ä¼šæ’å…¥ä¸€äº›å°é¡¹ç›®ã€‚æ‰“ç®—åœ¨æ˜¥èŠ‚å‰å†™ä¸€ä¸ªæŠ¢çº¢åŒ…çš„ç³»åˆ—æ–‡ç« ï¼Œä¸»è¦åˆ†æä¸€äº›æŠ¢çº¢åŒ…æ’ä»¶çš„æºç ã€‚\n\næœ¬äººä¸€å¹´å¤šçš„å·¥ä½œç»éªŒï¼Œå¤§éƒ¨åˆ†çš„å†…å®¹ä¹Ÿåœ¨æ¢ç´¢ä¸­æˆ–è€…åªæœ‰ä¸€äº›æ¦‚å¿µï¼Œä»»ä½•é—®é¢˜æ¬¢è¿æå‡ºã€‚","slug":"å§‹å‘ç«™ï¼Œå°†é€šå¾€ä½•å¤„","published":1,"updated":"2016-02-02T06:49:04.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cilg4yv6j000g0uc9dmwulntc"},{"title":"Googleæ¨èçš„Androidåº”ç”¨æ¡†æ¶ä¹‹demo","date":"2016-01-31T08:04:50.000Z","_content":"è¿‘æ—¥ï¼Œåœ¨Googleå¼€å‘è€…çš„å¾®åšä¸Šæ¨èäº†ä¸€ä¸ªè§†é¢‘ï¼Œæ˜¯2015å¹´å¼€å‘è€…å³°ä¼šä¸Šä¸¤ä½Googleçš„Coderçš„æ¼”è®²ï¼Œå…³äºAndroidåº”ç”¨æ¡†æ¶ï¼Œä¸­æ–‡ç›¸å…³ä»‹ç»æ–‡ç« [çœ‹è¿™é‡Œ](http://blog.zhaiyifan.cn/2016/01/29/android-app-architecture-2015/)ã€‚\næ¼”è®²ä¸­æœ‰ä¸ªdemoï¼Œç±»ä¼¼äºä¸€ä¸ªQQçš„èŠå¤©ç•Œé¢çš„ç¨‹åºï¼Œç”¨è¿™ä¸ªä¾‹å­è®²è§£äº†å¦‚ä½•ä¼˜é›…åœ°å¤„ç†åœ¨å„ç§ç½‘ç»œå¼‚å¸¸çš„æƒ…å†µä¸‹çš„UIç•Œé¢ï¼Œæ—¢å¦‚ä½•è®¾è®¡ä¸€ä¸ªofflineçš„åº”ç”¨ã€‚\nç½‘ç»œè¯·æ±‚ä¸æœ¬åœ°ç¼“å­˜ç›¸ç»“åˆä»¥è·å–æœ€å¥½çš„ç”¨æˆ·ä½“éªŒåº”å½“æ˜¯å‡ ä¹æ‰€æœ‰Androidåº”ç”¨çš„åŸºæœ¬éœ€æ±‚ã€‚ä»æˆ‘çš„å¼€å‘ç»éªŒçœ‹ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šå¿½ç•¥ä¹‹ä¸€ç‚¹ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯ç›´æ¥ä»ç½‘ç»œæ‹¿å›æ•°æ®æ˜¾ç¤ºåœ¨ç•Œé¢ä¸Šï¼Œå¦‚æœç½‘ç»œä¸å¥½ï¼Œå°±ä¸æ–­loadingã€‚ã€‚ã€‚åœ¨æ— ç½‘æƒ…å†µä¸‹ï¼Œappæ˜¯ä¸å¯ç”¨çš„ã€‚\n\n* æ‹‰é€»è¾‘--è·å–åˆ—è¡¨ï¼Œæ­¤è¿‡ç¨‹æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨ï¼Œæˆ‘ä»¬å¤§éƒ¨åˆ†æ˜¯è·å–æ•°æ®ç„¶åå±•ç¤ºç»™ç”¨æˆ·ï¼Œä»…ä»…éœ€è¦æœ¬åœ°æœ‰ä¸€ä»½æ•°æ®ä»¥å¤‡åœ¨æ— ç½‘æ—¶ä½¿ç”¨ã€‚è¿™ä¸ªé€»è¾‘åœ¨åº”ç”¨ä¸­åŸºæœ¬æ˜¯é€šç”¨çš„ã€‚\n* æ¨é€»è¾‘--æäº¤postï¼Œdemoä¸­å¯¹æŸäº›è¯·æ±‚è¿›è¡Œæ’é˜Ÿï¼Œåœ¨åå°ä¸æ–­é‡è¯•ï¼Œè¿™ç§é€»è¾‘å¯¹äºæŸäº›åº”ç”¨åº”è¯¥æ˜¯ä¸é€‚ç”¨çš„ï¼Œæ¯•ç«Ÿå¤§éƒ¨åˆ†åº”ç”¨æ˜¯ä¸éœ€è¦è¿™ç§ã€å¼ºåŒæ­¥ã€çš„ï¼ˆæ—¢serverä¸localå®Œå…¨ä¸€è‡´ï¼Œå¦‚èŠå¤©listæˆ–è®°è´¦ï¼Œå¾®ä¿¡å‘æœ‹å‹åœˆï¼‰ã€‚åœ¨ä¸€èˆ¬åº”ç”¨ä¸­ä»¥ä¸‹ä¸¤ç§æƒ…å†µæ›´åŠ å¸¸è§ï¼š\n\n\t* ç»“æœå¤±è´¥ä¸å¦å¹¶ä¸é‡è¦ã€‚å¦‚ç‚¹èµè¿™äº›åŠŸèƒ½ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è¿™ä¹ˆå¹²ã€‚\n\t* æ“ä½œæ˜¯ä¸€äº›é‡è¦çš„ä¸å¯é‡å¤æ“ä½œï¼Œå¿…é¡»é”æ­»å±å¹•ã€‚å¦‚æäº¤è®¢å•ï¼Œä»˜æ¬¾ç­‰ã€‚\n\né€‰æ‹©å“ªä¸€ç§äº¤äº’æ˜¯è®¾è®¡é˜¶æ®µå¿…é¡»è€ƒè™‘çš„ï¼Œè¿™ç›´æ¥å†³å®šäº†ç¼–ç æ–¹å¼ã€‚å½“ç„¶ï¼Œä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„æ¡†æ¶å¿…é¡»è¦æä¾›è¿™äº›èƒ½åŠ›:\n\n* å°è£…ç½‘ç»œè¯·æ±‚ä¸æœ¬åœ°æ•°æ®æ”¯æŒæ‹‰é€»è¾‘çš„æ“ä½œï¼Œå¼€å‘è€…å¯ä»¥é€‰æ‹©æ˜¯å¦å…ˆä½¿ç”¨æœ¬åœ°æ•°æ®å†ç­‰å¾…ç½‘ç»œæ›´æ–°ã€‚è¿˜æ˜¯åªä½¿ç”¨ç½‘ç»œæ•°æ®ã€‚\n* æ”¯æŒç®€å•è¯·æ±‚ï¼Œé”æ­»ç­‰å¾…ï¼Œè¿˜æ˜¯å¼‚æ­¥çš„ã€‚\n* æ”¯æŒåå°å¯é‡å¤å‘é€çš„è¯·æ±‚--å¼ºåŒæ­¥--æ—¢Act locally, Sync globallyã€‚\n\næ‰¯è¿œäº†ï¼Œéœ€è¦ä¸€ç¯‡æ–‡ç« å†™ä¸€äº›appä¸­å¯èƒ½ç”¨åˆ°å„ç§äº¤äº’ä¸è¯·æ±‚é€»è¾‘ã€‚\n\nä¸‹é¢ç¿»è¯‘ä¸‹Googleè¿™ä¸ªdemoçš„READMEæ–‡ä»¶ã€‚äº†è§£ä¸€ä¸‹è®¾è®¡æ€æƒ³ã€‚\n\n## ç®€ä»‹\nè¿™æ˜¯ä¸ªç®€å•çš„ç¤¾äº¤è½¯ä»¶ï¼Œåˆ—è¡¨å¯ä»¥å±•ç¤ºå…¶ä»–äººçš„æ¶ˆæ¯ï¼ˆæˆ‘ä»¬å«ä»–feedæµï¼‰ï¼Œç”¨æˆ·è¿˜å¯ä»¥å‘é€æ–‡æœ¬ä¿¡æ¯ã€‚\n\næœ¬æ–‡çš„ç›®çš„æ˜¯è®²è¿°å¦‚ä½•è®¾è®¡ä¸€ä¸ªåº”ç”¨ï¼Œå¯ä»¥ç¦»çº¿ä½¿ç”¨ï¼Œå¹¶åœ¨ç½‘ç»œå¯ç”¨æ—¶åŒæ­¥ä¿¡æ¯åˆ°æœåŠ¡å™¨ï¼Œå°½é‡ä¸å½±å“ç”¨æˆ·ã€‚\n\n* å¦‚ä½•å·¥ä½œ\n* ç»„ä»¶\n* æ•°æ®æµ\n\t* å‘é€ä¿¡æ¯\n\t* åŒæ­¥feedæµ\n\t* ä¿æŒUIæ›´æ–°\n* å®‰è£…&è¿è¡Œ&æµ‹è¯•\n\t* å®‰è£…\n\t* è¿è¡Œ\n\t* æµ‹è¯•\n* å…¶ä»–\n\t* é¿å…é‡å¤å‘é€ä¿¡æ¯ \n* ç‰ˆæƒè®¸å¯\n\n## å¦‚ä½•å·¥ä½œ\nå…³äºã€ç¦»çº¿è®¾è®¡ã€è¿™ä¸ªä¸»é¢˜ï¼Œè®¸å¤šè§£å†³æ–¹æ¡ˆéƒ½æ˜¯ä¾èµ–äºç‰¹å®šçš„éœ€æ±‚ï¼Œå¦‚æœæƒ³è¦è¿ç”¨åˆ°å…¶ä»–åœºæ™¯ï¼Œéœ€è¦ä¸€äº›ä¿®æ”¹ã€‚å› æ­¤ï¼Œè¿™ä¸ªdemoçš„åŒæ­¥é€»è¾‘å¯èƒ½å¹¶ä¸é€‚åˆä½ çš„éœ€æ±‚ã€‚ä½ åº”å½“æŠŠå®ƒå½“åšä¸€ä¸ªä¾‹å­å­¦ä¹ ï¼Œç„¶åæ‰¾å‡ºé€‚åˆä½ çš„åº”ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚ä¸å¹¸çš„æ˜¯ï¼Œæ²¡æœ‰è®¾è®¡ç¦»çº¿åº”ç”¨çš„ä¸‡é‡‘æ²¹ã€‚\nè¿™é‡Œï¼Œæˆ‘ä»¬ä¼šè§£é‡Šç”¨æˆ·çš„äº¤äº’æµæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä¼šç»™ä½ çš„åº”ç”¨æä¾›ä¸€äº›ä¸é”™çš„æƒ³æ³•ã€‚\nè¿™ä¸ªä¾‹å­æ²¡æœ‰ä¸¥æ ¼ä¾ç…§ä»»ä½•çš„æ„æ¶æ¨¡å¼ï¼Œå®ƒä½¿ç”¨æ··åˆæ–¹æ³•æ»¡è¶³è‡ªå·±çš„éœ€æ±‚ã€‚æˆ‘ä»¬å‡è®¾è¿™ä¸ªåº”ç”¨ä¼šä¸æ–­æˆé•¿ä¸ºä¸€ä¸ªå¤§çš„appï¼ˆå› æ­¤ä¸‹é¢æ¯”è¾ƒå¤æ‚ï¼‰ã€‚å°½ç®¡å¢åŠ äº†å¤æ‚åº¦ï¼Œä½†æ˜¯æˆ‘æ²¡å°½é‡æ˜¯è¿™ä¸ªdemoæ›´åŠ çœŸå®æœ‰ç”¨ã€‚\n\n## ç»„ä»¶\n* Value Objects:\n\t* è¿™äº›å¯¹è±¡é€šå¸¸ä¿æŒç€æ•°æ®åº“ä¸­å­˜å‚¨çš„æ•°æ®ï¼Œè¿™äº›å¯¹è±¡ä¹ŸçŸ¥é“å¦‚ä½•æ ¡éªŒè¿™äº›æ•°æ®çš„åˆæ³•æ€§ã€‚å¦‚æœServerå‘é€äº†ä¸€ä¸‹æ— æ•ˆæ•°æ®ï¼ˆæ¯”å¦‚ï¼ŒAPIæ”¹å˜äº†ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®ƒä»¬å½±å“Modelä¹‹å‰å°±å¿½ç•¥å®ƒä»¬ã€‚\n* Models:\n\t* æ‰¶ç€æ•°æ®æŒä¹…åŒ–ï¼Œä¿æŒåˆ°æœ¬åœ°ï¼Œå¹¶æä¾›æ–¹æ³•è·å–æ•°æ®ã€‚\n* Controllers:\n\t* ä¿å­˜ç€åº”ç”¨ç¨‹åºä¸»è¦é€»è¾‘ï¼Œå®ƒå†³å®šå¦‚ä½•åšæŸäº‹ï¼ˆå¦‚å‘é€æ¶ˆæ¯ï¼‰ï¼Œå¤„ç†gcmæ¶ˆæ¯ç­‰ã€‚\n* Activities:\n\t* æ§åˆ¶ç”¨æˆ·ç•Œé¢ï¼Œä»–ä»¬çŸ¥é“å“ªé‡Œéœ€è¦åŠ è½½æ•°æ®ï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦åˆ·æ–°è‡ªå·±ã€‚\n* Events:\n\t* æœ¬demoä½¿ç”¨ä¸€ä¸ªå…¨å±€çš„EventBusï¼Œå®ƒå”¯ä¸€çš„ä½œç”¨æ˜¯é€šçŸ¥UIæ›´æ–°ã€‚\n\t* å½“UIéœ€è¦ä»åº”ç”¨é€»è¾‘é‚£é‡Œè·å–æ•°æ®ï¼Œç›´æ¥è°ƒç”¨ç›¸å…³æ–¹æ³•å°±å¯ä»¥ã€‚è¿™ç§è®¾è®¡ç¬¦åˆAndroidè¿™ä¸ªUIç”Ÿå‘½å‘¨æœŸçŸ­çš„è®¾è®¡ã€‚è¿™ç§æ•°æ®æµä¹Ÿé¿å…äº†UIå’Œåå°çº¿ç¨‹çš„å¾ªç¯å¼•ç”¨ã€‚\n* Jobs:\n\t* ä»–ä»¬å¯èƒ½æ˜¯å®šä¹‰è‰¯å¥½çš„ç½‘ç»œæ“ä½œï¼ˆè¿™æ¯”è¾ƒå…¸å‹ï¼Œä½†æœªå¿…ï¼‰ï¼Œ å¯ä»¥æŠŠä½ çš„åº”ç”¨é€»è¾‘æ‹†åˆ†æˆå¤šä¸ªjobï¼Œè¿™æ›´æ–¹ä¾¿æµ‹è¯•å’Œæ‰©å±•ã€‚ä¾‹å¦‚å‘é€ç”¨æˆ·çš„æ–‡æœ¬æ¶ˆæ¯åˆ°æœåŠ¡å™¨å°±æ˜¯ä¸€ä¸ªjobï¼ŒåŒæ­¥ç”¨æˆ·çš„feedæµåˆ°æœåŠ¡å™¨ä¹Ÿæ˜¯ä¸ªjobã€‚\n\n## æ•°æ®æµ\n\n### å‘é€æ¶ˆæ¯\nå½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®ï¼Œé¦–å…ˆä¼šå‘ç”Ÿè¿™ä¹ˆ4æ­¥ï¼š1.éªŒè¯æ¶ˆæ¯åˆæ³•æ€§ã€‚2.ä¿æŒæ¶ˆæ¯åˆ°æœ¬åœ°ç£ç›˜å­˜å‚¨ï¼ˆè¿™ä¸ªä¾‹å­ä¸­è¿™æ˜¯ä¸€ä¸ªjobï¼‰ã€‚3.æ›´æ–°PostModelæ·»åŠ æ–°çš„ä¿¡æ¯ã€‚4.å‘é€eventé€šçŸ¥æœ‰æ¶ˆæ¯æ›´æ–°ã€‚\nï¼ˆå¯é€‰çš„ï¼‰4.a.å¦‚æœUIå¯è§ï¼Œåœ¨æ”¶åˆ°eventåæ›´æ–°å†…å®¹ã€‚\næ³¨æ„ï¼šä¸Šé¢è¿™äº›æ­¥éª¤æ²¡æœ‰æ¶‰åŠç½‘ç»œï¼Œä½†æ˜¯æˆ‘å·²ç»æ›´æ–°äº†ç”¨æˆ·ç•Œé¢&&ä¿æŒå¿…è¦çš„æ•°æ®åˆ°ç£ç›˜ã€‚æœ€åï¼Œæˆ‘ä»¬éœ€è¦ä¸ServeråŒæ­¥ã€‚\n\nåŒæ­¥çš„æ­¥éª¤å¦‚ä¸‹\n![Sync To Server](https://camo.githubusercontent.com/590b0315c04a7e5c0b429fbd521f99062aacde1d/68747470733a2f2f7777772e657665726e6f74652e636f6d2f73686172642f7331392f73682f31313036313730662d346637332d343531392d616537642d3466346166313364343138322f366562656436376534613734613461342f7265732f62656166626235362d633564632d346563622d393934662d3330653036616232313961342f736b697463682e706e67)\n\n* ä¼˜å…ˆçº§ä½œä¸šé˜Ÿåˆ—ï¼Œè´Ÿè´£å¤„ç†æŒä¹…åŒ–jobï¼Œå¤±è´¥æ—¶çš„å›é€€æ“ä½œç­‰ï¼Œæ‰€ä»¥å›¾ä¸­æ²¡æœ‰è¿™äº›ç»†èŠ‚ã€‚\n* ä¸€ä¸ªçœŸå®ç¯å¢ƒçš„appåº”è¯¥ä¸JobSchedulerç»“åˆï¼Œç¡®ä¿æ¶ˆæ¯åœ¨åº”ç”¨å…³é—­åä¹Ÿå¯ä»¥å‘é€ã€‚\n* å½“jobå¤±è´¥æ—¶ï¼Œä½ æœ€å¥½ä¿æŒä¸€äº›ä¿¡æ¯åˆ°ç£ç›˜ï¼Œé‚£æ ·ä¸‹æ¬¡ç”¨æˆ·æ‰“å¼€appæ—¶ï¼Œä½ å¯ä»¥é€šçŸ¥ä»–ä»¬å‘ç”Ÿäº†ä»€ä¹ˆã€‚è¿™ä¸ªdemoä¸­ï¼Œå½“FeedActivityä¸å¯è§æ—¶ä¼šæ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥ã€‚\n\n### åŒæ­¥Feedæµ\nåŒæ­¥æ“ä½œæœ‰ä¸‹é¢ä¸‰ä¸ªç»„ä»¶è´Ÿè´£ï¼š\n\n* FeedModelï¼š\n\t* ä¸ºæ¯ä¸ªfeedæµä¿å­˜æœ€åä¸€æ¡FeedItemï¼ˆæ—¢å‘é€çš„æ¶ˆæ¯ï¼‰çš„æ—¶é—´æˆ³ã€‚è¿™ä¸ªæ—¶é—´æˆ³æœ‰ä¸¤ä¸ªä½œç”¨\n\t\t* å½“æˆ‘ä»¬åˆ·æ–°feedæµæ—¶ï¼Œåªæ¥æ”¶æœ€æ–°çš„itemã€‚\n\t\t* åˆ›å»ºä¿å­˜åœ¨æœ¬åœ°çš„æ¶ˆæ¯ã€‚æœ¬åœ°åˆ›å»ºçš„æ¶ˆæ¯ä¼šæ˜¾ç¤ºåœ¨feedæŸ¥è¯¢ä¸­æ˜¯å¾ˆé‡è¦çš„ã€‚ å®¢æˆ·ç«¯çš„æ—¶é—´æˆ³å¯èƒ½ä¸serverä¸åŒï¼Œåªæœ‰å½“æ¶ˆæ¯ä¸ServeråŒæ­¥æ—¶ï¼Œæˆ‘ä»¬åˆ†é…feedæœ€æ–°çš„æ—¶é—´æˆ³ç»™è¿™ä¸ªæ–°çš„æ¶ˆæ¯ã€‚ï¼Ÿï¼Ÿï¼Ÿ\n\t* ç»™UIå±‚æä¾›ä»æ•°æ®åº“è·å–feedæµçš„æ–¹æ³•ã€‚\n* FeedControllerï¼š\n\t* è´Ÿè´£åˆ›å»º`FetchFeedJob`\n\t* ç›‘å¬æ¶ˆæ¯æ›´æ–°å¤±è´¥ï¼Œä½¿ç”¨ç³»ç»Ÿçš„é€šçŸ¥æ é€šçŸ¥ç”¨æˆ·ã€‚é™¤éå…¶ä»–çš„UIç»„ä»¶ï¼ˆå¦‚FeedActivityï¼‰å·²ç»å¤„ç†äº†é”™è¯¯ã€‚\n\t* è¿™ä¸ªç¤ºä¾‹çš„appå¾ˆåŸºç¡€ï¼Œåœ¨çœŸå®ç¯å¢ƒä¸­ï¼Œå®ƒå¯èƒ½è¿˜è¦è´Ÿè´£å½“æœ‰GCMæ¨é€åˆ°è¾¾æ—¶åˆ·æ–°feedæµã€‚ä»¥åŠåŒ…æ‹¬ä¸€äº›é˜²æ­¢ç”¨æˆ·é¢‘ç¹åˆ·æ–°çš„é€»è¾‘ã€‚\n* FetFeedJobï¼š\n\t* å‘å‡ºAPIè°ƒç”¨ï¼Œè·å–æŸä¸ªfeedæµçš„æœ€æ–°æ¶ˆæ¯åˆ—è¡¨ã€‚è¿˜è´Ÿè´£æ›´æ–°modelå’Œå‘å‡ºeventã€‚\n\n### ä¿æŒUIæ›´æ–°\nåå°ä¸UIçš„äº¤äº’éœ€è¦è‰¯å¥½çš„å®šä¹‰ã€‚\n\n* ç­‰ç•Œé¢éœ€è¦åšæŸä»¶äº‹æƒ…æ—¶ï¼ŒUIç›´æ¥è°ƒç”¨æŸä¸ªæ–¹æ³•ï¼ˆå¦‚å‘é€æ¶ˆæ¯ï¼‰ã€‚\n* åå°ä»»åŠ¡ç»“æŸæ—¶å‘å‡ºeventé€šçŸ¥UIæ›´æ–°ï¼ˆå¦‚æ›´æ–°å¤±è´¥ï¼‰ã€‚\n\nUIç»„ä»¶æ ¹æ®è‡ªèº«çš„ç”Ÿå‘½å‘¨æœŸè´Ÿè´£æ³¨å†Œ/åæ³¨å†ŒEventBusï¼Œå› ä¸ºåå°æ°¸è¿œä¸ä¼šæŒæœ‰UIçš„å¼•ç”¨ï¼Œæˆ‘ä»¬ä¸æƒ³æœ‰å†…å­˜æ³„æ¼çš„é£é™©ã€‚\n\n* EventBusçš„ä½¿ç”¨å¯èƒ½å¼•èµ·ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µï¼šç”±äºUIé”™è¿‡äº†ä¸€äº›eventæ—¶ï¼Œå¯¼è‡´ä¸åŒæ­¥ã€‚æœ¬Demoä½¿ç”¨ä¸‹é¢çš„è§„åˆ™é¿å…è¿™ç§æ¸…ç©ºã€‚\n\t* å½“ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå¼€å§‹æ—¶ï¼Œå…ˆæ³¨å†Œeventï¼Œç„¶ååœ¨å†ä»modelåŠ è½½æ•°æ®ã€‚\n\t* å½“æ­£åœ¨åŠ è½½æ•°æ®æ—¶ï¼Œå¦‚æœæœ‰eventåˆ°æ¥ï¼Œä¼šåœ¨æ•°æ®åŠ è½½å®Œæˆåå†æ¬¡è§¦å‘ä¸€æ¬¡åŒæ­¥ã€‚\n\t* æ‰€æœ‰çš„eventéƒ½å«æœ‰ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œå®ƒè¡¨ç¤ºä¸è¯¥eventç›¸å…³çš„æœ€è€çš„itemçš„æ—¶é—´ã€‚å½“UIè®¿é—®modelå±‚æ—¶ä¼šä½¿ç”¨è¿™ä¸ªæ—¶é—´æˆ³ï¼Œé‚£ä¹ˆï¼Œå¦‚æœitemæ’å…¥æ•°æ®åº“æ—¶é¡ºåºä¸åŒï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥è·å–åˆ°è¿™äº›itemï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†æœ€è€çš„æ—¶é—´æˆ³ã€‚ï¼Ÿï¼Ÿï¼Ÿ\n\t* å½“ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶ï¼ˆä¾‹å¦‚`Activity#onStop`ï¼‰,åœæ­¢ç›‘å¬eventã€‚å¦‚æœï¼Œæˆ‘ä»¬å†è¿”å›åº”ç”¨ï¼Œä»–ä¼šåšä¸€ä¸ªå®Œæ•´çš„åŒæ­¥ï¼Œç¡®ä¿ä¸ä¼šä¸¢å¤±åœ¨è¿™æœŸé—´å‘ç”Ÿçš„eventã€‚\n\n**è¿™ä¸æ˜¯å”¯ä¸€çš„åŠæ³•**ï¼šç¤ºä¾‹ä¸­ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªå…¨å±€çš„EventBusï¼Œä½ ä¹Ÿå¯ä»¥ç”¨Rxå®ç°ç›¸ä¼¼çš„åŠŸèƒ½ï¼Œæˆ–è€…æ‰‹åŠ¨è®¾ç½®listenerï¼Œä»¥åŠå…¶ä»–ç›¸ä¼¼çš„æŠ€æœ¯ã€‚æ€»ä¹‹ï¼Œä½ éœ€è¦æ ¹æ®è‡ªå·±çš„åº”ç”¨æ¥è¯„ä¼°ã€‚\n\n## å®‰è£…&&è¿è¡Œ&&æµ‹è¯•\n### å®‰è£…\ndemoåŒ…å«ä¸€ä¸ªç®€å•çš„serverï¼Œä½ éœ€è¦å®‰è£…Ruby On Railsæ¥è¿è¡Œå®ƒã€‚å»ºè®®ä½ é€šè¿‡[Ruby Version Manager](https://rvm.io/)æ¥å®‰è£…ã€‚å®‰è£…å®Œä¹‹åï¼Œä½¿ç”¨ä¸‹é¢å‘½ä»¤å¯åŠ¨serverï¼š\n\n```xml\n> cd server;\n> bundle install;\n> rake db:migrate RAILS_ENV=development;\n```\nè¿™ä¼šå®‰è£…ä¾èµ–ï¼Œåˆ›å»ºæ•°æ®åº“ã€‚\n\n### è¿è¡Œ\n#### æœåŠ¡å™¨\n\n```xml\n> cd server;\n> rails s\n```\n\n#### å®¢æˆ·ç«¯\ndemoä¸­appä½¿ç”¨æ¨¡æ‹Ÿå™¨ç¯å¢ƒé»˜è®¤çš„hoståœ°å€ã€‚ï¼ˆ`http://10.0.2.2:3000`ï¼‰ã€‚å¦‚æœä½ åœ¨æ¨¡æ‹Ÿå™¨é‡Œè¿è¡Œï¼Œå·²ç»å¯ä»¥æ­£å¸¸å·¥ä½œã€‚ä½ å¯ä»¥åœ¨è®¾ç½®èœå•ä¸­ä¿®æ”¹ï¼Œæˆ–è€…åœ¨`DemoConfig`ç±»ä¸­ç›´æ¥ä¿®æ”¹ã€‚\n\n### æµ‹è¯•\n\n* æœåŠ¡å™¨ï¼šæœåŠ¡ç«¯æ²¡æœ‰ã€‚ã€‚æˆ‘åˆä¸å…³å¿ƒã€‚\n* å®¢æˆ·ç«¯ï¼šä½ å¯ä»¥è¿™æ ·è¿è¡Œæµ‹è¯• `> cd client; > ./gradlew clean app:connectedCheck app:test`\n\n## å…¶ä»–\n### é¿å…é‡å¤å‘é€æ¶ˆæ¯\nç¼–å†™ç§»åŠ¨åº”ç”¨æ„å‘³ç€ä½ è¦å¤„ç†ä¸å¯é çš„ç½‘ç»œã€‚é€šè¿‡ä½¿ç”¨æŒä¹…åŒ–çš„jobï¼ˆå­˜å‚¨åœ¨æœ¬åœ°ï¼‰ï¼Œåœ¨ç½‘ç»œå¯ç”¨æ—¶ï¼Œappå·¥ä½œäº†å¾ˆä¸é”™ï¼Œå¯æ˜¯å¹¶ä¸å®Œç¾ã€‚åœ¨ä¸å¯é çš„ç½‘ç»œæ¡ä»¶ä¸‹ï¼Œæˆ‘ä»¬çš„åº”ç”¨å¯èƒ½å‡ºç°è¿™ç§æƒ…å†µï¼šæœåŠ¡ç«¯é‚£æ•°æ®å·²ç»æ›´æ–°å­˜å‚¨äº†ï¼Œä½†æ˜¯å®¢æˆ·ç«¯æ²¡æœ‰æ”¶åˆ°æˆåŠŸçš„è¿”å›ã€‚é‚£ä¹ˆå®¢æˆ·ç«¯ä¾ç„¶è®¤ä¸ºæ¶ˆæ¯æ²¡æœ‰ä¸Šä¼ ï¼Œä¼šä¸æ–­é‡è¯•ã€‚å¦‚æœserverçš„è¿”å›æœ‰é—®é¢˜ï¼Œè¿™å°±ä¼šå˜å¾—æ›´ç³Ÿç³•ã€‚\né€šå¸¸æƒ…å†µä¸‹ï¼Œé‡è¯•å°±ä»¥ä¸ºè¿™é‡å¤ä¸Šä¼ æ¶ˆæ¯ã€‚æœ‰å¾ˆå¤šç­–ç•¥å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚demoä¸­æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå”¯ä¸€çš„äºŒç»´å…ƒç»„`(userId, clientId)`æ¥é¿å…é‡å¤ï¼Œå®ƒçš„åŸç†å¦‚ä¸‹ï¼š\n\n* å®¢æˆ·ç«¯åˆ›å»ºæ¶ˆæ¯æ—¶ï¼Œç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„`clientId`ï¼ˆ`UUID.randomUUID().toString()`,æ³¨ï¼šéšç€æ—¶é—´ä¼šå˜åŒ–ï¼‰ã€‚è¿™ä¸ªUUIDå’Œç”¨æˆ·IDçš„ç»„åˆåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½æ˜¯å”¯ä¸€çš„ã€‚\n* å½“æœåŠ¡ç«¯æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œæ£€æŸ¥è¿™ä¸ªå…ƒç»„æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä»¥åŠå­˜åœ¨ï¼Œä¸ä¼šæ–°å¢ä¸€æ¡å­˜å‚¨è®°å½•ï¼Œè€Œæ˜¯ä»…ä»…è¿”å›è¿™ä¸ªæ¡ç›®å·²ç»å­˜åœ¨ã€‚\n* å½“å®¢æˆ·ç«¯è·å–feedæ—¶ï¼Œå¦‚æœå‘ç°ä¸€ä¸ªæ¶ˆæ¯çš„` (userId, client Id)`ä¸æŸä¸ªå­˜åœ¨çš„æ¶ˆæ¯ç›¸åŒï¼Œä¼šè¦†ç›–è¿™å­˜åœ¨çš„æ¶ˆæ¯ã€‚è¿™å¯èƒ½å‘ç”Ÿåœ¨è¿™ç§æƒ…å†µä¸‹å‘ç”Ÿï¼šå®¢æˆ·ç«¯æ²¡æœ‰æ”¶åˆ°æœåŠ¡ç«¯çš„è¿”å›ï¼Œåªæ˜¯æœ¬åœ°ä¿å­˜äº†è¿™ä¸ªæ¶ˆæ¯ï¼Œï¼Œä½†æ˜¯è¿™ä¸ªæ¶ˆæ¯å‡ºç°åœ¨å…¶ä»–æŸä¸ªè¯·æ±‚çš„è¿”å›é‡Œé¢ã€‚ï¼Ÿï¼Ÿéœ€è¦è¿™æ ·å—\n\nä½ å¯ä»¥åœ¨`server/app/controllers/posts_controller.rb`ä¸­ä½¿ç”¨`error_before_saving_post`å’Œ`error_after_saving_post`æ¥è§¦å‘è¿™ç§ç‰¹æ®Šçš„æƒ…å†µã€‚\n\n## ç‰ˆæƒè®¸å¯\n>Copyright (C) 2015 The Android Open Source Project\n\n>Licensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\n\n>You may obtain a copy of the License at\n  http://www.apache.org/licenses/LICENSE-2.0\n\n>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\n>See the License for the specific language governing permissions and limitations under the License.","source":"_posts/Googleæ¨èçš„Androidåº”ç”¨æ¡†æ¶ä¹‹demo.md","raw":"title: Googleæ¨èçš„Androidåº”ç”¨æ¡†æ¶ä¹‹demo\ndate: 2016-01-31 16:04:50\ncategories:\n- æŠ€æœ¯\ntags:\n- Android\n- ä¸»æ¡†æ¶\n---\nè¿‘æ—¥ï¼Œåœ¨Googleå¼€å‘è€…çš„å¾®åšä¸Šæ¨èäº†ä¸€ä¸ªè§†é¢‘ï¼Œæ˜¯2015å¹´å¼€å‘è€…å³°ä¼šä¸Šä¸¤ä½Googleçš„Coderçš„æ¼”è®²ï¼Œå…³äºAndroidåº”ç”¨æ¡†æ¶ï¼Œä¸­æ–‡ç›¸å…³ä»‹ç»æ–‡ç« [çœ‹è¿™é‡Œ](http://blog.zhaiyifan.cn/2016/01/29/android-app-architecture-2015/)ã€‚\næ¼”è®²ä¸­æœ‰ä¸ªdemoï¼Œç±»ä¼¼äºä¸€ä¸ªQQçš„èŠå¤©ç•Œé¢çš„ç¨‹åºï¼Œç”¨è¿™ä¸ªä¾‹å­è®²è§£äº†å¦‚ä½•ä¼˜é›…åœ°å¤„ç†åœ¨å„ç§ç½‘ç»œå¼‚å¸¸çš„æƒ…å†µä¸‹çš„UIç•Œé¢ï¼Œæ—¢å¦‚ä½•è®¾è®¡ä¸€ä¸ªofflineçš„åº”ç”¨ã€‚\nç½‘ç»œè¯·æ±‚ä¸æœ¬åœ°ç¼“å­˜ç›¸ç»“åˆä»¥è·å–æœ€å¥½çš„ç”¨æˆ·ä½“éªŒåº”å½“æ˜¯å‡ ä¹æ‰€æœ‰Androidåº”ç”¨çš„åŸºæœ¬éœ€æ±‚ã€‚ä»æˆ‘çš„å¼€å‘ç»éªŒçœ‹ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šå¿½ç•¥ä¹‹ä¸€ç‚¹ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯ç›´æ¥ä»ç½‘ç»œæ‹¿å›æ•°æ®æ˜¾ç¤ºåœ¨ç•Œé¢ä¸Šï¼Œå¦‚æœç½‘ç»œä¸å¥½ï¼Œå°±ä¸æ–­loadingã€‚ã€‚ã€‚åœ¨æ— ç½‘æƒ…å†µä¸‹ï¼Œappæ˜¯ä¸å¯ç”¨çš„ã€‚\n\n* æ‹‰é€»è¾‘--è·å–åˆ—è¡¨ï¼Œæ­¤è¿‡ç¨‹æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨ï¼Œæˆ‘ä»¬å¤§éƒ¨åˆ†æ˜¯è·å–æ•°æ®ç„¶åå±•ç¤ºç»™ç”¨æˆ·ï¼Œä»…ä»…éœ€è¦æœ¬åœ°æœ‰ä¸€ä»½æ•°æ®ä»¥å¤‡åœ¨æ— ç½‘æ—¶ä½¿ç”¨ã€‚è¿™ä¸ªé€»è¾‘åœ¨åº”ç”¨ä¸­åŸºæœ¬æ˜¯é€šç”¨çš„ã€‚\n* æ¨é€»è¾‘--æäº¤postï¼Œdemoä¸­å¯¹æŸäº›è¯·æ±‚è¿›è¡Œæ’é˜Ÿï¼Œåœ¨åå°ä¸æ–­é‡è¯•ï¼Œè¿™ç§é€»è¾‘å¯¹äºæŸäº›åº”ç”¨åº”è¯¥æ˜¯ä¸é€‚ç”¨çš„ï¼Œæ¯•ç«Ÿå¤§éƒ¨åˆ†åº”ç”¨æ˜¯ä¸éœ€è¦è¿™ç§ã€å¼ºåŒæ­¥ã€çš„ï¼ˆæ—¢serverä¸localå®Œå…¨ä¸€è‡´ï¼Œå¦‚èŠå¤©listæˆ–è®°è´¦ï¼Œå¾®ä¿¡å‘æœ‹å‹åœˆï¼‰ã€‚åœ¨ä¸€èˆ¬åº”ç”¨ä¸­ä»¥ä¸‹ä¸¤ç§æƒ…å†µæ›´åŠ å¸¸è§ï¼š\n\n\t* ç»“æœå¤±è´¥ä¸å¦å¹¶ä¸é‡è¦ã€‚å¦‚ç‚¹èµè¿™äº›åŠŸèƒ½ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è¿™ä¹ˆå¹²ã€‚\n\t* æ“ä½œæ˜¯ä¸€äº›é‡è¦çš„ä¸å¯é‡å¤æ“ä½œï¼Œå¿…é¡»é”æ­»å±å¹•ã€‚å¦‚æäº¤è®¢å•ï¼Œä»˜æ¬¾ç­‰ã€‚\n\né€‰æ‹©å“ªä¸€ç§äº¤äº’æ˜¯è®¾è®¡é˜¶æ®µå¿…é¡»è€ƒè™‘çš„ï¼Œè¿™ç›´æ¥å†³å®šäº†ç¼–ç æ–¹å¼ã€‚å½“ç„¶ï¼Œä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„æ¡†æ¶å¿…é¡»è¦æä¾›è¿™äº›èƒ½åŠ›:\n\n* å°è£…ç½‘ç»œè¯·æ±‚ä¸æœ¬åœ°æ•°æ®æ”¯æŒæ‹‰é€»è¾‘çš„æ“ä½œï¼Œå¼€å‘è€…å¯ä»¥é€‰æ‹©æ˜¯å¦å…ˆä½¿ç”¨æœ¬åœ°æ•°æ®å†ç­‰å¾…ç½‘ç»œæ›´æ–°ã€‚è¿˜æ˜¯åªä½¿ç”¨ç½‘ç»œæ•°æ®ã€‚\n* æ”¯æŒç®€å•è¯·æ±‚ï¼Œé”æ­»ç­‰å¾…ï¼Œè¿˜æ˜¯å¼‚æ­¥çš„ã€‚\n* æ”¯æŒåå°å¯é‡å¤å‘é€çš„è¯·æ±‚--å¼ºåŒæ­¥--æ—¢Act locally, Sync globallyã€‚\n\næ‰¯è¿œäº†ï¼Œéœ€è¦ä¸€ç¯‡æ–‡ç« å†™ä¸€äº›appä¸­å¯èƒ½ç”¨åˆ°å„ç§äº¤äº’ä¸è¯·æ±‚é€»è¾‘ã€‚\n\nä¸‹é¢ç¿»è¯‘ä¸‹Googleè¿™ä¸ªdemoçš„READMEæ–‡ä»¶ã€‚äº†è§£ä¸€ä¸‹è®¾è®¡æ€æƒ³ã€‚\n\n## ç®€ä»‹\nè¿™æ˜¯ä¸ªç®€å•çš„ç¤¾äº¤è½¯ä»¶ï¼Œåˆ—è¡¨å¯ä»¥å±•ç¤ºå…¶ä»–äººçš„æ¶ˆæ¯ï¼ˆæˆ‘ä»¬å«ä»–feedæµï¼‰ï¼Œç”¨æˆ·è¿˜å¯ä»¥å‘é€æ–‡æœ¬ä¿¡æ¯ã€‚\n\næœ¬æ–‡çš„ç›®çš„æ˜¯è®²è¿°å¦‚ä½•è®¾è®¡ä¸€ä¸ªåº”ç”¨ï¼Œå¯ä»¥ç¦»çº¿ä½¿ç”¨ï¼Œå¹¶åœ¨ç½‘ç»œå¯ç”¨æ—¶åŒæ­¥ä¿¡æ¯åˆ°æœåŠ¡å™¨ï¼Œå°½é‡ä¸å½±å“ç”¨æˆ·ã€‚\n\n* å¦‚ä½•å·¥ä½œ\n* ç»„ä»¶\n* æ•°æ®æµ\n\t* å‘é€ä¿¡æ¯\n\t* åŒæ­¥feedæµ\n\t* ä¿æŒUIæ›´æ–°\n* å®‰è£…&è¿è¡Œ&æµ‹è¯•\n\t* å®‰è£…\n\t* è¿è¡Œ\n\t* æµ‹è¯•\n* å…¶ä»–\n\t* é¿å…é‡å¤å‘é€ä¿¡æ¯ \n* ç‰ˆæƒè®¸å¯\n\n## å¦‚ä½•å·¥ä½œ\nå…³äºã€ç¦»çº¿è®¾è®¡ã€è¿™ä¸ªä¸»é¢˜ï¼Œè®¸å¤šè§£å†³æ–¹æ¡ˆéƒ½æ˜¯ä¾èµ–äºç‰¹å®šçš„éœ€æ±‚ï¼Œå¦‚æœæƒ³è¦è¿ç”¨åˆ°å…¶ä»–åœºæ™¯ï¼Œéœ€è¦ä¸€äº›ä¿®æ”¹ã€‚å› æ­¤ï¼Œè¿™ä¸ªdemoçš„åŒæ­¥é€»è¾‘å¯èƒ½å¹¶ä¸é€‚åˆä½ çš„éœ€æ±‚ã€‚ä½ åº”å½“æŠŠå®ƒå½“åšä¸€ä¸ªä¾‹å­å­¦ä¹ ï¼Œç„¶åæ‰¾å‡ºé€‚åˆä½ çš„åº”ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚ä¸å¹¸çš„æ˜¯ï¼Œæ²¡æœ‰è®¾è®¡ç¦»çº¿åº”ç”¨çš„ä¸‡é‡‘æ²¹ã€‚\nè¿™é‡Œï¼Œæˆ‘ä»¬ä¼šè§£é‡Šç”¨æˆ·çš„äº¤äº’æµæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä¼šç»™ä½ çš„åº”ç”¨æä¾›ä¸€äº›ä¸é”™çš„æƒ³æ³•ã€‚\nè¿™ä¸ªä¾‹å­æ²¡æœ‰ä¸¥æ ¼ä¾ç…§ä»»ä½•çš„æ„æ¶æ¨¡å¼ï¼Œå®ƒä½¿ç”¨æ··åˆæ–¹æ³•æ»¡è¶³è‡ªå·±çš„éœ€æ±‚ã€‚æˆ‘ä»¬å‡è®¾è¿™ä¸ªåº”ç”¨ä¼šä¸æ–­æˆé•¿ä¸ºä¸€ä¸ªå¤§çš„appï¼ˆå› æ­¤ä¸‹é¢æ¯”è¾ƒå¤æ‚ï¼‰ã€‚å°½ç®¡å¢åŠ äº†å¤æ‚åº¦ï¼Œä½†æ˜¯æˆ‘æ²¡å°½é‡æ˜¯è¿™ä¸ªdemoæ›´åŠ çœŸå®æœ‰ç”¨ã€‚\n\n## ç»„ä»¶\n* Value Objects:\n\t* è¿™äº›å¯¹è±¡é€šå¸¸ä¿æŒç€æ•°æ®åº“ä¸­å­˜å‚¨çš„æ•°æ®ï¼Œè¿™äº›å¯¹è±¡ä¹ŸçŸ¥é“å¦‚ä½•æ ¡éªŒè¿™äº›æ•°æ®çš„åˆæ³•æ€§ã€‚å¦‚æœServerå‘é€äº†ä¸€ä¸‹æ— æ•ˆæ•°æ®ï¼ˆæ¯”å¦‚ï¼ŒAPIæ”¹å˜äº†ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®ƒä»¬å½±å“Modelä¹‹å‰å°±å¿½ç•¥å®ƒä»¬ã€‚\n* Models:\n\t* æ‰¶ç€æ•°æ®æŒä¹…åŒ–ï¼Œä¿æŒåˆ°æœ¬åœ°ï¼Œå¹¶æä¾›æ–¹æ³•è·å–æ•°æ®ã€‚\n* Controllers:\n\t* ä¿å­˜ç€åº”ç”¨ç¨‹åºä¸»è¦é€»è¾‘ï¼Œå®ƒå†³å®šå¦‚ä½•åšæŸäº‹ï¼ˆå¦‚å‘é€æ¶ˆæ¯ï¼‰ï¼Œå¤„ç†gcmæ¶ˆæ¯ç­‰ã€‚\n* Activities:\n\t* æ§åˆ¶ç”¨æˆ·ç•Œé¢ï¼Œä»–ä»¬çŸ¥é“å“ªé‡Œéœ€è¦åŠ è½½æ•°æ®ï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦åˆ·æ–°è‡ªå·±ã€‚\n* Events:\n\t* æœ¬demoä½¿ç”¨ä¸€ä¸ªå…¨å±€çš„EventBusï¼Œå®ƒå”¯ä¸€çš„ä½œç”¨æ˜¯é€šçŸ¥UIæ›´æ–°ã€‚\n\t* å½“UIéœ€è¦ä»åº”ç”¨é€»è¾‘é‚£é‡Œè·å–æ•°æ®ï¼Œç›´æ¥è°ƒç”¨ç›¸å…³æ–¹æ³•å°±å¯ä»¥ã€‚è¿™ç§è®¾è®¡ç¬¦åˆAndroidè¿™ä¸ªUIç”Ÿå‘½å‘¨æœŸçŸ­çš„è®¾è®¡ã€‚è¿™ç§æ•°æ®æµä¹Ÿé¿å…äº†UIå’Œåå°çº¿ç¨‹çš„å¾ªç¯å¼•ç”¨ã€‚\n* Jobs:\n\t* ä»–ä»¬å¯èƒ½æ˜¯å®šä¹‰è‰¯å¥½çš„ç½‘ç»œæ“ä½œï¼ˆè¿™æ¯”è¾ƒå…¸å‹ï¼Œä½†æœªå¿…ï¼‰ï¼Œ å¯ä»¥æŠŠä½ çš„åº”ç”¨é€»è¾‘æ‹†åˆ†æˆå¤šä¸ªjobï¼Œè¿™æ›´æ–¹ä¾¿æµ‹è¯•å’Œæ‰©å±•ã€‚ä¾‹å¦‚å‘é€ç”¨æˆ·çš„æ–‡æœ¬æ¶ˆæ¯åˆ°æœåŠ¡å™¨å°±æ˜¯ä¸€ä¸ªjobï¼ŒåŒæ­¥ç”¨æˆ·çš„feedæµåˆ°æœåŠ¡å™¨ä¹Ÿæ˜¯ä¸ªjobã€‚\n\n## æ•°æ®æµ\n\n### å‘é€æ¶ˆæ¯\nå½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®ï¼Œé¦–å…ˆä¼šå‘ç”Ÿè¿™ä¹ˆ4æ­¥ï¼š1.éªŒè¯æ¶ˆæ¯åˆæ³•æ€§ã€‚2.ä¿æŒæ¶ˆæ¯åˆ°æœ¬åœ°ç£ç›˜å­˜å‚¨ï¼ˆè¿™ä¸ªä¾‹å­ä¸­è¿™æ˜¯ä¸€ä¸ªjobï¼‰ã€‚3.æ›´æ–°PostModelæ·»åŠ æ–°çš„ä¿¡æ¯ã€‚4.å‘é€eventé€šçŸ¥æœ‰æ¶ˆæ¯æ›´æ–°ã€‚\nï¼ˆå¯é€‰çš„ï¼‰4.a.å¦‚æœUIå¯è§ï¼Œåœ¨æ”¶åˆ°eventåæ›´æ–°å†…å®¹ã€‚\næ³¨æ„ï¼šä¸Šé¢è¿™äº›æ­¥éª¤æ²¡æœ‰æ¶‰åŠç½‘ç»œï¼Œä½†æ˜¯æˆ‘å·²ç»æ›´æ–°äº†ç”¨æˆ·ç•Œé¢&&ä¿æŒå¿…è¦çš„æ•°æ®åˆ°ç£ç›˜ã€‚æœ€åï¼Œæˆ‘ä»¬éœ€è¦ä¸ServeråŒæ­¥ã€‚\n\nåŒæ­¥çš„æ­¥éª¤å¦‚ä¸‹\n![Sync To Server](https://camo.githubusercontent.com/590b0315c04a7e5c0b429fbd521f99062aacde1d/68747470733a2f2f7777772e657665726e6f74652e636f6d2f73686172642f7331392f73682f31313036313730662d346637332d343531392d616537642d3466346166313364343138322f366562656436376534613734613461342f7265732f62656166626235362d633564632d346563622d393934662d3330653036616232313961342f736b697463682e706e67)\n\n* ä¼˜å…ˆçº§ä½œä¸šé˜Ÿåˆ—ï¼Œè´Ÿè´£å¤„ç†æŒä¹…åŒ–jobï¼Œå¤±è´¥æ—¶çš„å›é€€æ“ä½œç­‰ï¼Œæ‰€ä»¥å›¾ä¸­æ²¡æœ‰è¿™äº›ç»†èŠ‚ã€‚\n* ä¸€ä¸ªçœŸå®ç¯å¢ƒçš„appåº”è¯¥ä¸JobSchedulerç»“åˆï¼Œç¡®ä¿æ¶ˆæ¯åœ¨åº”ç”¨å…³é—­åä¹Ÿå¯ä»¥å‘é€ã€‚\n* å½“jobå¤±è´¥æ—¶ï¼Œä½ æœ€å¥½ä¿æŒä¸€äº›ä¿¡æ¯åˆ°ç£ç›˜ï¼Œé‚£æ ·ä¸‹æ¬¡ç”¨æˆ·æ‰“å¼€appæ—¶ï¼Œä½ å¯ä»¥é€šçŸ¥ä»–ä»¬å‘ç”Ÿäº†ä»€ä¹ˆã€‚è¿™ä¸ªdemoä¸­ï¼Œå½“FeedActivityä¸å¯è§æ—¶ä¼šæ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥ã€‚\n\n### åŒæ­¥Feedæµ\nåŒæ­¥æ“ä½œæœ‰ä¸‹é¢ä¸‰ä¸ªç»„ä»¶è´Ÿè´£ï¼š\n\n* FeedModelï¼š\n\t* ä¸ºæ¯ä¸ªfeedæµä¿å­˜æœ€åä¸€æ¡FeedItemï¼ˆæ—¢å‘é€çš„æ¶ˆæ¯ï¼‰çš„æ—¶é—´æˆ³ã€‚è¿™ä¸ªæ—¶é—´æˆ³æœ‰ä¸¤ä¸ªä½œç”¨\n\t\t* å½“æˆ‘ä»¬åˆ·æ–°feedæµæ—¶ï¼Œåªæ¥æ”¶æœ€æ–°çš„itemã€‚\n\t\t* åˆ›å»ºä¿å­˜åœ¨æœ¬åœ°çš„æ¶ˆæ¯ã€‚æœ¬åœ°åˆ›å»ºçš„æ¶ˆæ¯ä¼šæ˜¾ç¤ºåœ¨feedæŸ¥è¯¢ä¸­æ˜¯å¾ˆé‡è¦çš„ã€‚ å®¢æˆ·ç«¯çš„æ—¶é—´æˆ³å¯èƒ½ä¸serverä¸åŒï¼Œåªæœ‰å½“æ¶ˆæ¯ä¸ServeråŒæ­¥æ—¶ï¼Œæˆ‘ä»¬åˆ†é…feedæœ€æ–°çš„æ—¶é—´æˆ³ç»™è¿™ä¸ªæ–°çš„æ¶ˆæ¯ã€‚ï¼Ÿï¼Ÿï¼Ÿ\n\t* ç»™UIå±‚æä¾›ä»æ•°æ®åº“è·å–feedæµçš„æ–¹æ³•ã€‚\n* FeedControllerï¼š\n\t* è´Ÿè´£åˆ›å»º`FetchFeedJob`\n\t* ç›‘å¬æ¶ˆæ¯æ›´æ–°å¤±è´¥ï¼Œä½¿ç”¨ç³»ç»Ÿçš„é€šçŸ¥æ é€šçŸ¥ç”¨æˆ·ã€‚é™¤éå…¶ä»–çš„UIç»„ä»¶ï¼ˆå¦‚FeedActivityï¼‰å·²ç»å¤„ç†äº†é”™è¯¯ã€‚\n\t* è¿™ä¸ªç¤ºä¾‹çš„appå¾ˆåŸºç¡€ï¼Œåœ¨çœŸå®ç¯å¢ƒä¸­ï¼Œå®ƒå¯èƒ½è¿˜è¦è´Ÿè´£å½“æœ‰GCMæ¨é€åˆ°è¾¾æ—¶åˆ·æ–°feedæµã€‚ä»¥åŠåŒ…æ‹¬ä¸€äº›é˜²æ­¢ç”¨æˆ·é¢‘ç¹åˆ·æ–°çš„é€»è¾‘ã€‚\n* FetFeedJobï¼š\n\t* å‘å‡ºAPIè°ƒç”¨ï¼Œè·å–æŸä¸ªfeedæµçš„æœ€æ–°æ¶ˆæ¯åˆ—è¡¨ã€‚è¿˜è´Ÿè´£æ›´æ–°modelå’Œå‘å‡ºeventã€‚\n\n### ä¿æŒUIæ›´æ–°\nåå°ä¸UIçš„äº¤äº’éœ€è¦è‰¯å¥½çš„å®šä¹‰ã€‚\n\n* ç­‰ç•Œé¢éœ€è¦åšæŸä»¶äº‹æƒ…æ—¶ï¼ŒUIç›´æ¥è°ƒç”¨æŸä¸ªæ–¹æ³•ï¼ˆå¦‚å‘é€æ¶ˆæ¯ï¼‰ã€‚\n* åå°ä»»åŠ¡ç»“æŸæ—¶å‘å‡ºeventé€šçŸ¥UIæ›´æ–°ï¼ˆå¦‚æ›´æ–°å¤±è´¥ï¼‰ã€‚\n\nUIç»„ä»¶æ ¹æ®è‡ªèº«çš„ç”Ÿå‘½å‘¨æœŸè´Ÿè´£æ³¨å†Œ/åæ³¨å†ŒEventBusï¼Œå› ä¸ºåå°æ°¸è¿œä¸ä¼šæŒæœ‰UIçš„å¼•ç”¨ï¼Œæˆ‘ä»¬ä¸æƒ³æœ‰å†…å­˜æ³„æ¼çš„é£é™©ã€‚\n\n* EventBusçš„ä½¿ç”¨å¯èƒ½å¼•èµ·ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µï¼šç”±äºUIé”™è¿‡äº†ä¸€äº›eventæ—¶ï¼Œå¯¼è‡´ä¸åŒæ­¥ã€‚æœ¬Demoä½¿ç”¨ä¸‹é¢çš„è§„åˆ™é¿å…è¿™ç§æ¸…ç©ºã€‚\n\t* å½“ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå¼€å§‹æ—¶ï¼Œå…ˆæ³¨å†Œeventï¼Œç„¶ååœ¨å†ä»modelåŠ è½½æ•°æ®ã€‚\n\t* å½“æ­£åœ¨åŠ è½½æ•°æ®æ—¶ï¼Œå¦‚æœæœ‰eventåˆ°æ¥ï¼Œä¼šåœ¨æ•°æ®åŠ è½½å®Œæˆåå†æ¬¡è§¦å‘ä¸€æ¬¡åŒæ­¥ã€‚\n\t* æ‰€æœ‰çš„eventéƒ½å«æœ‰ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œå®ƒè¡¨ç¤ºä¸è¯¥eventç›¸å…³çš„æœ€è€çš„itemçš„æ—¶é—´ã€‚å½“UIè®¿é—®modelå±‚æ—¶ä¼šä½¿ç”¨è¿™ä¸ªæ—¶é—´æˆ³ï¼Œé‚£ä¹ˆï¼Œå¦‚æœitemæ’å…¥æ•°æ®åº“æ—¶é¡ºåºä¸åŒï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥è·å–åˆ°è¿™äº›itemï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†æœ€è€çš„æ—¶é—´æˆ³ã€‚ï¼Ÿï¼Ÿï¼Ÿ\n\t* å½“ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶ï¼ˆä¾‹å¦‚`Activity#onStop`ï¼‰,åœæ­¢ç›‘å¬eventã€‚å¦‚æœï¼Œæˆ‘ä»¬å†è¿”å›åº”ç”¨ï¼Œä»–ä¼šåšä¸€ä¸ªå®Œæ•´çš„åŒæ­¥ï¼Œç¡®ä¿ä¸ä¼šä¸¢å¤±åœ¨è¿™æœŸé—´å‘ç”Ÿçš„eventã€‚\n\n**è¿™ä¸æ˜¯å”¯ä¸€çš„åŠæ³•**ï¼šç¤ºä¾‹ä¸­ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªå…¨å±€çš„EventBusï¼Œä½ ä¹Ÿå¯ä»¥ç”¨Rxå®ç°ç›¸ä¼¼çš„åŠŸèƒ½ï¼Œæˆ–è€…æ‰‹åŠ¨è®¾ç½®listenerï¼Œä»¥åŠå…¶ä»–ç›¸ä¼¼çš„æŠ€æœ¯ã€‚æ€»ä¹‹ï¼Œä½ éœ€è¦æ ¹æ®è‡ªå·±çš„åº”ç”¨æ¥è¯„ä¼°ã€‚\n\n## å®‰è£…&&è¿è¡Œ&&æµ‹è¯•\n### å®‰è£…\ndemoåŒ…å«ä¸€ä¸ªç®€å•çš„serverï¼Œä½ éœ€è¦å®‰è£…Ruby On Railsæ¥è¿è¡Œå®ƒã€‚å»ºè®®ä½ é€šè¿‡[Ruby Version Manager](https://rvm.io/)æ¥å®‰è£…ã€‚å®‰è£…å®Œä¹‹åï¼Œä½¿ç”¨ä¸‹é¢å‘½ä»¤å¯åŠ¨serverï¼š\n\n```xml\n> cd server;\n> bundle install;\n> rake db:migrate RAILS_ENV=development;\n```\nè¿™ä¼šå®‰è£…ä¾èµ–ï¼Œåˆ›å»ºæ•°æ®åº“ã€‚\n\n### è¿è¡Œ\n#### æœåŠ¡å™¨\n\n```xml\n> cd server;\n> rails s\n```\n\n#### å®¢æˆ·ç«¯\ndemoä¸­appä½¿ç”¨æ¨¡æ‹Ÿå™¨ç¯å¢ƒé»˜è®¤çš„hoståœ°å€ã€‚ï¼ˆ`http://10.0.2.2:3000`ï¼‰ã€‚å¦‚æœä½ åœ¨æ¨¡æ‹Ÿå™¨é‡Œè¿è¡Œï¼Œå·²ç»å¯ä»¥æ­£å¸¸å·¥ä½œã€‚ä½ å¯ä»¥åœ¨è®¾ç½®èœå•ä¸­ä¿®æ”¹ï¼Œæˆ–è€…åœ¨`DemoConfig`ç±»ä¸­ç›´æ¥ä¿®æ”¹ã€‚\n\n### æµ‹è¯•\n\n* æœåŠ¡å™¨ï¼šæœåŠ¡ç«¯æ²¡æœ‰ã€‚ã€‚æˆ‘åˆä¸å…³å¿ƒã€‚\n* å®¢æˆ·ç«¯ï¼šä½ å¯ä»¥è¿™æ ·è¿è¡Œæµ‹è¯• `> cd client; > ./gradlew clean app:connectedCheck app:test`\n\n## å…¶ä»–\n### é¿å…é‡å¤å‘é€æ¶ˆæ¯\nç¼–å†™ç§»åŠ¨åº”ç”¨æ„å‘³ç€ä½ è¦å¤„ç†ä¸å¯é çš„ç½‘ç»œã€‚é€šè¿‡ä½¿ç”¨æŒä¹…åŒ–çš„jobï¼ˆå­˜å‚¨åœ¨æœ¬åœ°ï¼‰ï¼Œåœ¨ç½‘ç»œå¯ç”¨æ—¶ï¼Œappå·¥ä½œäº†å¾ˆä¸é”™ï¼Œå¯æ˜¯å¹¶ä¸å®Œç¾ã€‚åœ¨ä¸å¯é çš„ç½‘ç»œæ¡ä»¶ä¸‹ï¼Œæˆ‘ä»¬çš„åº”ç”¨å¯èƒ½å‡ºç°è¿™ç§æƒ…å†µï¼šæœåŠ¡ç«¯é‚£æ•°æ®å·²ç»æ›´æ–°å­˜å‚¨äº†ï¼Œä½†æ˜¯å®¢æˆ·ç«¯æ²¡æœ‰æ”¶åˆ°æˆåŠŸçš„è¿”å›ã€‚é‚£ä¹ˆå®¢æˆ·ç«¯ä¾ç„¶è®¤ä¸ºæ¶ˆæ¯æ²¡æœ‰ä¸Šä¼ ï¼Œä¼šä¸æ–­é‡è¯•ã€‚å¦‚æœserverçš„è¿”å›æœ‰é—®é¢˜ï¼Œè¿™å°±ä¼šå˜å¾—æ›´ç³Ÿç³•ã€‚\né€šå¸¸æƒ…å†µä¸‹ï¼Œé‡è¯•å°±ä»¥ä¸ºè¿™é‡å¤ä¸Šä¼ æ¶ˆæ¯ã€‚æœ‰å¾ˆå¤šç­–ç•¥å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚demoä¸­æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå”¯ä¸€çš„äºŒç»´å…ƒç»„`(userId, clientId)`æ¥é¿å…é‡å¤ï¼Œå®ƒçš„åŸç†å¦‚ä¸‹ï¼š\n\n* å®¢æˆ·ç«¯åˆ›å»ºæ¶ˆæ¯æ—¶ï¼Œç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„`clientId`ï¼ˆ`UUID.randomUUID().toString()`,æ³¨ï¼šéšç€æ—¶é—´ä¼šå˜åŒ–ï¼‰ã€‚è¿™ä¸ªUUIDå’Œç”¨æˆ·IDçš„ç»„åˆåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½æ˜¯å”¯ä¸€çš„ã€‚\n* å½“æœåŠ¡ç«¯æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œæ£€æŸ¥è¿™ä¸ªå…ƒç»„æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä»¥åŠå­˜åœ¨ï¼Œä¸ä¼šæ–°å¢ä¸€æ¡å­˜å‚¨è®°å½•ï¼Œè€Œæ˜¯ä»…ä»…è¿”å›è¿™ä¸ªæ¡ç›®å·²ç»å­˜åœ¨ã€‚\n* å½“å®¢æˆ·ç«¯è·å–feedæ—¶ï¼Œå¦‚æœå‘ç°ä¸€ä¸ªæ¶ˆæ¯çš„` (userId, client Id)`ä¸æŸä¸ªå­˜åœ¨çš„æ¶ˆæ¯ç›¸åŒï¼Œä¼šè¦†ç›–è¿™å­˜åœ¨çš„æ¶ˆæ¯ã€‚è¿™å¯èƒ½å‘ç”Ÿåœ¨è¿™ç§æƒ…å†µä¸‹å‘ç”Ÿï¼šå®¢æˆ·ç«¯æ²¡æœ‰æ”¶åˆ°æœåŠ¡ç«¯çš„è¿”å›ï¼Œåªæ˜¯æœ¬åœ°ä¿å­˜äº†è¿™ä¸ªæ¶ˆæ¯ï¼Œï¼Œä½†æ˜¯è¿™ä¸ªæ¶ˆæ¯å‡ºç°åœ¨å…¶ä»–æŸä¸ªè¯·æ±‚çš„è¿”å›é‡Œé¢ã€‚ï¼Ÿï¼Ÿéœ€è¦è¿™æ ·å—\n\nä½ å¯ä»¥åœ¨`server/app/controllers/posts_controller.rb`ä¸­ä½¿ç”¨`error_before_saving_post`å’Œ`error_after_saving_post`æ¥è§¦å‘è¿™ç§ç‰¹æ®Šçš„æƒ…å†µã€‚\n\n## ç‰ˆæƒè®¸å¯\n>Copyright (C) 2015 The Android Open Source Project\n\n>Licensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\n\n>You may obtain a copy of the License at\n  http://www.apache.org/licenses/LICENSE-2.0\n\n>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\n>See the License for the specific language governing permissions and limitations under the License.","slug":"Googleæ¨èçš„Androidåº”ç”¨æ¡†æ¶ä¹‹demo","published":1,"updated":"2016-02-01T12:19:47.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cilg4yv6n000n0uc9ljtc70xb","sticky":0},{"title":"Androidæ³¨å…¥æ¡†æ¶Dagger2å­¦ä¹ ç¬”è®°","date":"2016-03-06T04:47:07.000Z","_content":"\n## ç®€ä»‹\nDagger2æ˜¯ä¸€ä¸ªGoogleæ¨èçš„æ³¨å…¥æ¡†æ¶ï¼Œå…³äºä»€ä¹ˆæ˜¯æ³¨å…¥ï¼Œä¸ºä»€ä¹ˆéœ€è¦æ³¨å…¥ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„ç–‘é—®ä»¥åŠè§£ç­”æ–‡ç« ã€‚å¦‚æœä½ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨MVPæ¶æ„å¼€å‘ï¼Œå¼ºçƒˆå»ºè®®é…åˆdagger2ä¸€èµ·ä½¿ç”¨ã€‚\nDagger2å¤§é‡ä½¿ç”¨æ³¨è§£ï¼Œä½¿å¼€å‘è€…å¯ä»¥ä¼˜é›…çš„æ„é€ å¯¹è±¡ï¼ŒåŒæ—¶ï¼Œè¿™äº›æ³¨è§£ä»…åœ¨ç¼–è¯‘æœŸé—´ç”Ÿæˆä»£ç ï¼Œæ²¡æœ‰ç”¨åˆ°è¿è¡Œæ—¶çš„åå°„ï¼Œå¯¹æ€§èƒ½çš„å½±å“å¯ä»¥å¿½ç•¥ã€‚ä½¿ç”¨è€…å¯ä»¥æŸ¥çœ‹ç¼–è¯‘æœŸé—´ç”Ÿæˆçš„ä»£ç ï¼Œæ–¹ä¾¿debugã€‚\næœ¬æ–‡æ˜¯å­¦ä¹ Dagger2çš„ç¬”è®°ï¼Œéœ€è¦å…ˆå­¦ä¹ ä¸‹é¢çš„æ–‡ç« ï¼Œäº†è§£Dagger2ï¼Œç„¶ååœ¨å­¦ä¹ è¿‡ç¨‹ä¸­æœ‰ä¸€äº›ç–‘é—®ï¼Œå½¢æˆä¸€äº›æ€è€ƒä¸æµ‹è¯•ï¼Œå½¢æˆæ­¤æ–‡ã€‚ä½†æ˜¯æˆ‘è¿˜æ²¡æœ‰æœºä¼šåœ¨é¡¹ç›®ä¸­å®é™…ä½¿ç”¨ï¼Œè‹¥ä»¥åæœ‰å®è·µç»éªŒä¼šä¸æ–­è¡¥å……ã€‚\n\nä¸»è¦å­¦ä¹ çš„æ–‡ç« ï¼š\n\n*  [Androidå¸¸ç”¨å¼€æºå·¥å…·ï¼ˆ1ï¼‰-Dagger2å…¥é—¨](http://blog.csdn.net/duo2005duo/article/details/50618171)ï¼šdagger2çš„åŸºæœ¬ç”¨æ³•ï¼Œå¾ˆå¥½çš„æ–‡ç« ã€‚\n*  [Androidå¸¸ç”¨å¼€æºå·¥å…·ï¼ˆ2ï¼‰-Dagger2è¿›é˜¶](http://blog.csdn.net/duo2005duo/article/details/50696166)ï¼šdagger2çš„ä¸€äº›é«˜çº§ç”¨æ³•ï¼Œå¦‚é™å®šç¬¦ã€‚\n*   [è¯¦è§£Dagger2](http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0519/2892.html)ï¼šè¿™ç¯‡æ–‡ç« ç¿»è¯‘çš„ä¸å¥½ï¼Œå‚è€ƒè‹±æ–‡åŸæ–‡ã€‚\n\n### ç–‘é—®ä»¥åŠè§£ç­”\n* [ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥](<http://www.codekk.com/open-source-project-analysis/detail/Android/%E6%89%94%E7%89%A9%E7%BA%BF/%E5%85%AC%E5%85%B1%E6%8A%80%E6%9C%AF%E7%82%B9%E4%B9%8B%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5>)\n\n* [Dagger æºç è§£æ](http://www.codekk.com/blogs/detail/54cfab086c4761e5001b2537)ï¼šdaggerç¬¬ä¸€ä»£çš„è®²è§£ï¼Œå‚è€ƒäº†è§£ä¸¤è€…çš„å·®å¼‚ã€‚\n\n* [Androidä¸­æ˜¯å¦æœ‰å¿…è¦ä½¿ç”¨ä¾èµ–æ³¨å…¥çš„äº‰è®®](<http://dk-exp.com/2015/01/28/use-ioc-in-android/>)\n\n## ä¸€ä¸ªéå¸¸å®¹æ˜“çš„é”™è¯¯\ninjectçš„å‚æ•°ã€‚ã€‚ã€‚ä¸èƒ½æ˜¯çˆ¶ç±»ï¼Œå¿…é¡»æ˜¯ä½ æ³¨å…¥çš„é‚£ä¸ªå†…\n\n## ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼šå‘å­å›¾æš´éœ²\nå³åœ¨componentä¸­å†™å¦‚ä¸‹æ–¹æ³•å‘æŠŠå®ƒä¾èµ–çš„componentæ¥æš´éœ²æ„é€ æ–¹æ³•ï¼Œä¸”åªèƒ½æš´éœ²ä¸€å±‚ã€‚\n\n```java\n//å®šä¹‰ComponentB,moduleså¯ä»¥ä¸å†™ï¼Œä¹Ÿå¯ä»¥ä¸å…¶ä»–Componentä¾èµ–çš„modulesç›¸åŒ\n@Component(modules={Ã—Ã—Ã—Ã—Ã—Ã—Ã—Ã—})\ninterface ComponentB{\n    // å¿…é¡»æš´éœ²å‡ºæ¥ï¼Œç»™Aæ³¨å…¥çš„å¯¹è±¡ç”¨\n    Apple apple()\n}\n//å®šä¹‰ComponentAï¼Œdependenciesæ˜¯Aä¾èµ–çš„ï¼ŒåŒºåˆ† extend ComponentB\n@Component(dependencies={ComponentB.class},modules={Ã—Ã—Ã—Ã—Ã—Ã—Ã—Ã—})//ä½¿ç”¨dependencies\ninterface ComponentA{\n    // æ³¨æ„æ³¨å…¥çš„å¿…é¡»æ˜¯å…·ä½“çš„å­ç±»MyApp/XXActivityï¼Œä¸èƒ½æ˜¯çˆ¶ç±»ï¼Œå¦‚Application/Activity\n    void inject(MyApp app)\n}\n```\n\n## é”™è¯¯æ±‡æ€»\n1. é”™è¯¯: com.android.example.devsummit.archdemo.di.module.Apple is bound multiple times:\n\n\tåŸå› ï¼šä¸€ä¸ªç±»å®šä¹‰äº†å¤šä¸ªproviderï¼š\n\t* componentå…³è”çš„ï¼ˆnä¸ªæˆ–è€…1ä¸ªï¼‰moduleä¸­æœ‰é‡å¤çš„provider\n\t* component Aæœ‰dependenciesçš„component Bï¼ŒAå…³è”çš„Module Aä¸­æœ‰providerï¼Œcomponent Bå…³è”çš„Module Bä¸­ä¹Ÿæœ‰providerï¼Œ**ä¸”åœ¨component Bä¸­æš´éœ²å‡ºæ¥äº†**ï¼ˆä¸æš´éœ²ä¸å½±å“ï¼‰\n\n\tä¸‹é¢çš„æƒ…å†µ**æ²¡æœ‰**å½±å“ï¼š\n\t\n\t* component å…³è”çš„moduleæœ‰providerï¼Œä¸”ç±»è‡ªå·±çš„æ„é€ å‡½æ•°æœ‰Injectæ ‡å¿—ï¼Œä¸å½±å“ï¼Œä¸”providerä¼˜å…ˆã€‚\n\t* component Aæœ‰dependenciesçš„component Bï¼Œ Aå…³è”çš„Module Aä¸­æœ‰providerï¼Œcomponent Bå…³è”çš„Module Bä¸­ä¹Ÿæœ‰providerï¼Œä½†æ˜¯component Bä¸­æ²¡æœ‰æš´éœ²ï¼Œä¸å½±å“\n \n\n2. é”™è¯¯: Types may only contain one @Inject constructor.\n\n\tåŸå› ï¼šä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªæœ‰@inject\n\n3. é”™è¯¯: com.android.example.devsummit.archdemo.di.module.Apple cannot be provided without an @Inject constructor or from an @Provides-annotated method.\n\n\tåŸå› ï¼š\n\t* æ²¡æœ‰provideræˆ–è€…inject\n\t* å¦‚æœcomponentå«æœ‰dependenciesï¼Œå¯èƒ½æ²¡æœ‰å‘å¤–é¢æš´éœ²\n\n##åŒºåˆ†æ˜“æ··æ·†çš„æ¦‚å¿µ\n\n1. componentä¸module\n2. componentçš„dependenciesä¸componentæ¥å£çš„ç»§æ‰¿ï¼ˆextendï¼‰\n\n## å…³äºScopeçš„ç²—æµ…ç†è§£\n### æ¦‚å¿µ\nscopeæ˜¯èŒƒå›´ï¼Œæ ‡å¿—ä¸€ä¸ªæ³¨å…¥å™¨/å¯¹è±¡çš„ä½¿ç”¨èŒƒå›´ï¼Œé‚£ä¹ˆå¯ä»¥ç†è§£ï¼š\n\n* çˆ¶ç±»ï¼ˆdependenciesï¼‰æœ‰èŒƒå›´ï¼Œå­ç±»å¿…é¡»æœ‰ï¼Œä¸”è¦å°äºå®ƒ\n* çˆ¶ç±»å­ç±»èŒƒå›´ä¸èƒ½ä¸€æ ·ï¼Ÿ\n* componentä¸­æŸä¸€ä¸ªå¯¹è±¡æ„é€ æœ‰èŒƒå›´ï¼ˆModuleä¸­çš„ä¸€ä¸ªæ–¹æ³•æœ‰èŒƒå›´ï¼‰ï¼Œé‚£ä¹ˆè¯¥componentå°±æœ‰èŒƒå›´ã€‚\n\n### ä½œç”¨\nä½œç”¨æ˜¯å…è®¸å¯¹è±¡è¢«è®°å½•åœ¨æ­£ç¡®çš„ç»„ä»¶ï¼ˆcomponentï¼‰ã€‚å³moduleçš„æ„é€ æ–¹æ³•ç”¨åœ¨æ­£ç¡®çš„æ³¨å…¥å™¨ï¼ˆcomponentï¼‰ä¸­ï¼Œé˜²æ­¢ç”¨é”™åœ°æ–¹ã€‚**å› ä¸ºä¸€ä¸ªcomponentå…³è”çš„moduleä¸­å¦‚æœæœ‰å…¶ä»–çš„scopeçš„providerä¼šæŠ¥é”™ï¼Œå› ä¸ºcomponentæ²¡æœ‰è¿™ä¸ªscopeã€‚**\n\n### è‡ªå®šä¹‰scope\n```java\n@Scope\n@Documented\n@Retention(RUNTIME)\npublic @interface Singleton{}\n```\n\n### ä½¿ç”¨scopeæ—¶è§„åˆ™\nç»“åˆscopeçš„æ¦‚å¿µç†è§£\n\n* componentå…³è”çš„Modelä¸­çš„**ä»»ä½•ä¸€ä¸ªè¢«æ„é€ çš„å¯¹è±¡**æœ‰scopeï¼Œåˆ™è¯¥æ•´ä¸ªcomponentè¦åŠ ä¸Šè¿™ä¸ªscopeã€‚åœ¨æš´éœ²æˆ–è€…æ³¨å…¥æ—¶ï¼ˆä¸æš´éœ²ä¸”ä¸æ³¨å…¥æ—¶ï¼Œæ—¢ä¸ä½¿ç”¨å®ƒæ„é€ å¯¹è±¡æ—¶ï¼Œä¸æŠ¥é”™ï¼‰ï¼Œä¼šæœ‰å¦‚ä¸‹é”™è¯¯\n > Error:(21, 1) é”™è¯¯: com.android.example.devsummit.archdemo.di.component.MyTestComponent (unscoped) may not reference scoped bindings:\n@Provides @com.android.example.devsummit.archdemo.di.scope.ActivityScope com.android.example.devsummit.archdemo.vo.User com.android.example.devsummit.archdemo.di.module.TestModule.user()\n\n* componentçš„dependenciesä¸componentè‡ªèº«çš„scopeä¸èƒ½ç›¸åŒï¼Œå³ç»„ä»¶ä¹‹é—´çš„scopeä¸åŒ\n* Singletonçš„ç»„ä»¶ä¸èƒ½ä¾èµ–å…¶ä»–scopeçš„ç»„ä»¶ï¼Œåªèƒ½å…¶ä»–scopeçš„ç»„ä»¶ä¾èµ–Singletonçš„ç»„ä»¶ã€‚\n* æ²¡æœ‰scopeçš„ä¸èƒ½ä¾èµ–æœ‰scopeçš„ç»„ä»¶ï¼Œç†è§£ä¸€ä¸‹ã€‚ã€‚ã€‚\n\n  > Error:(21, 1) é”™è¯¯: com.android.example.devsummit.archdemo.di.component.MyTestComponent (unscoped) cannot depend on scoped components:\n@com.android.example.devsummit.archdemo.di.scope.ActivityScope com.android.example.devsummit.archdemo.di.component.MyTestComponentX\n* ä¸€ä¸ªcomponentä¸èƒ½åŒæ—¶æœ‰å¤šä¸ªscope(Subcomponenté™¤å¤–)\n\n\t> Error:Execution failed for task ':app:compileDebugJavaWithJavac'.\n\t> java.lang.IllegalArgumentException: com.android.example.devsummit.archdemo.di.component.MyTestComponent was annotated with more than one @Scope annotation\n\n## å…¶ä»–æ¦‚å¿µ\n### @Subcomponent\nSubcomponentä¸dependenciesåŒºåˆ«ï¼š\ndependenciesä¸ä¼šç»§æ‰¿èŒƒå›´ï¼ŒSubcomponentä¼šã€‚å­componentåŒæ—¶å…·å¤‡ä¸¤ç§ä¸åŒç”Ÿå‘½å‘¨æœŸçš„scopeã€‚\n\n## å®è·µ\n### Module\ndaggerä½¿ç”¨çš„ç›®çš„åœ¨äºæ›´å¤šçš„ä½¿ç”¨é¢å‘æ¥å£çš„ç¼–ç¨‹ã€‚åœ¨Moduleä¸­æ„é€ çš„å¯¹è±¡è¿”å›çš„åº”å½“å°½é‡æ˜¯ï¼š**æ„é€ å…·ä½“çš„ç±»çš„å®ç°ï¼Œä½†æ˜¯è¿”å›æ¥å£**ï¼Œå¦‚â‘¡ä¸­æ‰€ç¤ºï¼Œå‚è€ƒ[æ–‡ç« ](http://www.jianshu.com/p/c2feb21064bb)ï¼Œå¸¸ç”¨å†™æ³•å¦‚ä¸‹ï¼š\n\n```java\n@Module\npublic class AppModule {\n    private final MyApplication application;\n\n    public AppModule(MyApplication application) {\n        this.application = application;\n    }\n\n\t// â‘ è¿™ç§æƒ…å†µæ˜¯è¿”å›moduleå†…éƒ¨ä¿æŒçš„å˜é‡\n    @Provides\n    @Singleton\n    Context provideApplicationContext() { \n       return application;\n    }\n\n\t// â‘¡è¿™ç§å«æœ‰å‚æ•°çš„å†™æ³•ä¼šè‡ªåŠ¨æ„é€ å‚æ•°ï¼Œå‰ææ˜¯provideThreadExecutorï¼Œæœ‰provideræˆ–è€…@injectï¼ŒThreadExecutoræ˜¯æ¥å£ï¼ŒJobExecutoræ˜¯å…·ä½“çš„ç±»\n\t// æ³¨æ„ä¸€ç§é”™è¯¯:å‚æ•°å’Œè¿”å›å€¼ä¸èƒ½æ˜¯ç›¸åŒçš„ç±»ï¼ï¼\n    @Provides\n    @Singleton\n    ThreadExecutor provideThreadExecutor(JobExecutor jobExecutor) {\n        return jobExecutor;\n    }\n\n\t// â‘¢è¿™ç§å†™æ³•ä¼šè‡ªåŠ¨æ„é€ å‚æ•°ï¼Œå‰ææ˜¯RetrofitManagerï¼Œæœ‰provideræˆ–è€…@inject\n    @Provides\n    @Singleton\n    ApiService providesApiService(RetrofitManager retrofitManager) {\n        return retrofitManager.getService();\n    }\n\n\t// â‘£è¿™ç§å†™æ³•æ˜¯æ¯”è¾ƒå¸¸è§çš„ï¼Œå†…éƒ¨newä¸€ä¸ªå¯¹è±¡è¿”å›\n    @Provides\n    @Singleton\n    DBManager provideDBManager() {\n        return new DBManager(application);\n    }\n}\n```\t","source":"_posts/Androidæ³¨å…¥æ¡†æ¶Dagger2å­¦ä¹ ç¬”è®°.md","raw":"title: Androidæ³¨å…¥æ¡†æ¶Dagger2å­¦ä¹ ç¬”è®°\ndate: 2016-03-06 12:47:07\ncategories:\n- æŠ€æœ¯\ntags:\n- Android\n- ä¸»æ¡†æ¶\n---\n\n## ç®€ä»‹\nDagger2æ˜¯ä¸€ä¸ªGoogleæ¨èçš„æ³¨å…¥æ¡†æ¶ï¼Œå…³äºä»€ä¹ˆæ˜¯æ³¨å…¥ï¼Œä¸ºä»€ä¹ˆéœ€è¦æ³¨å…¥ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„ç–‘é—®ä»¥åŠè§£ç­”æ–‡ç« ã€‚å¦‚æœä½ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨MVPæ¶æ„å¼€å‘ï¼Œå¼ºçƒˆå»ºè®®é…åˆdagger2ä¸€èµ·ä½¿ç”¨ã€‚\nDagger2å¤§é‡ä½¿ç”¨æ³¨è§£ï¼Œä½¿å¼€å‘è€…å¯ä»¥ä¼˜é›…çš„æ„é€ å¯¹è±¡ï¼ŒåŒæ—¶ï¼Œè¿™äº›æ³¨è§£ä»…åœ¨ç¼–è¯‘æœŸé—´ç”Ÿæˆä»£ç ï¼Œæ²¡æœ‰ç”¨åˆ°è¿è¡Œæ—¶çš„åå°„ï¼Œå¯¹æ€§èƒ½çš„å½±å“å¯ä»¥å¿½ç•¥ã€‚ä½¿ç”¨è€…å¯ä»¥æŸ¥çœ‹ç¼–è¯‘æœŸé—´ç”Ÿæˆçš„ä»£ç ï¼Œæ–¹ä¾¿debugã€‚\næœ¬æ–‡æ˜¯å­¦ä¹ Dagger2çš„ç¬”è®°ï¼Œéœ€è¦å…ˆå­¦ä¹ ä¸‹é¢çš„æ–‡ç« ï¼Œäº†è§£Dagger2ï¼Œç„¶ååœ¨å­¦ä¹ è¿‡ç¨‹ä¸­æœ‰ä¸€äº›ç–‘é—®ï¼Œå½¢æˆä¸€äº›æ€è€ƒä¸æµ‹è¯•ï¼Œå½¢æˆæ­¤æ–‡ã€‚ä½†æ˜¯æˆ‘è¿˜æ²¡æœ‰æœºä¼šåœ¨é¡¹ç›®ä¸­å®é™…ä½¿ç”¨ï¼Œè‹¥ä»¥åæœ‰å®è·µç»éªŒä¼šä¸æ–­è¡¥å……ã€‚\n\nä¸»è¦å­¦ä¹ çš„æ–‡ç« ï¼š\n\n*  [Androidå¸¸ç”¨å¼€æºå·¥å…·ï¼ˆ1ï¼‰-Dagger2å…¥é—¨](http://blog.csdn.net/duo2005duo/article/details/50618171)ï¼šdagger2çš„åŸºæœ¬ç”¨æ³•ï¼Œå¾ˆå¥½çš„æ–‡ç« ã€‚\n*  [Androidå¸¸ç”¨å¼€æºå·¥å…·ï¼ˆ2ï¼‰-Dagger2è¿›é˜¶](http://blog.csdn.net/duo2005duo/article/details/50696166)ï¼šdagger2çš„ä¸€äº›é«˜çº§ç”¨æ³•ï¼Œå¦‚é™å®šç¬¦ã€‚\n*   [è¯¦è§£Dagger2](http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0519/2892.html)ï¼šè¿™ç¯‡æ–‡ç« ç¿»è¯‘çš„ä¸å¥½ï¼Œå‚è€ƒè‹±æ–‡åŸæ–‡ã€‚\n\n### ç–‘é—®ä»¥åŠè§£ç­”\n* [ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥](<http://www.codekk.com/open-source-project-analysis/detail/Android/%E6%89%94%E7%89%A9%E7%BA%BF/%E5%85%AC%E5%85%B1%E6%8A%80%E6%9C%AF%E7%82%B9%E4%B9%8B%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5>)\n\n* [Dagger æºç è§£æ](http://www.codekk.com/blogs/detail/54cfab086c4761e5001b2537)ï¼šdaggerç¬¬ä¸€ä»£çš„è®²è§£ï¼Œå‚è€ƒäº†è§£ä¸¤è€…çš„å·®å¼‚ã€‚\n\n* [Androidä¸­æ˜¯å¦æœ‰å¿…è¦ä½¿ç”¨ä¾èµ–æ³¨å…¥çš„äº‰è®®](<http://dk-exp.com/2015/01/28/use-ioc-in-android/>)\n\n## ä¸€ä¸ªéå¸¸å®¹æ˜“çš„é”™è¯¯\ninjectçš„å‚æ•°ã€‚ã€‚ã€‚ä¸èƒ½æ˜¯çˆ¶ç±»ï¼Œå¿…é¡»æ˜¯ä½ æ³¨å…¥çš„é‚£ä¸ªå†…\n\n## ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼šå‘å­å›¾æš´éœ²\nå³åœ¨componentä¸­å†™å¦‚ä¸‹æ–¹æ³•å‘æŠŠå®ƒä¾èµ–çš„componentæ¥æš´éœ²æ„é€ æ–¹æ³•ï¼Œä¸”åªèƒ½æš´éœ²ä¸€å±‚ã€‚\n\n```java\n//å®šä¹‰ComponentB,moduleså¯ä»¥ä¸å†™ï¼Œä¹Ÿå¯ä»¥ä¸å…¶ä»–Componentä¾èµ–çš„modulesç›¸åŒ\n@Component(modules={Ã—Ã—Ã—Ã—Ã—Ã—Ã—Ã—})\ninterface ComponentB{\n    // å¿…é¡»æš´éœ²å‡ºæ¥ï¼Œç»™Aæ³¨å…¥çš„å¯¹è±¡ç”¨\n    Apple apple()\n}\n//å®šä¹‰ComponentAï¼Œdependenciesæ˜¯Aä¾èµ–çš„ï¼ŒåŒºåˆ† extend ComponentB\n@Component(dependencies={ComponentB.class},modules={Ã—Ã—Ã—Ã—Ã—Ã—Ã—Ã—})//ä½¿ç”¨dependencies\ninterface ComponentA{\n    // æ³¨æ„æ³¨å…¥çš„å¿…é¡»æ˜¯å…·ä½“çš„å­ç±»MyApp/XXActivityï¼Œä¸èƒ½æ˜¯çˆ¶ç±»ï¼Œå¦‚Application/Activity\n    void inject(MyApp app)\n}\n```\n\n## é”™è¯¯æ±‡æ€»\n1. é”™è¯¯: com.android.example.devsummit.archdemo.di.module.Apple is bound multiple times:\n\n\tåŸå› ï¼šä¸€ä¸ªç±»å®šä¹‰äº†å¤šä¸ªproviderï¼š\n\t* componentå…³è”çš„ï¼ˆnä¸ªæˆ–è€…1ä¸ªï¼‰moduleä¸­æœ‰é‡å¤çš„provider\n\t* component Aæœ‰dependenciesçš„component Bï¼ŒAå…³è”çš„Module Aä¸­æœ‰providerï¼Œcomponent Bå…³è”çš„Module Bä¸­ä¹Ÿæœ‰providerï¼Œ**ä¸”åœ¨component Bä¸­æš´éœ²å‡ºæ¥äº†**ï¼ˆä¸æš´éœ²ä¸å½±å“ï¼‰\n\n\tä¸‹é¢çš„æƒ…å†µ**æ²¡æœ‰**å½±å“ï¼š\n\t\n\t* component å…³è”çš„moduleæœ‰providerï¼Œä¸”ç±»è‡ªå·±çš„æ„é€ å‡½æ•°æœ‰Injectæ ‡å¿—ï¼Œä¸å½±å“ï¼Œä¸”providerä¼˜å…ˆã€‚\n\t* component Aæœ‰dependenciesçš„component Bï¼Œ Aå…³è”çš„Module Aä¸­æœ‰providerï¼Œcomponent Bå…³è”çš„Module Bä¸­ä¹Ÿæœ‰providerï¼Œä½†æ˜¯component Bä¸­æ²¡æœ‰æš´éœ²ï¼Œä¸å½±å“\n \n\n2. é”™è¯¯: Types may only contain one @Inject constructor.\n\n\tåŸå› ï¼šä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªæœ‰@inject\n\n3. é”™è¯¯: com.android.example.devsummit.archdemo.di.module.Apple cannot be provided without an @Inject constructor or from an @Provides-annotated method.\n\n\tåŸå› ï¼š\n\t* æ²¡æœ‰provideræˆ–è€…inject\n\t* å¦‚æœcomponentå«æœ‰dependenciesï¼Œå¯èƒ½æ²¡æœ‰å‘å¤–é¢æš´éœ²\n\n##åŒºåˆ†æ˜“æ··æ·†çš„æ¦‚å¿µ\n\n1. componentä¸module\n2. componentçš„dependenciesä¸componentæ¥å£çš„ç»§æ‰¿ï¼ˆextendï¼‰\n\n## å…³äºScopeçš„ç²—æµ…ç†è§£\n### æ¦‚å¿µ\nscopeæ˜¯èŒƒå›´ï¼Œæ ‡å¿—ä¸€ä¸ªæ³¨å…¥å™¨/å¯¹è±¡çš„ä½¿ç”¨èŒƒå›´ï¼Œé‚£ä¹ˆå¯ä»¥ç†è§£ï¼š\n\n* çˆ¶ç±»ï¼ˆdependenciesï¼‰æœ‰èŒƒå›´ï¼Œå­ç±»å¿…é¡»æœ‰ï¼Œä¸”è¦å°äºå®ƒ\n* çˆ¶ç±»å­ç±»èŒƒå›´ä¸èƒ½ä¸€æ ·ï¼Ÿ\n* componentä¸­æŸä¸€ä¸ªå¯¹è±¡æ„é€ æœ‰èŒƒå›´ï¼ˆModuleä¸­çš„ä¸€ä¸ªæ–¹æ³•æœ‰èŒƒå›´ï¼‰ï¼Œé‚£ä¹ˆè¯¥componentå°±æœ‰èŒƒå›´ã€‚\n\n### ä½œç”¨\nä½œç”¨æ˜¯å…è®¸å¯¹è±¡è¢«è®°å½•åœ¨æ­£ç¡®çš„ç»„ä»¶ï¼ˆcomponentï¼‰ã€‚å³moduleçš„æ„é€ æ–¹æ³•ç”¨åœ¨æ­£ç¡®çš„æ³¨å…¥å™¨ï¼ˆcomponentï¼‰ä¸­ï¼Œé˜²æ­¢ç”¨é”™åœ°æ–¹ã€‚**å› ä¸ºä¸€ä¸ªcomponentå…³è”çš„moduleä¸­å¦‚æœæœ‰å…¶ä»–çš„scopeçš„providerä¼šæŠ¥é”™ï¼Œå› ä¸ºcomponentæ²¡æœ‰è¿™ä¸ªscopeã€‚**\n\n### è‡ªå®šä¹‰scope\n```java\n@Scope\n@Documented\n@Retention(RUNTIME)\npublic @interface Singleton{}\n```\n\n### ä½¿ç”¨scopeæ—¶è§„åˆ™\nç»“åˆscopeçš„æ¦‚å¿µç†è§£\n\n* componentå…³è”çš„Modelä¸­çš„**ä»»ä½•ä¸€ä¸ªè¢«æ„é€ çš„å¯¹è±¡**æœ‰scopeï¼Œåˆ™è¯¥æ•´ä¸ªcomponentè¦åŠ ä¸Šè¿™ä¸ªscopeã€‚åœ¨æš´éœ²æˆ–è€…æ³¨å…¥æ—¶ï¼ˆä¸æš´éœ²ä¸”ä¸æ³¨å…¥æ—¶ï¼Œæ—¢ä¸ä½¿ç”¨å®ƒæ„é€ å¯¹è±¡æ—¶ï¼Œä¸æŠ¥é”™ï¼‰ï¼Œä¼šæœ‰å¦‚ä¸‹é”™è¯¯\n > Error:(21, 1) é”™è¯¯: com.android.example.devsummit.archdemo.di.component.MyTestComponent (unscoped) may not reference scoped bindings:\n@Provides @com.android.example.devsummit.archdemo.di.scope.ActivityScope com.android.example.devsummit.archdemo.vo.User com.android.example.devsummit.archdemo.di.module.TestModule.user()\n\n* componentçš„dependenciesä¸componentè‡ªèº«çš„scopeä¸èƒ½ç›¸åŒï¼Œå³ç»„ä»¶ä¹‹é—´çš„scopeä¸åŒ\n* Singletonçš„ç»„ä»¶ä¸èƒ½ä¾èµ–å…¶ä»–scopeçš„ç»„ä»¶ï¼Œåªèƒ½å…¶ä»–scopeçš„ç»„ä»¶ä¾èµ–Singletonçš„ç»„ä»¶ã€‚\n* æ²¡æœ‰scopeçš„ä¸èƒ½ä¾èµ–æœ‰scopeçš„ç»„ä»¶ï¼Œç†è§£ä¸€ä¸‹ã€‚ã€‚ã€‚\n\n  > Error:(21, 1) é”™è¯¯: com.android.example.devsummit.archdemo.di.component.MyTestComponent (unscoped) cannot depend on scoped components:\n@com.android.example.devsummit.archdemo.di.scope.ActivityScope com.android.example.devsummit.archdemo.di.component.MyTestComponentX\n* ä¸€ä¸ªcomponentä¸èƒ½åŒæ—¶æœ‰å¤šä¸ªscope(Subcomponenté™¤å¤–)\n\n\t> Error:Execution failed for task ':app:compileDebugJavaWithJavac'.\n\t> java.lang.IllegalArgumentException: com.android.example.devsummit.archdemo.di.component.MyTestComponent was annotated with more than one @Scope annotation\n\n## å…¶ä»–æ¦‚å¿µ\n### @Subcomponent\nSubcomponentä¸dependenciesåŒºåˆ«ï¼š\ndependenciesä¸ä¼šç»§æ‰¿èŒƒå›´ï¼ŒSubcomponentä¼šã€‚å­componentåŒæ—¶å…·å¤‡ä¸¤ç§ä¸åŒç”Ÿå‘½å‘¨æœŸçš„scopeã€‚\n\n## å®è·µ\n### Module\ndaggerä½¿ç”¨çš„ç›®çš„åœ¨äºæ›´å¤šçš„ä½¿ç”¨é¢å‘æ¥å£çš„ç¼–ç¨‹ã€‚åœ¨Moduleä¸­æ„é€ çš„å¯¹è±¡è¿”å›çš„åº”å½“å°½é‡æ˜¯ï¼š**æ„é€ å…·ä½“çš„ç±»çš„å®ç°ï¼Œä½†æ˜¯è¿”å›æ¥å£**ï¼Œå¦‚â‘¡ä¸­æ‰€ç¤ºï¼Œå‚è€ƒ[æ–‡ç« ](http://www.jianshu.com/p/c2feb21064bb)ï¼Œå¸¸ç”¨å†™æ³•å¦‚ä¸‹ï¼š\n\n```java\n@Module\npublic class AppModule {\n    private final MyApplication application;\n\n    public AppModule(MyApplication application) {\n        this.application = application;\n    }\n\n\t// â‘ è¿™ç§æƒ…å†µæ˜¯è¿”å›moduleå†…éƒ¨ä¿æŒçš„å˜é‡\n    @Provides\n    @Singleton\n    Context provideApplicationContext() { \n       return application;\n    }\n\n\t// â‘¡è¿™ç§å«æœ‰å‚æ•°çš„å†™æ³•ä¼šè‡ªåŠ¨æ„é€ å‚æ•°ï¼Œå‰ææ˜¯provideThreadExecutorï¼Œæœ‰provideræˆ–è€…@injectï¼ŒThreadExecutoræ˜¯æ¥å£ï¼ŒJobExecutoræ˜¯å…·ä½“çš„ç±»\n\t// æ³¨æ„ä¸€ç§é”™è¯¯:å‚æ•°å’Œè¿”å›å€¼ä¸èƒ½æ˜¯ç›¸åŒçš„ç±»ï¼ï¼\n    @Provides\n    @Singleton\n    ThreadExecutor provideThreadExecutor(JobExecutor jobExecutor) {\n        return jobExecutor;\n    }\n\n\t// â‘¢è¿™ç§å†™æ³•ä¼šè‡ªåŠ¨æ„é€ å‚æ•°ï¼Œå‰ææ˜¯RetrofitManagerï¼Œæœ‰provideræˆ–è€…@inject\n    @Provides\n    @Singleton\n    ApiService providesApiService(RetrofitManager retrofitManager) {\n        return retrofitManager.getService();\n    }\n\n\t// â‘£è¿™ç§å†™æ³•æ˜¯æ¯”è¾ƒå¸¸è§çš„ï¼Œå†…éƒ¨newä¸€ä¸ªå¯¹è±¡è¿”å›\n    @Provides\n    @Singleton\n    DBManager provideDBManager() {\n        return new DBManager(application);\n    }\n}\n```\t","slug":"Androidæ³¨å…¥æ¡†æ¶Dagger2å­¦ä¹ ç¬”è®°","published":1,"updated":"2016-03-06T05:40:43.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cilg4yv6t000s0uc95qwtnlls","sticky":0},{"title":"Androidå›¾ç‰‡åº“--Glide Wikiä¸­æ–‡ç¿»è¯‘","date":"2016-01-24T02:32:54.000Z","description":"Glide Wikiä¸­æ–‡ç¿»è¯‘ã€‚Glideæ˜¯ä¸€ä¸ªAndroidå›¾ç‰‡åº“ï¼Œç¡®åˆ‡åœ°è¯´åº”å½“å«ã€åª’ä½“æ¡†æ¶ã€ã€‚æ”¯æŒå›¾ç‰‡ã€Gifã€åŸç”Ÿè§†é¢‘çš„åŠ è½½ã€‚ä½¿ç”¨ç®€å•ï¼Œæ€§èƒ½ä¼˜å¼‚ï¼ŒGoogleæ¨èã€‚","_content":"## åº\næœ€è¿‘ï¼Œä¸€ç›´åœ¨æ£é¼“Glideè¿™ä¸ªå›¾ç‰‡åº“ï¼Œç¡®åˆ‡åœ°è¯´åº”å½“å«ã€åª’ä½“æ¡†æ¶ã€ã€‚ä¸ºäº†æ”¯æŒGifæ’­æ”¾ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨Glideä»£æ›¿äº†Universal Image Loaderã€‚èµ·åˆæˆ‘ä»¬æ‰“ç®—ä½¿ç”¨çš„æ˜¯Frescoæ–¹æ¡ˆï¼Œæœ€ç»ˆå› ä¸ºLibä½“ç§¯çš„é—®é¢˜æ”¾å¼ƒã€‚ä¸‡ä¸‡æ²¡æƒ³åˆ°apkçš„sizeè¿™ä¹ˆæ•æ„Ÿï¼Œå›½å¤–å¾ˆå¤šæ¨å¹¿æœåŠ¡æ˜¯æ ¹æ®apkä½“ç§¯æ”¶è´¹çš„ï¼Œ3Mä¸€ä¸ªé—¨æ§›ï¼Œ5Mä¸€ä¸ªé—¨æ§›ã€‚frescoå¼•å…¥ä¹‹åå³ä½¿proguardã€7zipï¼Œapkçš„å¤§å°ä¹Ÿå¢åŠ äº†1M+ï¼Œå¤šå¹³å°çš„osåº“æ˜¯ä¸ªå¤§å¤´ï¼Œç¬¬ä¸‰ä¸–ç•Œçš„åº”ç”¨å¸‚åœºè¿˜ä¸æ”¯æŒæŒ‰å¹³å°åˆ†å‘ğŸ˜“ã€‚ã€‚\nGlideçš„ä½¿ç”¨è¿˜ä¸æ·±å…¥ï¼Œä»…ä»…åœç•™åœ¨Apiçš„èŒƒç•´ï¼Œä¸ºäº†è§£å†³bugï¼Œè·Ÿè¸ªäº†ä»£ç ï¼Œä¹Ÿæ˜¯äº‘é‡Œé›¾é‡Œã€‚ä¸å¾—ä¸è¯´ï¼ŒGlideæºç çš„è®¾è®¡ååˆ†NBï¼Œé¢å‘æ¥å£çš„ç†å¿µè´¯å½»çš„å¾ˆå½»åº•ï¼Œæ˜¯ä¸€ä¸ªå­¦ä¹ è®¾è®¡çš„å¥½demoã€‚\nGitHubçš„READMEä½œä¸ºæœ€ç®€å•çš„å…¥é—¨è¶³å¤Ÿäº†ï¼Œä½†æ˜¯é‡åˆ°å…·ä½“é—®é¢˜è¿˜æ˜¯è¦ç†è§£ä¸€äº›è®¾è®¡æ€æƒ³çš„ï¼ŒGitHubä¸Šçš„Wikiæœ‰ä¸€ä»½ä¸é”™çš„æ–‡æ¡£ï¼Œå¯æƒœæœ¨æœ‰ä¸­æ–‡ï¼Œæ­£å¥½å­¦ä¹ çš„è¿‡ç¨‹ä¸­ç¿»è¯‘ä¸€ä¸‹ã€‚\nåœ¨çœ‹wikiä¹‹å‰ï¼Œå¯ä»¥å…ˆçœ‹è¿™ä¸¤ç¯‡ä¸­æ–‡å…¥é—¨ï¼Œäº†è§£åŸºæœ¬çš„ç”¨æ³•ã€‚\n\n* [Googleæ¨èçš„å›¾ç‰‡åŠ è½½åº“Glideä»‹ç»](http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0327/2650.html)\n* [Glide ä¸€ä¸ªä¸“æ³¨äºå¹³æ»‘æ»šåŠ¨çš„å›¾ç‰‡åŠ è½½å’Œç¼“å­˜åº“](http://www.jianshu.com/p/4a3177b57949)\n\næœ¬æ–‡æ˜¯åŸºäº**Glide 3.x**æ­£å¼ç‰ˆçš„[Wikiæ–‡æ¡£](https://github.com/bumptech/glide/wiki)çš„ç¿»è¯‘ï¼ˆåŸæ–‡ç¼–è¾‘æ—¥æœŸï¼š2015-2-9,18 revisionï¼Œå½“æ—¶Glide releaseçš„ç‰ˆæœ¬å·3.6.1ï¼‰ã€‚\n\nç¿»è¯‘Versionï¼š1.1 ç®€å•æ ¡å¯¹\n\n### åè¯è§£é‡Š\nGlideä¸­æœ‰ä¸€éƒ¨åˆ†å•è¯ï¼Œæˆ‘ä¸çŸ¥é“ç”¨ä»€ä¹ˆä¸­æ–‡å¯ä»¥ç¡®åˆ‡çš„è¡¨è¾¾å‡ºå«ä¹‰ï¼Œç”¨è‹±æ–‡å•è¯å¯èƒ½åœ¨è¡Œæ–‡ä¸­æ›´åŠ åˆé€‚ï¼Œè¿˜æœ‰ä¸€äº›è¯åœ¨Glideä¸­æœ‰ç‰¹åˆ«çš„å«ä¹‰ï¼Œæˆ‘ç†è§£çš„å¯èƒ½ä¹Ÿä¸æ·±å…¥ï¼Œè¿™é‡Œå…ˆè®°å½•ä¸€ä¸‹ã€‚\n\n* Viewï¼š ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒæŒ‡Androidä¸­çš„ViewåŠå…¶å­ç±»æ§ä»¶ï¼ˆåŒ…æ‹¬è‡ªå®šä¹‰çš„ï¼‰ï¼Œå°¤å…¶æŒ‡ImageViewã€‚è¿™äº›æ§ä»¶å¯åœ¨ä¸Šé¢ç»˜åˆ¶Drawable\n* Targetï¼š Glideä¸­é‡è¦çš„æ¦‚å¿µï¼Œç›®æ ‡ã€‚å®ƒå³å¯ä»¥æŒ‡å°è£…äº†ä¸€ä¸ªViewçš„Targetï¼ˆViewTargetï¼‰ï¼Œä¹Ÿå¯ä»¥ä¸åŒ…å«Viewï¼ˆSimpleTargetï¼‰ã€‚\n* Drawableï¼š æŒ‡Androidä¸­çš„Drawableç±»æˆ–è€…å®ƒçš„å­ç±»ï¼Œå¦‚BitmapDrawableç­‰ã€‚æˆ–è€…Glideä¸­åŸºç¡€Drawableå®ç°çš„è‡ªå®šä¹‰Drawableï¼ˆå¦‚GifDrawableç­‰ï¼‰\n* Request - åŠ è½½è¯·æ±‚ï¼Œå¯ä»¥æ˜¯ç½‘ç»œè¯·æ±‚æˆ–è€…å…¶ä»–ä»»ä½•ä¸‹è½½å›¾ç‰‡çš„è¯·æ±‚ï¼Œä¹Ÿæ˜¯Glideä¸­çš„ä¸€ä¸ªç±»ã€‚\n* Modelï¼šæ•°æ®æºçš„æä¾›è€…ï¼Œå¦‚Urlï¼Œæ–‡ä»¶è·¯å¾„ç­‰ï¼Œå¯ä»¥ä»modelä¸­è·å–InputStreamã€‚\n* Signatureï¼šç­¾åï¼Œå¯ä»¥å”¯ä¸€åœ°æ ‡è¯†ä¸€ä¸ªå¯¹è±¡ã€‚\n* recycle()ï¼šGlideä¸­Resourceç±»æœ‰æ­¤æ–¹æ³•ï¼Œè¡¨ç¤ºè¯¥èµ„æºä¸è¢«å¼•ç”¨ï¼Œå¯ä»¥æ”¾å…¥æ± ä¸­ï¼ˆæ­¤æ—¶å¹¶æ²¡æœ‰é‡Šæ”¾ç©ºé—´ï¼‰ã€‚Androidä¸­Bitmapä¹Ÿæœ‰æ­¤æ–¹æ³•ï¼Œè¡¨ç¤ºé‡Šæ”¾Bitmapå ç”¨çš„å†…å­˜ã€‚\n\n## ç›®å½•\n* ä¸»ç›®å½•\n* ç¼“å­˜æœºåˆ¶ä¸ç¼“å­˜å¤±æ•ˆ\n* Glideé…ç½®\n* è‡ªå®šä¹‰Target\n* è°ƒè¯•ä¸é”™è¯¯å¤„ç†\n* ä½¿ç”¨Glideä¸‹è½½è‡ªå®šä¹‰å¤§å°å›¾ç‰‡\n* é›†æˆåº“-ä¸å…¶ä»–åº“ç›¸æ•´åˆ\n* åœ¨åå°çº¿ç¨‹ä¸­åŠ è½½ä¸ç¼“å­˜æ•°æ®\n* Glideä¸­çš„èµ„æºå¤ç”¨\n* å¿«ç…§ï¼ˆSnapshotsï¼‰\n* å›¾å½¢å˜æ¢ï¼ˆTransformationsï¼‰\n\n---------\n\n## ä¸»ç›®å½•\n\n### æŠ¥å‘Šé—®é¢˜\nå¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥åœ¨[Githubä¸Šæå‡º](https://github.com/bumptech/glide/issues/)æˆ–è€…å‘é€e-mailåˆ°æˆ‘ä»¬çš„[é‚®ä»¶åˆ—è¡¨](https://groups.google.com/forum/#!forum/glidelibrary)ï¼Œä¹Ÿå¯ä»¥åœ¨IRC(Internet Relay Chat ç½‘ç»œä¸­ç»§èŠå¤©ï¼Ÿ)é¢‘é“ä¸Šè”ç³»æˆ‘ä»¬ï¼š[irc.freenode.net#glide-library](http://webchat.freenode.net/?channels=glide-library)ã€‚\n\n### 3.0ç‰ˆæœ¬çš„æ–°ç‰¹æ€§\n* æ”¯æŒGifåŠ¨ç”»çš„è§£ç  - ä¸åŠ è½½å›¾ç‰‡ç›¸åŒï¼Œåªè¦è°ƒç”¨Glide.with(...).load(...)ï¼Œå¦‚æœä½ åŠ è½½çš„å›¾ç‰‡æ˜¯ä¸€ä¸ªå¯ä»¥æ’­æ”¾çš„Gifï¼ŒGlideä¼šè‡ªåŠ¨åŠ è½½å®ƒå¹¶æ˜¾ç¤ºåœ¨ä¸€ä¸ªè‡ªå®šä¹‰çš„Drawableä¸Šï¼ˆæ³¨ï¼šGifDrawableï¼‰ã€‚æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥æ§åˆ¶çš„æ›´å¤šï¼Œæ¯”å¦‚\n\n\t```java\n// ä½ æƒ³åŠ è½½Gifä¸ºä¸€å¼ é™æ€å›¾ç‰‡\nGlide.with(context).load(...).asBitmap()ã€‚\n// æˆ–è€…ä½ æƒ³åªæœ‰åŠ è½½å¯¹è±¡æ˜¯Gifæ—¶æ‰èƒ½åŠ è½½æˆåŠŸ\nGlide.with(context).load(...).asGif()ã€‚\n```\n\n* æœ¬åœ°è§†é¢‘æ’­æ”¾æŠ€æœ¯ - é™¤äº†è§£ç Gifï¼ŒGlideä¹Ÿèƒ½è§£ç ä½ è®¾å¤‡ä¸Šçš„è§†é¢‘ï¼ˆvideoï¼‰ã€‚ä½¿ç”¨æ–¹æ³•å’ŒåŠ è½½gifç›¸åŒï¼ŒGlideæ”¯æŒæ‰€æœ‰Androidå¯ä»¥ç›´æ¥è§£ç çš„è§†é¢‘ã€‚\n* æ”¯æŒç¼©ç•¥å›¾åŠ è½½ - æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›å‡å°‘ç”¨æˆ·ç­‰å¾…çš„æ—¶é—´åˆä¸æƒ³ç‰ºç‰²å›¾ç‰‡çš„è´¨é‡ï¼Œæˆ‘ä»¬å¯ä»¥åŒæ—¶åŠ è½½å¤šå¼ å›¾ç‰‡åˆ°ä¸€ä¸ªViewä¸­ï¼Œå…ˆåŠ è½½ç¼©ç•¥å›¾ï¼ˆåªæœ‰viewçš„1/10å¤§å°ï¼‰ï¼Œç„¶åå†åŠ è½½ä¸€ä¸ªå®Œæ•´çš„å›¾åƒè¦†ç›–åœ¨ä¸Šé¢ã€‚ä½¿ç”¨ä¸‹é¢çš„ä»£ç \n\n\t```java\nGlide.with(yourFragment).load(yourUrl).thumbnail(0.1f).into(yourView)\n```\n\nå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªRequeståˆ°`.thumbnail()`å‡½æ•°ä¸­ä½œä¸ºå‚æ•°ã€‚\n\n* ä¸ç”Ÿå‘½å‘¨æœŸé›†æˆ - åŠ è½½è¯·æ±‚ç°åœ¨ä¼šè‡ªåŠ¨åœ¨onStopä¸­æš‚åœåœ¨ï¼ŒonStartä¸­é‡æ–°å¼€å§‹ã€‚ä¸ºäº†èŠ‚çº¦ç”µé‡ï¼ŒGifåŠ¨ç”»ä¹Ÿä¼šåœ¨onStopä¸­è‡ªåŠ¨æš‚åœã€‚æ­¤å¤–ï¼Œå½“è®¾å¤‡çš„è¿æ¥çŠ¶æ€æ”¹å˜æ—¶ï¼Œæ‰€æœ‰å¤±è´¥çš„è¯·æ±‚ä¼šè‡ªåŠ¨é‡è¯•ï¼Œç¡®ä¿Glideä¸ä¼šå› ä¸ºä¸´æ—¶æ€§çš„è¿æ¥é—®é¢˜ï¼Œå¯¼è‡´è¯·æ±‚æ°¸è¿œå¤±è´¥ã€‚\n* è½¬ç  - é™¤äº†è§£ç èµ„æºï¼ŒGlideçš„`.toBytes()`å’Œ`.transcode()`æ–¹æ³•å…è®¸ä½ åœ¨åå°æ­£å¸¸åœ°è·å–ã€è§£ç ã€å˜æ¢ä¸€å¼ å›¾ç‰‡ã€‚ä½ è¿˜å¯ä»¥åœ¨è¿™äº›è°ƒç”¨ä¸­æŠŠå›¾ç‰‡è½¬ç æˆæ›´æœ‰ç”¨çš„æ ¼å¼ï¼Œæ¯”å¦‚ï¼Œä¸Šä¼ ä¸€å¼ å¤§å°ä¸º250*250åƒç´ çš„ç”¨æˆ·å¤´åƒçš„å›¾ç‰‡bytesæ•°æ®ï¼Œä»£ç å¦‚ä¸‹\n\n\t```java\nGlide.with(context)\n    .load(â€œ/user/profile/photo/pathâ€)\n    .asBitmap()\n    .toBytes()\n    .centerCrop()\n    .into(new SimpleTarget<byte[]>(250, 250) {\n        @Override\n        public void onResourceReady(byte[] data, GlideAnimation anim) {\n            // åœ¨æ­¤å¤„ï¼Œå°†bytesæ•°æ®ä¼ å…¥åå°çº¿ç¨‹ï¼Œå†ä¸Šä¼ ä»–ä»¬\n        }\n    });\n```\n\n* åŠ¨ç”» - Glide3.Xæ”¯æŒã€æ·¡å…¥æ·¡å‡ºã€åŠ¨ç”»ï¼ˆ`.crossFade()`ï¼‰å’Œviewçš„å±æ€§åŠ¨ç”»(`.animate(ViewPropertyAnimation.Animator)`)ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰Glide2.0å°±æ”¯æŒçš„android viewåŠ¨ç”»ã€‚\n* æ”¯æŒ OkHttp å’Œ Volley - ç°åœ¨ä½ å¯ä»¥é€‰æ‹©ç”¨OkHttpã€Volleyæˆ–è€…é»˜è®¤çš„HttpUrlConnectionä½œä¸ºç½‘ç»œæ ˆã€‚OkHttpå’ŒVolleyå¯ä»¥é€šè¿‡æ·»åŠ å¯¹åº”çš„é›†æˆåº“(integration library)å’Œæ³¨å†Œç›¸åº”çš„`ModelLoaderFactory`æ¥å¼•å…¥ã€‚å…·ä½“æŸ¥çœ‹ReadMeæ–‡ä»¶ã€‚\n* å…¶ä»– - å¯ä»¥ä½¿ç”¨Drawableå¯¹è±¡ä½œä¸ºåŠ è½½ä¸­çš„å ä½å›¾ã€è¯·æ±‚ä¼˜å…ˆçº§ã€è¦†ç›–è‡ªå®šä¹‰å®½å’Œé«˜ã€å¯ä»¥ç¼“å­˜å˜æ¢åçš„ç¼©ç•¥å›¾æˆ–è€…ç¼“å­˜åŸå§‹æ–‡ä»¶\n\n### ä»2.0è¿ç§»åˆ°3.0\n* å°†æ‰€æœ‰çš„`Glide.load()`æ›¿æ¢ä¸º`Glide.with([fragment/activity/context]).load()`ã€‚\n* å°†æ‰€æœ‰çš„è‡ªå®šä¹‰çš„åŠ è½½è°ƒç”¨`Glide.load(url).into(new SimpleTarget(){ ... }).with(context)`æ›¿æ¢æˆ`Glide.with(context).load(url).into(new SimpleTarget(width, height) { ... })`ã€‚\n\n### ç‰¹æ€§\né™¤äº†3.0å¼•å…¥çš„æ–°åŠŸèƒ½ï¼ŒGlideç»§æ‰¿äº†2.0çš„æ‰€æœ‰åŠŸèƒ½ï¼š\n\n* åå°å›¾ç‰‡åŠ è½½\n* å¦‚æœä½ ä½¿ç”¨äº†listviewçš„å¤ç”¨æœºåˆ¶ï¼Œé‚£ä¹ˆGlideä¼šè‡ªåŠ¨å–æ¶ˆä½œä¸šï¼ˆjobï¼‰\n* å†…å­˜å’Œç£ç›˜ç¼“å­˜\n* Bitmapå’Œèµ„æºæ± æ¥å‡å°‘å†…å­˜æŠ–åŠ¨\n* æ”¯æŒä»»æ„çš„å›¾åƒå˜æ¢\n\n---------\n\n## ç¼“å­˜æœºåˆ¶ä¸ç¼“å­˜å¤±æ•ˆ\nç¼“å­˜å¤±æ•ˆæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„è¯é¢˜ï¼Œç†æƒ³æƒ…å†µä¸‹ï¼Œä½ å°½å¯èƒ½ä¸è¦è€ƒè™‘è¿™ä¸ªé—®é¢˜ã€‚è¿™ä¸€èŠ‚ä¸»è¦æ˜¯è®©ä½ ç²—ç•¥çš„äº†è§£ä¸€ä¸‹Glideä¸­cacheçš„keyæ˜¯å¦‚ä½•ç”Ÿæˆï¼Œä»¥åŠæä¾›ä¸€äº›å…³äºå¦‚ä½•åˆç†åˆ©ç”¨ç¼“å­˜çš„æç¤ºã€‚\n### ç¼“å­˜çš„key\n`DiskCacheStrategy.RESULT`ç£ç›˜ç¼“å­˜ç­–ç•¥ï¼ˆæ³¨ï¼šæˆ‘ä»¬é…ç½®çš„ä¸€ç§ç£ç›˜ç¼“å­˜ç­–ç•¥ï¼‰ä½¿ç”¨çš„keyç”±ä»¥ä¸‹å››ä¸ªä¸»è¦éƒ¨åˆ†ç»„æˆï¼š\n\n* DataFetcherçš„æ–¹æ³•`getId()`è¿”å›çš„å­—ç¬¦ã€‚å…¸å‹åœ°ï¼ŒDataFetcherä»…ä»…è¿”å›ç”±æ•°æ®Modelçš„`toString()`æ–¹æ³•å¾—åˆ°çš„å€¼ã€‚æ‰€ä»¥ï¼Œå¦‚æœModelæ˜¯ä¸€ä¸ª**URL**ï¼Œé‚£ä¹ˆä¼šè¿”å›URLçš„å­—ç¬¦ä¸²ï¼Œå¦‚æœModelæ˜¯æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆä¼šè¿”å›æ–‡ä»¶çš„**è·¯å¾„**ã€‚ã€‚ã€‚\n* å®½å’Œé«˜ã€‚å¦‚æœä½ è°ƒç”¨è¿‡override(width,height)æ–¹æ³•ï¼Œé‚£ä¹ˆå°±æ˜¯æ˜¯å®ƒä¼ å…¥çš„å€¼ã€‚æ²¡æœ‰è°ƒç”¨è¿‡ï¼Œé»˜è®¤æ˜¯é€šè¿‡**Target**çš„`getSize()`æ–¹æ³•è·å¾—è¿™ä¸ªå€¼ã€‚\n* å„ç§ç¼–ç å™¨ã€è§£ç å™¨çš„`getId()`æ–¹æ³•è¿”å›çš„å­—ç¬¦ä¸²ã€‚è¿™äº›ç¼–ç å™¨ã€è§£ç å™¨ç”¨äºåŠ è½½å’Œç¼“å­˜ä½ çš„å›¾ç‰‡ã€‚ä»…æœ‰å“ªäº›å †bytesæ•°æ®æœ‰å½±å“çš„ç¼–ç å™¨ã€è§£ç å™¨æ‰ä¼šæœ‰è¿™äº›`id`å€¼ã€‚æ¯”å¦‚ï¼Œä½ åªæœ‰ä¸€ä¸ªå°†bytesæ•°æ®å†™å…¥ç£ç›˜çš„ç¼–ç å™¨ï¼Œé‚£ä¹ˆå®ƒå°±æ²¡æœ‰idå€¼ï¼Œå› ä¸ºä¸ç®¡æ€æ ·å®ƒéƒ½ä¸ä¼šä¿®æ”¹æ•°æ®ã€‚\n* å¯é€‰åœ°ï¼Œä½ å¯ä»¥ä¸ºå›¾ç‰‡åŠ è½½æä¾›ç­¾å(Signature)ï¼Œè¯·çœ‹ä¸‹é¢çš„ç¼“å­˜å¤±æ•ˆéƒ¨åˆ†ã€‚\n\næ‰€æœ‰çš„è¿™äº›keyï¼Œä»¥ç‰¹å®šçš„é¡ºåºè®¡ç®—å‡ºhashå€¼ï¼Œå¹¶å°†è¿™ä¸ªå€¼ä½œä¸ºä¿å­˜å›¾ç‰‡åˆ°ç£ç›˜ä¸Šçš„å”¯ä¸€ä¸”å®‰å…¨çš„æ–‡ä»¶åã€‚\n\n### ç¼“å­˜å¤±æ•ˆ\nç”±äºæ–‡ä»¶åæ˜¯hashå€¼ï¼Œæ²¡æœ‰ç®€ä¾¿çš„æ–¹å¼åˆ é™¤ç£ç›˜ä¸ŠæŸä¸ªç‰¹å®šurlæˆ–è€…æ–‡ä»¶è·¯å¾„çš„æ‰€æœ‰ç¼“å­˜æ–‡ä»¶ã€‚å¦‚æœä»…ä»…ç¼“å­˜åŸæ–‡ä»¶ï¼Œé—®é¢˜å¯èƒ½è¿˜æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯Glideä¼šç¼“å­˜ç¼©ç•¥å›¾ï¼Œå„ç§å˜æ¢åçš„å›¾ç‰‡ï¼Œæ‰€æœ‰è¿™äº›ç¼“å­˜éƒ½ä¼šäº§ç”Ÿæ–°æ–‡ä»¶ã€‚è·Ÿè¸ªå’Œåˆ é™¤æ‰€æœ‰æ–‡ä»¶æ˜¯ååˆ†å›°éš¾çš„ã€‚\n\n### è‡ªå®šä¹‰ç¼“å­˜å¤±æ•ˆ\né€šå¸¸æƒ…å†µä¸‹æ”¹å˜ç¼“å­˜çš„æ ‡å¿—ï¼ˆkeyï¼‰æ˜¯å›°éš¾çš„ã€‚Glideæä¾›äº†`signature()`APIæ¥æ··å…¥å…¶ä»–æ•°æ®ï¼Œå¸®åŠ©ä½ æ§åˆ¶ç¼“å­˜çš„keyã€‚ç­¾åï¼ˆSignatureï¼‰å¯¹äºå¤šåª’ä½“æˆ–è€…æœ‰ç‰ˆæœ¬ä¿¡æ¯çš„å†…å®¹æ¥è¯´éƒ½å¾ˆæœ‰ç”¨ã€‚\n\n* åª’ä½“åº“å†…å®¹ - å¯¹äºåª’ä½“åº“å†…å®¹ï¼Œä½ å¯ä»¥ä½¿ç”¨Glideçš„`MediaStoreSignature`ç±»ä½œä¸ºç­¾åï¼Œ MediaStoreSignatureç±»å…è®¸ä½ æ··å…¥æ–‡ä»¶ä¿®æ”¹æ—¶é—´ã€mimeç±»å‹ã€åª’ä½“åº“çš„æ–¹å‘(orientation?)è¿™äº›å€¼ä½œä¸ºç¼“å­˜çš„keyï¼Œè¿™ä¸‰ä¸ªå€¼è¶³ä»¥è®©ä½ å¯é çš„æ•æ‰åˆ°ä»»ä½•ä¿®æ”¹å’Œæ›´æ–°ï¼Œä½¿ä½ å¯ä»¥ç¼“å­˜åª’ä½“åº“çš„ç¼©ç•¥å›¾.?\n* æ–‡ä»¶ - ä½ å¯ä»¥ä½¿ç”¨`StringSignature`æ··å…¥æ–‡ä»¶ä¿®æ”¹æ—¶é—´\n* url - è™½ç„¶ä½¿urlå¤±æ•ˆæœ€å¥½çš„æ–¹å¼æ˜¯å½“å†…å®¹å˜åŒ–æ—¶ï¼ŒæœåŠ¡å™¨ä¿®æ”¹urlå¹¶æ›´æ–°å®¢æˆ·ç«¯ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥ç”¨`StringSignature`æ··å…¥ä»»æ„çš„å…ƒæ•°æ®ï¼ˆå¦‚ç‰ˆæœ¬å·ï¼‰æ¥ä½¿ç¼“å­˜å¤±æ•ˆã€‚\n\nä½¿ç”¨String SignatureåŠ è½½æ•°æ®å¾ˆç®€å•ï¼š\n\n```java\nGlide.with(yourFragment)\n    .load(yourFileDataModel)\n    .signature(new StringSignature(yourVersionMetadata))\n    .into(yourImageView);\n```\n\nåª’ä½“åº“Signatureå¯ä»¥ç›´æ¥ä½¿ç”¨ä»MeidaStore(æ³¨ï¼šä¸€ä¸ªandroid apiï¼‰è·å¾—çš„æ•°æ®\n\n```java\nGlide.with(fragment)\n    .load(mediaStoreUri)\n    .signature(new MediaStoreSignature(mimeType, dateModified, orientation))\n    .into(view);\n```\n\nä½ è¿˜å¯ä»¥é€šè¿‡å®ç°`key`æ¥å£æ¥è‡ªå®šä¹‰ç­¾åï¼Œç¡®ä¿å®ç°äº†`equals()`, `hashCode()`å’Œ`updateDiskCacheKey()`è¿™å‡ ä¸ªæ–¹æ³•\n\n```java\npublic class IntegerVersionSignature implements Key {\n    private int currentVersion;\n \n    public IntegerVersionSignature(int currentVersion) {\n         this.currentVersion = currentVersion;\n    } \n \n    @Override \n    public boolean equals(Object o) {\n        if (o instanceof IntegerVersionSignature) {\n            IntegerVersionSignature other = (IntegerVersionSignature) o;\n            return currentVersion = other.currentVersion;\n        } \n        return false; \n    } \n \n    @Override \n    public int hashCode() { \n        return currentVersion;\n    } \n \n    @Override \n    public void updateDiskCacheKey(MessageDigest md) {\n        messageDigest.update(ByteBuffer.allocate(Integer.SIZE).putInt(signature).array());\n    } \n} \n```\nè¯·ç‰¢è®°ï¼šä¸ºäº†é¿å…æ€§èƒ½ä¸‹é™ï¼Œè¯·åœ¨åå°çº¿ç¨‹ä¸­æ‰¹é‡åŠ è½½ç‰ˆæœ¬å…ƒæ•°æ®(metaDataï¼Œæ³¨ï¼šä¸€èˆ¬æŸ¥è¯¢æ•°æ®åº“è·å¾—)ï¼Œåªæœ‰è¿™æ ·ï¼Œæ‰èƒ½ç¡®ä¿å½“ä½ æƒ³åŠ è½½å›¾ç‰‡çš„æ—¶å€™ï¼Œè¿™äº›å€¼æ˜¯å¯ç”¨çš„ã€‚\n\nå¦‚æœè¿™äº›æ–¹æ³•éƒ½å¤±è´¥äº†ï¼Œæ¯”å¦‚ï¼Œä½ ä¸èƒ½æ”¹å˜æ ‡è¯†ç¬¦ï¼Œä¹Ÿä¸èƒ½è·Ÿè¸ªä¸€ä¸ªåˆç†çš„ç‰ˆæœ¬å·ã€‚ä½ è¿˜å¯ä»¥ä½¿ç”¨`diskCacheStrategy()`å’Œ`DiskCacheStrategy.NONE.`æ¥å®Œå…¨å…³é—­ç£ç›˜ç¼“å­˜ã€‚\n\n---------\n\n## é…ç½®\n\n### æ‡’åŠ è½½é…ç½®\nä»Glide3.5å¼€å§‹ï¼Œä½ å¯ä»¥ä½¿ç”¨`GlideModule`æ¥å£æ¥æ‡’åŠ è½½é…ç½®Glideä»¥åŠæ³¨å†Œç»„ä»¶ï¼ˆå¦‚`ModelLoaders`)ï¼Œè¿™äº›é…ç½®å°†ä¼šåœ¨ç¬¬ä¸€ä¸ªGlideè¯·æ±‚å‘èµ·çš„æ—¶å€™è¢«è°ƒç”¨ã€‚\n\n### åˆ›å»ºä¸€ä¸ªGlideModule\nä¸ºäº†ä½¿ç”¨å’Œæ³¨å†ŒGlideModuleï¼Œé¦–å…ˆéœ€è¦å®ç°è¯¥æ¥å£ï¼ŒåŠ å…¥ä½ çš„é…ç½®å’Œç»„ä»¶ã€‚\n\n```java\npackage com.mypackage; \n \npublic class MyGlideModule implements GlideModule { \n    @Override public void applyOptions(Context context, GlideBuilder builder) {\n        // Apply options to the builder here. \n    } \n \n    @Override public void registerComponents(Context context, Glide glide) {\n        // register ModelLoaders here. \n    } \n} \n```\n\nç„¶åï¼Œæ·»åŠ ä½ çš„å®ç°ç±»åˆ°`proguard.cfg`æ–‡ä»¶ä¸­ï¼Œè®©ä½ çš„moduleå¯ä»¥è¢«åå°„è°ƒç”¨åˆ°ã€‚è¿™ä¸ªæ€§èƒ½å¼€æ”¯å¾ˆå°‘ï¼Œå› ä¸ºæ¯ä¸ªmoduleåªä¼šåœ¨Glideç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™å®ä¾‹åŒ–ä¸€æ¬¡ã€‚\n\n```xml\n-keepnames class com.mypackage.MyGlideModule\n# or more generally:\n#-keep public class * implements com.bumptech.glide.module.GlideModule\n```\n\næœ€åï¼Œæ·»åŠ meta-dataæ ‡è®°åˆ°`AndroidManifest.xml`ï¼Œé‚£æ ·Glideæ‰èƒ½æ‰¾åˆ°å®ƒã€‚\n\n```xml\n<manifest ...>\n    <!-- ... permissions -->\n    <application ...>\n        <meta-data\n            android:name=\"com.mypackage.MyGlideModule\"\n            android:value=\"GlideModule\" />\n        <!-- ... activities and other components -->\n    </application>\n</manifest>\n```\n\nä½ å¯ä»¥å®ç°ä»»æ„ä¸ª`GlideModule`ï¼Œä½†æ˜¯æ¯ä¸€ä¸ªéƒ½è¦æ·»åŠ åˆ°`proguard.cfg`ï¼Œè€Œä¸”æ¯ä¸€ä¸ªGlideModuleéƒ½è¦åœ¨manifestæœ‰è‡ªå·±çš„meta-dataæ ‡è®°ã€‚\n\n### Libraryå·¥ç¨‹\nLibraryå·¥ç¨‹å¯èƒ½å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ª`GlideModule`ã€‚å½“æˆ‘ä»¬ä½¿ç”¨Gradleï¼ˆæˆ–è€…ä»»ä½•æ”¯æŒmanifeståˆå¹¶çš„æ„å»ºå·¥å…·ï¼‰æ„å»ºappæ—¶ï¼Œå¦‚æœæˆ‘ä»¬æ‰€ä¾èµ–çš„Libraryå·¥ç¨‹çš„manifestä¸­å«æœ‰moduleï¼Œé‚£ä¹ˆè¿™äº›moduleä¼šè‡ªåŠ¨å¹¶å…¥åˆ°appä¸­ã€‚å¦‚æœæ„å»ºå·¥å…·ä¸æ”¯æŒmanifeståˆå¹¶ï¼Œé‚£ä¹ˆè¿™äº›libraryå·¥ç¨‹ä¸­çš„moduleå¿…é¡»æ‰‹åŠ¨æ·»åŠ åˆ°ä½ appçš„manifestä¸­ã€‚\n\n### GlideModuleå†²çª\nè™½ç„¶Glideå…è®¸æ¯ä¸ªappæ³¨å†Œå¤šä¸ª`Glidemodule`ï¼Œä½†æ˜¯ä¸ä¼šä»¥æŸç§ç‰¹å®šçš„é¡ºåºè°ƒç”¨è¿™äº›moduleã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ çš„appä¸­å¤šä¸ª`GlideModules`æˆ–è€…ä¾èµ–çš„libraryå·¥ç¨‹ä¸­æœ‰å¤šä¸ª`GlideModules`ï¼Œä½ å¿…é¡»è´Ÿè´£é¿å…ä»–ä»¬ä¹‹é—´çš„å†²çªã€‚\nå¦‚æœå†²çªä¸å¯é¿å…ï¼Œappåº”è¯¥å®šä¹‰è‡ªå·±çš„é»˜è®¤moduleï¼Œè¿™ä¸ªmoduleéœ€è¦æ‰‹åŠ¨è§£å†³è¿™äº›å†²çªï¼Œæä¾›æ‰€æœ‰Libraryå·¥ç¨‹æ‰€éœ€è¦çš„ä¾èµ–ã€‚ä½¿ç”¨Gradleçš„å¼€å‘è€…ï¼Œæˆ–è€…ä½¿ç”¨manifeståˆå¹¶çš„å¼€å‘è€…ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ ‡ç­¾æ¥æ’é™¤å†²çªçš„moduleã€‚\n\n```xml\n<meta-data android:name=â€com.mypackage.MyGlideModuleâ€ tools:node=â€removeâ€ />\n```\n\n### å…¨å±€é…ç½®\nä½ å¯ä»¥é…ç½®ä¸€äº›ä½œç”¨äºæ‰€æœ‰è¯·æ±‚çš„å…¨å±€æ€§é…ç½®é¡¹ã€‚è¯·ä½¿ç”¨`GlideModule#applyOptions`æ–¹æ³•ä¸­ï¼ˆæ³¨ï¼šä½œä¸ºå‚æ•°ï¼‰æä¾›ç»™ä½ çš„`GlideBuilder`æ¥é…ç½®ã€‚æœ¬èŠ‚ä»£ç ç¤ºä¾‹ä¸­çš„`builder`å°±æ˜¯ä¸€ä¸ªGlideModuleå¯¹è±¡ã€‚\n\n### ç£ç›˜ç¼“å­˜\nä½ å¯ä»¥ä½¿ç”¨`GlideBuilder`çš„`setDiskCache()`æ–¹æ³•è®¾ç½®ç£ç›˜ç¼“å­˜çš„ä½ç½®ã€å¤§å°ï¼ˆæœ€å¤§å€¼ï¼‰ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨`DiskCacheAdapter`å½»åº•å…³é—­ç¼“å­˜ï¼Œæˆ–è€…è‡ªå·±å®ç°`DiskCache`æ¥å£æ¥æ¢æ‰é»˜è®¤å®ç°ã€‚ç£ç›˜ç¼“å­˜ç”±`DiskCache.Factory`æ¥å£çš„å®ä¾‹åœ¨åå°çº¿ç¨‹ä¸­åˆ›å»ºï¼Œä½¿ç”¨åå°çº¿ç¨‹å¯ä»¥é¿å…åœ¨ä¸¥æ ¼æ¨¡å¼ä¸­å‡ºç°é—®é¢˜ã€‚\nGlideé»˜è®¤ä½¿ç”¨`InternalCacheDiskCacheFactory`ç±»å»ºç«‹ç£ç›˜ç¼“å­˜ã€‚è¿™ä¸ªå†…éƒ¨ç¼“å­˜å·¥å‚ï¼ˆinternal cache factoryï¼‰ä¼šæŠŠç£ç›˜ç¼“å­˜æ”¾åˆ°åº”ç”¨ç¨‹åºçš„å†…éƒ¨ç¼“å­˜ç›®å½•ä¸­ï¼Œå¹¶ä¸”è®¾ç½®æœ€å¤§ç©ºé—´æ˜¯250MBï¼Œä½¿ç”¨å†…éƒ¨ç¼“å­˜çš„ç›®å½•è€Œä¸æ˜¯SDå¡çš„å¤–éƒ¨ç›®å½•æ„å‘³ç€å…¶ä»–åº”ç”¨ç¨‹åºæ— æ³•è®¿é—®åˆ°ä½ ä¸‹è½½çš„å›¾ç‰‡ã€‚å…·ä½“è¯·æŸ¥çœ‹Androidçš„[å­˜å‚¨é€‰é¡¹ç›¸å…³æ–‡æ¡£](http://developer.android.com/intl/zh-cn/guide/topics/data/data-storage.html#filesInternal)ã€‚\n\n#### å¤§å°\nä½¿ç”¨`InternalCacheDiskCacheFactory`è®¾ç½®ç£ç›˜ç¼“å­˜å¤§å°\n\n```java\nbuilder.setDiskCache(\n  new InternalCacheDiskCacheFactory(context, yourSizeInBytes));\n```\n\n#### ä½ç½®\nä¹Ÿå¯ä»¥è®¾ç½®ç£ç›˜ç¼“å­˜ä½ç½®\nä½ å¯ä»¥ä½¿ç”¨`InternalCacheDiskCacheFactory `æ¥æŠŠä½ çš„ç£ç›˜ç¼“å­˜æ”¾åˆ°åº”ç”¨ç¨‹åºç§æœ‰çš„å†…éƒ¨å­˜å‚¨ç›®å½•ä¸­ï¼š\n\n```java\nbuilder.setDiskCache(\n  new InternalCacheDiskCacheFactory(context, cacheDirectoryName, yourSizeInBytes));\n```\nè¿˜å¯ä»¥ç”¨`ExternalCacheDiskCacheFactory `æ¥æŠŠä½ çš„ç£ç›˜ç¼“å­˜æ”¾åˆ°sdå¡çš„å…¬å…±ç¼“å­˜ç›®å½•ä¸Šã€‚\n\n```java\nbuilder.setDiskCache(\n  new ExternalCacheDiskCacheFactory(context, cacheDirectoryName, yourSizeInBytes));\n```\nå¦‚æœä½ æƒ³ç”¨å…¶ä»–è‡ªå®šä¹‰çš„è·¯å¾„ï¼Œå¯ä»¥ç”¨`DiskLruCacheFactory`ç±»çš„æ„é€ å‡½æ•°æ¥å®ç°ã€‚\n\n```java\n// If you can figure out the folder without I/O: \n// Calling Context and Environment class methods usually do I/O. \nbuilder.setDiskCache( \n  new DiskLruCacheFactory(getMyCacheLocationWithoutIO(), yourSizeInBytes)); \n \n// In case you want to specify a cache folder (\"glide\"): \nbuilder.setDiskCache( \n  new DiskLruCacheFactory(getMyCacheLocationWithoutIO(), \"glide\", yourSizeInBytes)); \n \n// In case you need to query the file system while determining the folder: \nbuilder.setDiskCache(new DiskLruCacheFactory(new CacheDirectoryGetter() { \n    @Override public File getCacheDirectory() {\n        return getMyCacheLocationBlockingIO(); \n    } \n}), yourSizeInBytes); \n```\næ³¨æ„ï¼šè¯·ç‰¢è®°ï¼Œå†™æ­»ä»»ä½•å€¼éƒ½ä¸æ˜¯ä¸ªå¥½ä¸»æ„ï¼Œå°¤å…¶æ˜¯ç›®å½•çš„è·¯å¾„ï¼Œå› ä¸ºè‡ªAndroid4.2å¼€å§‹ï¼Œæ”¯æŒå•è®¾å¤‡å¤šç”¨æˆ·ã€‚\n\nå¦‚æœä½ æƒ³å®Œå…¨æ§åˆ¶ç¼“å­˜çš„åˆ›å»ºï¼Œå¯ä»¥è‡ªå·±å®ç°`DiskCache.Factory `æ¥å£ï¼Œä½¿ç”¨`DiskLruCacheWrapper`å¯ä»¥åœ¨ä½ æƒ³è¦çš„ä½ç½®åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å­˜ã€‚\n\n```java\nbuilder.setDiskCache(new DiskCache.Factory() { \n    @Override public DiskCache build() { \n        File cacheLocation = getMyCacheLocationBlockingIO();\n        cacheLocation.mkdirs();\n        return DiskLruCacheWrapper.get(cacheLocation, yourSizeInBytes);\n    } \n}); \n```\n\n### å†…å­˜ç¼“å­˜å’Œç¼“å­˜æ± \n`GlideBuilder`ç±»å…è®¸ä½ è®¾ç½®å†…å­˜ç¼“å­˜å¤§å°ï¼Œè€Œä¸”å¯ä»¥å®ç°è‡ªå®šä¹‰çš„`MemoryCache`å’Œ`BitmapPool`ã€‚\n\n#### å¤§å°\né»˜è®¤å¤§å°æ˜¯ç”±`MemorySizeCalculator`ç±»å†³å®šçš„ã€‚MemorySizeCalculatorç±»ä¼šè€ƒè™‘è¯¥è®¾å¤‡çš„å±å¹•å¤§å°ã€å¯ç”¨å†…å­˜æ¥è®¡ç®—å‡ºä¸€ä¸ªåˆç†çš„é»˜è®¤å€¼ã€‚å¦‚æœä½ æƒ³è°ƒæ•´è¿™ä¸ªé»˜è®¤å€¼ï¼Œè¯·æ„å»ºè‡ªå·±çš„å®ä¾‹ã€‚\n\n```java\nMemorySizeCalculator calculator = new MemorySizeCalculator(context);\nint defaultMemoryCacheSize = calculator.getMemoryCacheSize();\nint defaultBitmapPoolSize = calculator.getBitmapPoolSize();\n```\nå¦‚æœä½ æƒ³åœ¨åº”ç”¨çš„æŸä¸ªé˜¶æ®µåŠ¨æ€è°ƒæ•´Glideçš„å†…å­˜å ç”¨ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€ä¸ª`MemoryCategory`å¹¶ä½¿ç”¨`setMemoryCategory()`æ–¹æ³•ä¼ å…¥Glideä¸­ï¼š\n\n```java\nGlide.get(context).setMemoryCategory(MemoryCategory.HIGH);\n```\n\n#### å†…å­˜ç¼“å­˜\nGlideçš„å†…å­˜ç¼“å­˜ä¼šåœ¨å†…å­˜ä¸­æŒæœ‰èµ„æºï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä¸è¿›è¡ŒIOæ“ä½œè€Œå¿«é€Ÿè·å¾—å¯ç”¨èµ„æºã€‚\nä½ å¯ä»¥ä½¿ç”¨`GlideBuilder`çš„`setMemoryCache()`æ–¹æ³•è®¾ç½®å¤§å°ï¼Œæˆ–è€…è®¾ç½®ä½ å…³äºå†…å­˜ç¼“å­˜çš„è‡ªå®šä¹‰å®ç°ï¼ˆè‡ªå®šä¹‰ç±»ï¼‰ã€‚`LruResourceCache`ç±»æ˜¯Glideçš„é»˜è®¤å®ç°ã€‚ä½ å¯ä»¥é€šè¿‡`LruResourceCache`çš„æ„é€ å‡½æ•°æ¥é…ç½®å†…å­˜å ç”¨çš„bytesçš„æœ€å¤§å€¼ã€‚\n\n```java\nbuilder.setMemoryCache(new LruResourceCache(yourSizeInBytes));\n```\n\n#### Bitmapæ± \nGlideçš„Bitmapæ± ä¸»è¦ä½œç”¨æ˜¯ï¼Œå¯ä»¥è®©å„ç§å°ºå¯¸çš„Bitmapè¢«å¤ç”¨ï¼Œå¯ä»¥å¯è§‚åœ°å‡å°‘ç”±åƒåœ¾å›æ”¶å¼•èµ·çš„å†…å­˜æŠ–åŠ¨ã€‚åœ¨è§£ç å›¾ç‰‡æ—¶ï¼Œéœ€è¦ç»™åƒç´ æ•°ç»„åˆ†é…ç©ºé—´ï¼Œè¿™ä¼šè§¦å‘åƒåœ¾å›æ”¶ã€‚\nä½ å¯ä»¥ä½¿ç”¨`GlideBuilder`çš„`setBitmapPool()`æ–¹æ³•è®¾ç½®å¤§å°ï¼Œæˆ–è€…è®¾ç½®ä½ å…³äºBitmapæ± çš„è‡ªå®šä¹‰å®ç°ï¼Œ`LruBitmapPool`ç±»æ˜¯Glideçš„é»˜è®¤å®ç°ã€‚LruBitmapPoolç±»ä½¿ç”¨äº†LRUç®—æ³•ç»´æŠ¤æœ€è¿‘æœ€å¸¸ä½¿ç”¨çš„Bitmapçš„å°ºå¯¸ã€‚ä½ å¯ä»¥é€šè¿‡`LruBitmapPool`çš„æ„é€ å‡½æ•°é…ç½®å†…å­˜å ç”¨çš„bytesçš„æœ€å¤§å€¼ã€‚\n\n```java\nbuilder.setBitmapPool(new LruBitmapPool(sizeInBytes));\n```\n\n### Bitmapæ ¼å¼\n`GlideBuilder` ç±»ä¹Ÿå…è®¸ä½ é…ç½®ä¸€ä¸ªAppå…¨å±€ä½¿ç”¨çš„Bitmapçš„Configå±æ€§ã€‚\nGlideé»˜è®¤ä½¿ç”¨RGB_565ï¼Œå› ä¸ºå®ƒæ¯ä¸ªåƒç´ åªéœ€è¦2bytesï¼ˆ16bitï¼‰çš„ç©ºé—´ï¼Œå®ƒä»…éœ€è¦é«˜è´¨é‡å›¾ç‰‡ï¼ˆæ—¢ç³»ç»Ÿé»˜è®¤çš„`ARGB_8888 `ï¼‰ä¸€åŠçš„å†…å­˜ç©ºé—´ã€‚ä½†æ˜¯ï¼Œè¿™å¯¹äºæŸäº›å›¾ç‰‡è¿™å¯èƒ½ä¼šå‡ºç°ã€æ¡å¸¦ã€çš„é—®é¢˜ï¼Œè€Œä¸”å®ƒä¹Ÿä¸æ”¯æŒé€æ˜åº¦ã€‚\nå¦‚æœåœ¨ä½ çš„åº”ç”¨ä¸­ã€æ¡å¸¦ã€æ˜¯ä¸€ä¸ªé‡è¦çš„é—®é¢˜ï¼Œæˆ–è€…ä½ éœ€è¦å°½å¯èƒ½å¥½çš„å›¾ç‰‡è´¨é‡ï¼Œä½ å¯ä»¥ä½¿ç”¨`GlideBuilder`çš„`setDecodeFormat`æ–¹æ³•è®¾ç½®DecodeFormat.ALWAYS_ARGB_8888ä½œä¸ºé¦–é€‰é…ç½®ã€‚\n\n```java\nbuilder.setDecodeFormat(DecodeFormat.ALWAYS_ARGB_8888);\n```\n\n---------\n\n## è‡ªå®šä¹‰ç›®æ ‡ï¼ˆTargetsï¼‰\né™¤äº†å¯ä»¥åŠ è½½å›¾åƒï¼Œè§†é¢‘å‰§ç…§ï¼ŒgifåŠ¨ç”»åˆ°Viewä¸­ï¼Œä½ è¿˜å¯ä»¥åŠ è½½ä»–ä»¬åˆ°å®ç°äº†Targetæ¥å£çš„è‡ªå®šä¹‰ç›®æ ‡ä¸­ã€‚\n\n### SimpleTarget\nå¦‚æœä½ åªæ˜¯æƒ³åŠ è½½ä¸€ä¸ªBitmapï¼Œå¹¶ä¸æƒ³ç›´æ¥å±•ç¤ºç»™ç”¨æˆ·è€Œæ˜¯æœ‰ä¸€äº›ç‰¹æ®Šç”¨é€”ï¼Œæ¯”å¦‚åœ¨é€šçŸ¥æ ä¸­æ˜¾ç¤ºæˆ–è€…ä½œä¸ºå¤´åƒä¸Šä¼ ã€‚\nGlideä¹Ÿå¯ä»¥åšåˆ°ã€‚\nSimpleTargetä¸ºTargetæ¥å£æä¾›äº†å¤§éƒ¨åˆ†çš„é»˜è®¤å®ç°ã€‚ä½ å¯ä»¥ä¸“æ³¨äºå¤„ç†åŠ è½½çš„ç»“æœã€‚\nä¸ºäº†ä½¿ç”¨SimpleTargetï¼Œä½ éœ€è¦åœ¨å®ƒçš„æ„é€ å‡½æ•°ä¸­æä¾›ä½ è¦åŠ è½½çš„èµ„æºçš„å®½å’Œé«˜ï¼ˆå•ä½åƒç´ ï¼‰ï¼Œä½ è¿˜éœ€è¦å®ç°` onResourceReady(T resource, GlideAnimation animation)`æ–¹æ³•ã€‚\nä¸€ä¸ªå…¸å‹çš„ä½¿ç”¨SimpleTargetçš„ä¾‹å­å¦‚ä¸‹ï¼š\n\n```java\nint myWidth = 512;\nint myHeight = 384;\n \nGlide.with(yourApplicationContext)) \n    .load(youUrl) \n    .asBitmap() \n    .into(new SimpleTarget<Bitmap>(myWidth, myHeight) {\n        @Override \n        public void onResourceReady(Bitmap bitmap, GlideAnimation anim) {\n            // Do something with bitmap here. \n        } \n    }; \n```\n\n#### ä¸€äº›è­¦å‘Š\næ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ åŠ è½½ä¸€ä¸ªèµ„æºä¼šæŠŠä»–ä»¬æ”¾åˆ°viewä¸­ã€‚å½“ä½ çš„Activityæˆ–è€…Fragmentè¢«pauseæˆ–è€…destroyæ—¶ï¼ŒGlideä¼šæš‚åœæˆ–å–æ¶ˆåŠ è½½ï¼Œç¡®ä¿ä½ ä¸ä¼šåŠ è½½é‚£äº›æ ¹æœ¬ä¸ä¼šæ˜¾ç¤ºçš„èµ„æºã€‚\nå¯æ˜¯å½“æˆ‘ä»¬ä½¿ç”¨SimpleTargetçš„æ—¶å€™ï¼Œè¿™å¯èƒ½å¹¶ä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çš„è¡Œä¸ºã€‚æ‰€ä»¥ï¼Œå½“ä½ è°ƒç”¨`Glide.with(context)`çš„æ—¶å€™ï¼Œä½ å¯ä»¥ä¼ å…¥Applicationçš„contextï¼Œè€Œä¸æ˜¯ä¼ å…¥Activityæˆ–è€…Fragmentã€‚\næ­¤å¤–ï¼Œè€ƒè™‘åˆ°é•¿æ—¶é—´çš„åŠ è½½æ“ä½œå¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œè¯·è€ƒè™‘ä½¿ç”¨é™æ€å†…éƒ¨ç±»ï¼Œè€Œä¸æ˜¯åŒ¿åå†…éƒ¨ç±»ã€‚\n\n### ViewTarget\nå¦‚æœä½ æƒ³åŠ è½½ä¸€ä¸ªå›¾ç‰‡åˆ°Viewä¸­ï¼Œä½†æ˜¯ä½ æƒ³è§‚å¯Ÿæˆ–è€…è¦†ç›–Glideçš„é»˜è®¤è¡Œä¸ºã€‚ä½ å¯ä»¥è¦†ç›–ViewTargetæˆ–è€…å®ƒçš„å­ç±»ã€‚\nå½“ä½ æƒ³è®©Glideæ¥è·å–viewçš„çš„å¤§å°ï¼Œä½†æ˜¯ç”±è‡ªå·±æ¥å¯åŠ¨åŠ¨ç”»å’Œè®¾ç½®èµ„æºåˆ°viewä¸­ï¼ŒViewTargetæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚å¦‚æœä½ è¦åŠ è½½ä¸€ä¸ªå›¾ç‰‡åˆ°ImageViewä¹‹å¤–çš„è‡ªå®šä¹‰viewä¸­ï¼Œé‚£ä¹ˆImageViewTargetæˆ–è€…å®ƒçš„å­ç±»å°±ä¸èƒ½æ»¡è¶³ä½ çš„è¦æ±‚ï¼Œæ­¤æ—¶ç»§æ‰¿ViewTargetå°±ç‰¹åˆ«åˆé€‚ã€‚\nä½ å¯ä»¥é™æ€çš„å®šä¹‰ä¸€ä¸ªViewTargetçš„å­ç±»ï¼Œæˆ–è€…ä¼ é€’ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»åˆ°ä½ çš„åŠ è½½è°ƒç”¨é‡Œï¼š\n\n```java\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .into(new ViewTarget<YourViewClass, GlideDrawable>(yourViewObject) {\n        @Override\n        public void onResourceReady(GlideDrawable resource, GlideAnimation anim) {\n            YourViewClass myView = this.view;\n            // Set your resource on myView and/or start your animation here.\n        }\n    });\n```\næ³¨æ„ï¼Œå¦‚æœä½ æƒ³æŒ‡å®šåŠ è½½Bitmapè¿˜æ˜¯GifDrawableï¼Œè¯·åœ¨`.load(yourUrl)`è°ƒç”¨åé¢ç›´æ¥æ·»åŠ `.asBitmap()`æˆ–è€…`.asGif()`ï¼ŒåŒæ—¶å°†ViewTargetçš„ç±»å‹å‚æ•°`GlideDrawable`æ¢æˆå¯¹åº”åŠ è½½çš„ç±»å‹ã€‚\nä¸ºäº†æ›´å¤šæ§åˆ¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨Targetå®ç°`LifecycleListener`å›è°ƒï¼Œ`onStart()`ã€`onStop()`æˆ–è€…`onDestroy()`ä¼šå’Œä½ viewæ‰€åœ¨çš„fragmentçš„ç”Ÿå‘½å‘¨æœŸä¿æŒåŒæ­¥ã€‚\n\n### è¦†ç›–é»˜è®¤è¡Œä¸º\nå¦‚æœä½ åªæƒ³è§‚å¯Ÿä¸æƒ³ä¿®æ”¹Glideçš„é»˜è®¤è¡Œä¸ºï¼Œä½ å¯ä»¥ç»§æ‰¿ä»»ä½•ä¸€ä¸ªGlideå¯¹ImageViewTargetsçš„é»˜è®¤å®ç°ã€‚\n\n* GlideDrawableImageViewTarget - é»˜è®¤çš„Targetï¼Œç”¨äºæ­£å¸¸çš„åŠ è½½å’Œ`asGif()`ã€‚\n* BitmapImageViewTarget - å½“ä½¿ç”¨`asBitmap()`åŠ è½½æ—¶ï¼Œä½¿ç”¨çš„é»˜è®¤Targetã€‚\n\nåªæœ‰ä½ åœ¨æ¯ä¸ªæ–¹æ³•é‡Œé¢è°ƒç”¨`super()`ï¼Œå°†ä¼šä¿ç•™é»˜è®¤çš„è¡Œä¸ºï¼ŒåŒæ—¶è¿˜å¯ä»¥æ·»åŠ ä¸€äº›ä½ å¸Œæœ›çš„åŠŸèƒ½ã€‚\n\nä¾‹å¦‚ï¼Œæƒ³è¦ç”Ÿæˆä¸€ä¸ª[è°ƒè‰²æ¿](http://chris.banes.me/2014/07/04/palette-preview/)ï¼Œä½ å¯ä»¥è¿™æ ·åšã€‚\n\n```java\nGlide.with(yourFragment) \n    .load(yourUrl) \n    .asBitmap() \n    .into(new BitmapImageViewTarget(yourImageView)) { \n        @Override \n        public void onResourceReady(Bitmap bitmap, GlideAnimation anim) {\n            super.onResourceReady(bitmap, anim);\n            Palette.generateAsync(bitmap, new Palette.PaletteAsyncListener() {  \n                @Override \n                public void onGenerated(Palette palette) {\n                    // Here's your generated palette \n                } \n            }); \n        } \n    }); \n```\nè™½ç„¶è¿™ä¸ªä¾‹å­è¿˜ä¸é”™ï¼Œä½†æ˜¯ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä¸æ¨èç”¨è¿™ä¸ªæ–¹å¼ç”Ÿæˆè°ƒè‰²æ¿ã€‚è¯·æŸ¥çœ‹Glideçš„ `ResourceTranscoder` æ¥å£å’Œ`.transcode()`æ–¹æ³•ï¼Œè€ƒè™‘è¿”å›ä¸€ä¸ªåŒ…å«Bitmapå’Œè°ƒè‰²æ¿çš„è‡ªå®šä¹‰èµ„æºã€‚è°ƒè‰²æ¿å¯åœ¨åœ¨åå°çº¿ç¨‹ç”Ÿæˆã€‚ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿæ›´å¤šå†…å®¹ä¼šåœ¨ä»¥åæ¨å‡ºã€‚ã€‚ã€‚\n\n---------\n\n## è°ƒè¯•å’Œé”™è¯¯å¤„ç†\nGlideåœ¨åŠ è½½è¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šæ‰“æ—¥å¿—ã€‚Glideä¸ºä½ æä¾›äº†ä¸¤ç§æ–¹å¼æŸ¥çœ‹å’Œå¤„ç†è¿™äº›å¼‚å¸¸ã€‚\n\n### è°ƒè¯•\nä»…ä»…ä¸ºäº†æŸ¥çœ‹å¼‚å¸¸çš„è¯ï¼Œä½ å¯ä»¥ä¸º`GenericRequest`ç±»æ‰“å¼€Debugæ—¥å¿—ã€‚è¿™ä¸ªç±»å¤„ç†æ‰€æœ‰åª’ä½“èµ„æºçš„åŠ è½½å“åº”ï¼ˆresponseï¼‰ã€‚ä½ å¯ä»¥åœ¨å‘½ä»¤è¡Œé‡Œè¿è¡Œï¼š\n\n```xml\nadb shell setprop log.tag.GenericRequest DEBUG\n```\næƒ³è¦åŒ…æ‹¬è¯¦ç»†çš„è¯·æ±‚æ—¶åºä¿¡æ¯ï¼Œä½ å¯ä»¥æŠŠ`DEBUG`ç¼“å­˜`VERBOSE`ã€‚\n\nå…³é—­æ—¥å¿—ä½¿ç”¨ï¼š\n\n```xml\nadb shell setprop log.tag.GenericRequest ERROR\n```\n\n### è°ƒè¯•[å·¥ä½œæµ](https://docs.google.com/drawings/d/1KyOJkNd5Dlm8_awZpftzW7KtqgNR6GURvuF6RfB210g/edit)\nä¸ºäº†æŸ¥çœ‹å†…éƒ¨å¼•æ“ï¼ˆengineï¼‰å¦‚ä½•ä»¥åŠä½•æ—¶æŸ¥æ‰¾åˆ°èµ„æºï¼Œä½ å¯ä»¥æ‰“å¼€æ—¥å¿—ï¼š\n\n```xml\nadb shell setprop log.tag.Engine VERBOSE\nadb shell setprop log.tag.EngineJob VERBOSE\nadb shell setprop log.tag.DecodeJob VERBOSE\n```\næ‰“å¼€è¿™ä¸ªæœ‰åŠ©äºä½ æ‰¾å‡ºä¸ºä»€ä¹ˆæŸä¸ªèµ„æºæ²¡æœ‰ä»å†…å­˜ç¼“å­˜ä¸­åŠ è½½ï¼Œä¸ºä»€ä¹ˆè¯·æ±‚å†æ¬¡ä»å¤–éƒ¨çš„urlä¸‹è½½æ•°æ®ã€‚è¿™ä¹Ÿå¯ä»¥å¸®åŠ©ä½ äº†è§£ï¼šå¦‚æœæƒ³å‘½ä¸­ç£ç›˜ç¼“å­˜ï¼Œä»€ä¹ˆæ ·çš„å‚æ•°éœ€è¦åŒ¹é…ã€‚å¯ç”¨`DecodeJob`æ—¥å¿—ä¹Ÿå¯ä»¥å¸®åŠ©ä½ å»å®šä½è‡ªå®šä¹‰transformation/decoder/encoderç›¸å…³çš„é—®é¢˜ã€‚\n\n### ç›‘å¬è¯·æ±‚-RequestListener\nè™½ç„¶å¯ç”¨debugæ—¥å¿—å¾ˆç®€å•ï¼Œä½†æ˜¯åªæœ‰åœ¨ä½ å¯ä»¥è¿æ¥åˆ°è®¾å¤‡æ—¶æ‰èƒ½è¿™æ ·å¹²ã€‚ä¸ºäº†æŠŠGlideé›†æˆåˆ°å·²æœ‰çš„æ›´ä¸“ä¸šçš„é”™è¯¯æ—¥å¿—ç³»ç»Ÿã€‚ä½ å¯ä»¥ä½¿ç”¨`RequestListener`ç±»çš„`onException()`ã€‚å½“è¯·æ±‚å¤±è´¥æ—¶ï¼Œè¯¥æ–¹æ³•ä¼šå‘ŠçŸ¥ä½ å¯¼è‡´å¤±è´¥çš„`å¼‚å¸¸`(Exception)ï¼Œå¦‚æœè§£ç å™¨ï¼ˆDecoderï¼‰ä¸èƒ½ä»æ•°æ®ä¸­è§£æå‡ºä»»ä½•æœ‰ç”¨çš„ä¿¡æ¯ï¼ŒExceptionä¹Ÿå¯èƒ½ä¼ `null`ã€‚ä½ å¯ä»¥ä½¿ç”¨`listener()`APIä¼ ä¸€ä¸ªä½ çš„ç›‘å¬å™¨ï¼ˆlistenerï¼‰åˆ°æ¯ä¸€ä¸ªè¯·æ±‚ä¸­ã€‚\nè¯·ç¡®ä¿`onException()`è¿”å›`false`ï¼Œä»¥å…è¦†ç›–äº†Glideçš„é»˜è®¤é”™è¯¯å¤„ç†è¡Œä¸ºï¼ˆä¾‹å¦‚ï¼Œå®ƒé»˜è®¤ä¼šé€šçŸ¥`Target`è¿™ä¸ªerrorï¼‰ã€‚\nè¿™æ˜¯ä¸€ä¸ªå¿«é€Ÿè°ƒè¯•çš„ä¾‹å­ï¼š\n\n```java\n// example usage: .listener(new LoggingListener<String, GlideDrawable>()) \npublic class LoggingListener<T, R> implements RequestListener<T, R> {\n    @Override public boolean onException(Exception e, Object model, Target target, boolean isFirstResource) {\n        android.util.Log.d(\"GLIDE\", String.format(Locale.ROOT,\n                \"onException(%s, %s, %s, %s)\", e, model, target, isFirstResource), e);\n        return false; \n    } \n    @Override public boolean onResourceReady(Object resource, Object model, Target target, boolean isFromMemoryCache, boolean isFirstResource) {\n        android.util.Log.d(\"GLIDE\", String.format(Locale.ROOT,\n                \"onResourceReady(%s, %s, %s, %s, %s)\", resource, model, target, isFromMemoryCache, isFirstResource));\n        return false; \n    } \n} \n```\n**ç¡®ä¿å‘ç‰ˆå‰ç§»é™¤ç›¸å…³ä»£ç **\n\n### æ›´å¤šæ—¥å¿—\nè¿™ä¸ªåˆ—è¡¨æ˜¯ç»™3.6.0ç‰ˆæœ¬ç”¨çš„ï¼Œå¯èƒ½ä¸å®Œæ•´ã€‚\n\n```xml\ncd .../android-sdk/platform-tools\nadb shell setprop log.tag.AnimatedGifEncoder VERBOSE\nadb shell setprop log.tag.AssetUriFetcher VERBOSE\nadb shell setprop log.tag.BitmapEncoder VERBOSE\nadb shell setprop log.tag.BufferedIs VERBOSE\nadb shell setprop log.tag.ByteArrayPool VERBOSE\nadb shell setprop log.tag.CacheLoader VERBOSE\nadb shell setprop log.tag.ContentLengthStream VERBOSE\nadb shell setprop log.tag.DecodeJob VERBOSE\nadb shell setprop log.tag.DiskLruCacheWrapper VERBOSE\nadb shell setprop log.tag.Downsampler VERBOSE\nadb shell setprop log.tag.Engine VERBOSE\nadb shell setprop log.tag.EngineRunnable VERBOSE\nadb shell setprop log.tag.GenericRequest VERBOSE\nadb shell setprop log.tag.GifDecoder VERBOSE\nadb shell setprop log.tag.GifEncoder VERBOSE\nadb shell setprop log.tag.GifHeaderParser VERBOSE\nadb shell setprop log.tag.GifResourceDecoder VERBOSE\nadb shell setprop log.tag.Glide VERBOSE\nadb shell setprop log.tag.ImageHeaderParser VERBOSE\nadb shell setprop log.tag.ImageVideoDecoder VERBOSE\nadb shell setprop log.tag.IVML VERBOSE\nadb shell setprop log.tag.LocalUriFetcher VERBOSE\nadb shell setprop log.tag.LruBitmapPool VERBOSE\nadb shell setprop log.tag.MediaStoreThumbFetcher VERBOSE\nadb shell setprop log.tag.MemorySizeCalculator VERBOSE\nadb shell setprop log.tag.PreFillRunner VERBOSE\nadb shell setprop log.tag.ResourceLoader VERBOSE\nadb shell setprop log.tag.RMRetriever VERBOSE\nadb shell setprop log.tag.StreamEncoder VERBOSE\nadb shell setprop log.tag.TransformationUtils VERBOSE\n```\n\n---------\n\n## ä½¿ç”¨Glideä¸‹è½½è‡ªå®šä¹‰å¤§å°çš„å›¾ç‰‡\nå¼€å‘è€…å¯ä»¥é€šè¿‡Glideçš„ModelLoaderæ¥å£è·å¾—å›¾ç‰‡å¤§å°ï¼Œå¹¶æ ¹æ®è¿™ä¸ªå¤§å°æ¥åŠ è½½ä¸€ä¸ªåˆé€‚å°ºå¯¸çš„å›¾ç‰‡urlã€‚\nä½¿ç”¨åˆé€‚å°ºå¯¸çš„å›¾ç‰‡å¯ä»¥èŠ‚çº¦å¸¦å®½ï¼Œè®¾å¤‡çš„å­˜å‚¨ç©ºé—´ï¼Œè¿˜å¯ä»¥æå‡appæ€§èƒ½ã€‚\n2014å¹´çš„Google I/O appå›¢é˜Ÿå†™äº†ä¸€ç¯‡å…³äºå¦‚ä½•ä½¿ç”¨ModelLoaderæ¥å£è°ƒæ•´åŠ è½½çš„å›¾ç‰‡å¤§å°çš„æ–‡ç« ã€‚è¯·åœ¨GitHubä¸ŠæŸ¥çœ‹ [I/O appçš„æºç ](https://github.com/google/iosched/blob/master/doc/IMAGES.md)ã€‚\nä¸ºäº†å®ç°è‡ªå®šä¹‰çš„ModelLoaderæ¥é€šè¿‡http/httpsä¸‹è½½å›¾ç‰‡ï¼Œå¯ä»¥ç»§æ‰¿BaseGlideUrlLoaderè¿™ä¸ªç±»\n\n```java\npublic interface MyDataModel { \n    public String buildUrl(int width, int height);\n}  \n \npublic class MyUrlLoader extends BaseGlideUrlLoader<MyDataModel> { \n    @Override \n    protected String getUrl(MyDataModel model, int width, int height) {\n        // Construct the url for the correct size here. \n        return model.buildUrl(width, height);\n    } \n} \n```\n\nç„¶åï¼Œä½ å°±å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ModelLoaderæ¥åŠ è½½å›¾ç‰‡äº†ï¼Œå…¶ä»–çš„äº‹æƒ…ä¼šè‡ªåŠ¨å®Œæˆï¼š\n\n```java\nGlide.with(yourFragment)\n    .using(new MyUrlLoader())\n    .load(yourModel)\n    .into(yourView);\n```\n\nå¦‚æœä½ æƒ³é¿å…è°ƒç”¨`.using(new  MyUrlLoader())`ï¼Œä½ å¯ä»¥å®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„`ModelLoaderFactory`ï¼Œå¹¶åœ¨`GlideModule`ä¸­æ³¨å†Œå®ƒã€‚\n\n```java\npublic class MyGlideModule implements GlideModule { \n    ... \n    @Override \n    public void registerComponents(Context context, Glide glide) {\n        glide.register(MyDataModel.class, InputStream.class, \n            new MyUrlLoader.Factory()); \n    } \n} \n```\n\næ³¨å†ŒModelLoaderFactoryä¹‹åï¼Œä½ å°±ä¸ç”¨è°ƒç”¨`.using()`äº†ï¼š\n\n```java\nGlide.with(yourFragment)\n    .load(yourModel)\n    .into(yourView);\n```\n\nå…¶ä»–çš„ä¾‹å­ï¼Œå…³äºå¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰ModelLoaderåŠ è½½å„ç§å°ºå¯¸çš„å›¾ç‰‡ï¼Œè¯·æŸ¥çœ‹[Flickerç¤ºä¾‹åº”ç”¨](https://github.com/bumptech/glide/blob/master/samples/flickr/src/main/java/com/bumptech/glide/samples/flickr/FlickrModelLoader.java)ï¼Œå’Œ[Giphyç¤ºä¾‹åº”ç”¨](https://github.com/bumptech/glide/blob/master/samples/giphy/src/main/java/com/bumptech/glide/samples/giphy/GiphyModelLoader.java)ã€‚\n\n---------\n\n## é›†æˆï¼ˆIntegrationï¼‰åº“-Glideä¸å…¶ä»–åº“æ•´åˆ\n\n### ä»‹ç»\n\n####ä»€ä¹ˆæ˜¯é›†æˆåº“ï¼ˆIntegration Libraryï¼‰\nGlideåŒ…æ‹¬ä¸€ç³»åˆ—å°å·§å¯é…ç½®çš„é›†æˆåº“ï¼Œè¿™äº›åº“å¯ä»¥è®©Glideä¸å¤–éƒ¨çš„åº“ç›¸ç»“åˆã€‚ç°åœ¨é›†æˆåº“å¯ä»¥ä½¿Glideæ”¯æŒVolleyå’ŒOkHttpçš„http/httpsè¯·æ±‚ã€‚\n\næˆ‘ä»¬åšä¿¡ï¼Œæ‚¨æ‰€é€‰æ‹©çš„å®¢æˆ·ç«¯åª’ä½“åº“æ—¢ä¸åº”è¯¥å†³å®šä½ åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„ç½‘ç»œåº“ï¼Œä¹Ÿä¸éœ€è¦ä½ ä»…ä»…ä¸ºäº†åŠ è½½å›¾åƒé¢å¤–æ·»åŠ ç½‘ç»œåº“ã€‚é›†æˆåº“å’ŒGlideçš„ModelLoaderç³»ç»Ÿï¼Œå…è®¸å¼€å‘äººå‘˜å¯¹æ‰€æœ‰ç½‘ç»œè¯·æ±‚ä½¿ç”¨ç»Ÿä¸€çš„ç½‘ç»œåº“ã€‚\n\n#### ä¸ºä»€ä¹ˆæ²¡æœ‰XXXåº“çš„å®ç°\nå› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰ä¸ºè¿™ä¸ªåº“å†™é›†æˆåº“ã€‚OkHttpå’ŒVolleyæ˜¯ååˆ†æµè¡Œçš„åº“ï¼Œè®¸å¤šå¼€å‘è€…éƒ½ä½¿ç”¨ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸æ˜¯æ’æ–¥å…¶ä»–åº“ï¼Œå¦‚æœä½ å†™äº†å…¶ä»–åº“çš„`ModelLoader`å¹¶ä¸”æ‰“ç®—å¼€æºï¼Œæˆ‘ä»¬å¾ˆä¹æ„çœ‹åˆ°è¿™æ ·çš„æäº¤è¯·æ±‚ï¼ˆpull requestï¼‰ã€‚\n\n#### æˆ‘å¦‚ä½•ä¾èµ–ä¸€ä¸ªé›†æˆåº“å‘¢ï¼Ÿ\nä¾èµ–ä»»ä½•çš„é›†æˆåº“éœ€è¦ä¸¤gä¸ªæ­¥éª¤ã€‚\n\n1. æ·»åŠ ç›¸åº”çš„ç»§æ‰¿åº“çš„Maven/Gradle/jarä¾èµ–ï¼Œå› ä¸ºä½œä¸ºå¯é€‰é¡¹çš„é›†æˆåº“å¹¶ä¸åŒ…å«åœ¨glideçš„jarä¾èµ–ä¸­ã€‚\n2. ç¡®ä¿appåŒ…å«äº†é›†æˆåº“çš„GlideModuleï¼Œå…·ä½“å†…å®¹çœ‹[é…ç½®wiki](https://github.com/bumptech/glide/wiki/Configuration)éƒ¨åˆ†ã€‚å¯¹äºGlideé›†æˆåº“çš„å…·ä½“è¯´æ˜è§ä¸‹é¢ã€‚\n\n#### æˆ‘åº”å½“é€‰æ‹©å“ªä¸ªç‰ˆæœ¬ï¼Ÿ\né›†æˆåº“çš„ç‰ˆæœ¬è·Ÿéšç€Glideçš„releaseç‰ˆæœ¬ã€‚ä½†æ˜¯å¤šäº†ä¸€ä¸ªä¸åŒçš„æ•°å­—ã€‚ç¡®ä¿é€‰æ‹©ä¸æ‰€ä¾èµ–çš„Glideå¯¹åº”çš„é›†æˆåº“ã€‚åœ¨[releaseé¡µ](https://github.com/bumptech/glide/releases)æŸ¥çœ‹.\nç½‘ç»œåº“æœ‰è‡ªå·±çš„ç‰ˆæœ¬å·ã€‚ç»§æ‰¿åº“ä¼šä¾èµ–çš„åº“å°±æ˜¯ä½ åœ¨Maven/Gradleä¸­æŒ‡å®šçš„åº“ã€‚ä½ å¯ä»¥é€šè¿‡ç‰ˆæœ¬å·æ¥æŒ‡å®šå…·ä½“ä¾èµ–çš„ç½‘ç»œåº“ã€‚ï¼Ÿï¼Ÿ\n\n### Volley\nVolleyæ˜¯ä¸€ä¸ªHttpåº“ï¼Œå¯ä»¥ä½¿Androidä¸Šçš„ç½‘ç»œè¯·æ±‚æ›´ç®€å•ï¼Œæ›´å¿«é€Ÿã€‚\n\n#### Gradleä¸­ä½¿ç”¨Volley\n\n```java\ndependencies {\n    compile 'com.github.bumptech.glide:volley-integration:1.3.1@aar'\n    //compile 'com.mcxiaoke.volley:library:1.0.8'\n}\n```\né›†æˆåº“çš„`GlideModule`ä¼šè‡ªåŠ¨åˆå¹¶åˆ°ä½ appçš„manifestä¸­ã€‚\n\n#### Mavenä¸­æ˜¯Volley\n\n```xml\n<dependency>\n    <groupId>com.github.bumptech.glide</groupId>\n    <artifactId>volley-integration</artifactId>\n    <version>1.3.1</version>\n    <type>aar</type>\n</dependency>\n<dependency>\n    <groupId>com.mcxiaoke.volley</groupId>\n    <artifactId>library</artifactId>\n    <version>1.0.8</version>\n    <type>aar</type>\n</dependency>\n\n```\nè¯·æŸ¥çœ‹å¯¹åº”çš„manifestç« èŠ‚ï¼Œäº†è§£å¦‚ä½•æ·»åŠ å¯¹åº”çš„GlideModuleã€‚\n\n#### æ‰‹åŠ¨æ·»åŠ Volley\nä»[releaseé¡µ](https://github.com/bumptech/glide/releases)ä¸‹è½½[glide-volley-integration-<version>.jar ](https://github.com/bumptech/glide/releases/download/v3.6.1/glide-volley-integration-1.3.1.jar)ã€‚å¹¶æ·»åŠ åˆ°ä½ appçš„ç¼–è¯‘è·¯å¾„ä¸­(compile classpath)ã€‚\n\nè¯·æŸ¥çœ‹å¯¹åº”çš„manifestç« èŠ‚ï¼Œäº†è§£å¦‚ä½•æ·»åŠ å¯¹åº”çš„GlideModuleã€‚\n\n#### Volleyçš„Manifest\nå¦‚æœä½ ä½¿ç”¨é‚£äº›ä¸æ”¯æŒmanifeståˆå¹¶çš„ç¼–è¯‘ç³»ç»Ÿï¼ˆå¦‚Mavenï¼ŒAntï¼‰ï¼Œä½ å¿…é¡»æ‰‹åŠ¨æ·»åŠ `GlideModule`çš„metadataæ ‡ç­¾åˆ°`AndroidManifest.xml`ä¸­ã€‚\n\n```xml\n<meta-data\n    android:name=\"com.bumptech.glide.integration.volley.VolleyGlideModule\"\n    android:value=\"GlideModule\" />\n```\n\n#### Volleyçš„æ··æ·†è®¾ç½®\næ— è®ºä½¿ç”¨ä»€ä¹ˆç¼–è¯‘ç³»ç»Ÿï¼Œä¸è¦æ··æ·†`VolleyGlideModule`ç±»ï¼Œå®ƒéœ€è¦è¢«åå°„æ¥å®ä¾‹åŒ–ã€‚æ·»åŠ ä¸‹é¢çš„ä»£ç åˆ°`proguard.cfg`æ–‡ä»¶ï¼ˆæˆ–è€…æŸ¥çœ‹â€œé€šç”¨éƒ¨åˆ†â€ï¼‰ã€‚\n\n```java\n-keep class com.bumptech.glide.integration.volley.VolleyGlideModule\n```\n\n### OkHttp\nOKHttpæ˜¯ä¸€ä¸ªé«˜æ•ˆä¸”æ˜“äºä½¿ç”¨çš„Httpå®¢æˆ·ç«¯ã€‚\n\n#### Gradleä¸­ä½¿ç”¨OkHttp\n\n```java\ndependencies {\n    compile 'com.github.bumptech.glide:okhttp-integration:1.3.1@aar'\n    //compile 'com.squareup.okhttp:okhttp:2.2.0'\n}\n```\né›†æˆåº“çš„`GlideModule`ä¼šè‡ªåŠ¨åˆå¹¶åˆ°ä½ appçš„manifestä¸­ã€‚\n\n#### Mavenä¸­æ˜¯OkHttp\n\n```xml\n<dependency>\n    <groupId>com.github.bumptech.glide</groupId>\n    <artifactId>okhttp-integration</artifactId>\n    <version>1.3.1</version>\n    <type>aar</type>\n</dependency>\n<!--\n<dependency>\n    <groupId>com.squareup.okhttp</groupId>\n    <artifactId>okhttp</artifactId>\n    <version>2.2.0</version>\n    <type>jar</type>\n</dependency>\n-->\n\n```\nè¯·æŸ¥çœ‹å¯¹åº”çš„manifestç« èŠ‚ï¼Œäº†è§£å¦‚ä½•æ·»åŠ å¯¹åº”çš„GlideModuleã€‚\n\n#### æ‰‹åŠ¨æ·»åŠ OkHttp\nä»[releaseé¡µ](https://github.com/bumptech/glide/releases)ä¸‹è½½[glide-okhttp-integration-<version>.jar ](https://github.com/bumptech/glide/releases/download/v3.6.1/glide-okhttp-integration-1.3.1.jar)ã€‚å¹¶æ·»åŠ åˆ°ä½ appçš„ç¼–è¯‘è·¯å¾„ä¸­(compile classpath)ã€‚\n\nè¯·æŸ¥çœ‹å¯¹åº”çš„manifestç« èŠ‚ï¼Œäº†è§£å¦‚ä½•æ·»åŠ å¯¹åº”çš„GlideModuleã€‚\n\n#### OkHttpçš„Manifest\nå¦‚æœä½ ä½¿ç”¨é‚£äº›ä¸æ”¯æŒmanifeståˆå¹¶çš„ç¼–è¯‘ç³»ç»Ÿï¼ˆå¦‚Mavenï¼ŒAntï¼‰ï¼Œä½ å¿…é¡»æ‰‹åŠ¨æ·»åŠ `GlideModule`çš„metadataæ ‡ç­¾åˆ°`AndroidManifest.xml`ä¸­ã€‚\n\n```xml\n<meta-data\n    android:name=\"com.bumptech.glide.integration.okhttp.OkHttpGlideModule\"\n    android:value=\"GlideModule\" />\n```\n\n#### OkHttpçš„æ··æ·†è®¾ç½®\næ— è®ºä½¿ç”¨ä»€ä¹ˆç¼–è¯‘ç³»ç»Ÿï¼Œä¸è¦æ··æ·†`OkHttpGlideModule`ç±»ï¼Œå®ƒéœ€è¦è¢«åå°„æ¥å®ä¾‹åŒ–ã€‚æ·»åŠ ä¸‹é¢çš„ä»£ç åˆ°`proguard.cfg`æ–‡ä»¶ï¼ˆæˆ–è€…æŸ¥çœ‹â€œé€šç”¨éƒ¨åˆ†â€ï¼‰ã€‚\n\n```java\n-keep class com.bumptech.glide.integration.okhttp.OkHttpGlideModule\n```\n\n### æ›´å¤šé€‰é¡¹\n\n#### é€šç”¨çš„æ··æ·†é…ç½®\nä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„é…ç½®æ¥é¿å…æ··æ·†æ‰€æœ‰çš„`GlideModule`ã€‚\n\n```java\n-keep public class * implements com.bumptech.glide.module.GlideModule\n```\nè¿™ç§æ–¹å¼æœ‰å…¶ä»–çš„å¥½å¤„ï¼Œå½“ä¿®æ”¹é›†æˆåº“æˆ–è€…è‡ªå®šä¹‰é›†æˆåº“çš„è¡Œä¸ºæ—¶ï¼Œä¸éœ€è¦ä¿®æ”¹ã€‚å½“ä½ æ·»åŠ æˆ–è€…ç§»åŠ¨å…¶ä»–moduleçš„æ—¶å€™ï¼Œä¹Ÿä¸éœ€è¦ä¿®æ”¹ä»€ä¹ˆã€‚\n\n#### è¦†ç›–é»˜è®¤çš„è¡Œä¸º\nå¦‚æœé»˜è®¤é…ç½®æ— æ³•æ»¡è¶³ä½ ï¼Œæ‰€æœ‰çš„é›†æˆåº“è¿˜æœ‰ä¸€äº›é¢å¤–çš„é€‰é¡¹ã€‚æ¯”å¦‚æ·»åŠ é‡è¯•è¡Œä¸ºï¼Œè¯·æŸ¥çœ‹é›†æˆåº“çš„`GlideModule`çš„æºç ï¼ˆä½äº[/integration/<lib>/src/main/java/<package>](https://github.com/bumptech/glide/tree/3.0/integration)ï¼‰äº†è§£é»˜è®¤çš„æ³¨å†Œåšäº†äº›ä»€ä¹ˆã€‚ä½ å¯ä»¥é€šè¿‡åœ¨è‡ªå®šä¹‰çš„`GlideModule`ä¸­ä¿®æ”¹å‚æ•°ä¸º`UrlLoader.Factory`ç±»æ¥æ”¹å˜é»˜è®¤è¡Œä¸ºã€‚\nå½“ä½ è¦è¦†ç›–é»˜è®¤è¡Œä¸ºæ—¶ï¼Œè¯·ç¡®ä¿è‡ªå®šä¹‰çš„`GlideModule`è¢«æ³¨å†Œï¼Œä¸”é»˜è®¤çš„GlideModuleè¢«æ’é™¤åœ¨å¤–ã€‚æ’é™¤GlideModuleå¯èƒ½æ˜¯ä»manifestä¸­ç§»é™¤ç›¸åº”çš„çš„metadataï¼Œæˆ–è€…ä½¿ç”¨jaråŒ…ä¾èµ–ä»£æ›¿aarä¾èµ–ã€‚å…³äº`GlideModule`çš„æ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹[é…ç½®çš„wikié¡µ](https://github.com/bumptech/glide/wiki/Configuration)\\\n\n---------\n\n## åœ¨åå°çº¿ç¨‹ä¸­åŠ è½½å’Œç¼“å­˜\nä¸ºäº†ä½¿åå°åŠ è½½èµ„æºå’Œä¸åª’ä½“äº¤äº’æ›´åŠ å®¹æ˜“ï¼Œé™¤äº†`Glide.with(fragment).load(url).into(view)`è¿™ä¸ªAPIå¤–ï¼ŒGlideè¿˜æä¾›äº†é¢å¤–ä¸¤ä¸ªAPIã€‚\n\n* `downloadOnly(int, int)`\n* `into(int, int)`\n\n### downloadOnlyæ–¹æ³•\nGlideçš„`downloadOnly(int, int)`æ–¹æ³•å…è®¸ä½ æŠŠå›¾ç‰‡bytesä¸‹è½½åˆ°ç£ç›˜ç¼“å­˜ä¸­ï¼Œä»¥ä¾¿ä»¥åè·å–ä½¿ç”¨ã€‚ä½ å¯ä»¥åœ¨UIçº¿ç¨‹å¼‚æ­¥åœ°è°ƒç”¨`downloadOnly()`ï¼Œä¹Ÿå¯ä»¥åœ¨åå°çº¿ç¨‹åŒæ­¥çš„ä½¿ç”¨ã€‚ä½†æ˜¯ï¼Œæ³¨æ„ä»–ä»¬çš„å‚æ•°æœ‰äº›ä¸åŒï¼Œå¼‚æ­¥APIçš„å‚æ•°æ˜¯`Target`ï¼ŒåŒæ­¥apiçš„å‚æ•°æ˜¯å®½å’Œé«˜çš„æ•´æ•°å€¼ã€‚\t\nä¸ºäº†åœ¨åå°çº¿ç¨‹ä¸‹è½½å›¾ç‰‡ï¼Œä½ å¿…é¡»ä½¿ç”¨åŒæ­¥æ–¹æ³•\n\n```java\nFutureTarget<File> future = Glide.with(applicationContext)\n    .load(yourUrl)\n    .downloadOnly(500, 500);\nFile cacheFile = future.get();\n```\nå½“futureè¿”å›æ—¶ï¼Œå›¾ç‰‡çš„bytesæ•°æ®å°±åœ¨ç¼“å­˜ä¸­å¯ç”¨äº†ã€‚ä¸€ç§å…¸å‹çš„æƒ…å†µæ˜¯ï¼Œä½ ä½¿ç”¨`downloadOnly()`APIåªæ˜¯ä¸ºäº†ç¡®ä¿æ•°æ®ä¸‹è½½åˆ°äº†ç£ç›˜ä¸Šã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè™½ç„¶ä½ æœ‰æƒè®¿é—®åº•å±‚çš„ç¼“å­˜æ–‡ä»¶ï¼Œä½†æ˜¯ä½ ä¸éœ€è¦ç›´æ¥å’Œå®ƒäº¤äº’ã€‚\nè€Œæ˜¯ï¼Œå½“ä½ æƒ³è¦è·å–è¿™ä¸ªå›¾ç‰‡æ—¶ï¼Œä½ åªè¦åƒå¹³å¸¸åŠ è½½å›¾ç‰‡æ—¶é‚£æ ·è°ƒç”¨å°±è¡Œï¼Œ**åªæœ‰ä¸€ç‚¹ä¸åŒ**ï¼š\n\n```java\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .diskCacheStrategy(DiskCacheStrategy.ALL)\n    .into(yourView);\n```\né€šè¿‡ä¼ å…¥ `DiskCacheStrategy.ALL`æˆ–è€…`DiskCacheStrategy.SOURCE`ï¼Œç¡®ä¿Glideå¯ä»¥ä½¿ç”¨ä½ é€šè¿‡`downloadOnly()`ä¸‹è½½çš„æ•°æ®ã€‚\n\n### intoæ–¹æ³•\nå¦‚æœä½ æƒ³åœ¨ä¸€ä¸ª**åå°çº¿ç¨‹**ä¸ä¸€å¼ å·²ç»è§£ç çš„å›¾ç‰‡äº¤äº’ã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬çš„`into()`æ–¹æ³•æ¥è¿”å›ä¸€ä¸ª`FutureTarget`ã€‚ä¾‹å¦‚ï¼Œè·å–ä¸€å¼ ä¸­å¿ƒå‰ªè£åçš„500*500åƒç´ çš„å›¾ç‰‡ï¼š\n\n```java\nBitmap myBitmap = Glide.with(applicationContext)\n    .load(yourUrl)\n    .asBitmap()\n    .centerCrop()\n    .into(500, 500)\n    .get()\n```\nè™½ç„¶`into(int, int)`æ–¹æ³•åœ¨åå°çº¿ç¨‹ä¸­å¾ˆæœ‰æ•ˆï¼Œä½†æ˜¯ï¼Œä½ ä¸èƒ½æŠŠå®ƒç”¨åœ¨ä¸»çº¿ç¨‹ä¸­ã€‚å³ä½¿è¿™ä¸ªåŒæ­¥æ–¹æ³•åœ¨ä½ çš„ä¸»çº¿ç¨‹ä¸­ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè°ƒç”¨get()ä¹Ÿä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚ä¼šä½¿ä½ çš„APPæ€§èƒ½å˜å·®ï¼Œååº”è¿Ÿé’ã€‚\n\n---------\n\n## Glideä¸­çš„èµ„æºå¤ç”¨\n\n### ä¸ºä»€ä¹ˆ - èµ„æºå¤ç”¨çš„ä½œç”¨\nGlideé€šè¿‡å¤ç”¨èµ„æºé¿å…ä¸å¿…è¦çš„å†…å­˜åˆ†é…ã€‚Dalvikè™šæ‹Ÿæœºï¼ˆåœ¨Lollipopä¹‹å‰ï¼‰æœ‰ä¸¤ç§åŸºæœ¬çš„åƒåœ¾å›æ”¶æ–¹å¼ï¼Œ`GC_CONCURRENT` å’Œ`GC_FOR_ALLOC`ã€‚æ¯æ¬¡`GC_CONCURRENT`ä¼šé˜»å¡ä¸»çº¿ç¨‹5msã€‚ç”±äºæ¯æ¬¡æ“ä½œçš„æ—¶é—´å°‘äº16msï¼ˆ1å¸§çš„æ—¶é—´ï¼‰ï¼Œ`GC_CONCURRENT`å¹¶ä¸ä¼šå¼•èµ·æ‰å¸§ã€‚ç›¸åçš„æ˜¯`GC_FOR_ALLOC`ï¼Œä»–ä¼šåœæ­¢æ‰€æœ‰æ“ä½œï¼Œé˜»å¡ä¸»çº¿ç¨‹125+msï¼Œäº‹å®ä¸Šï¼ŒGC_FOR_ALLOCæ€»æ˜¯ä¼šè®©ä½ çš„appæ‰å¾ˆå¤šå¸§ã€‚å°¤å…¶æ˜¯åœ¨æ»‘åŠ¨æ—¶ï¼Œå¯¼è‡´æ˜æ˜¾çš„å¡é¡¿ã€‚\nå¾ˆä¸å¹¸ï¼Œå³ä½¿åªæ˜¯åˆ†é…é€‚å½“çš„ç©ºé—´ï¼ˆæ¯”å¦‚16kbçš„bufferï¼‰Dalvikè¡¨ç°çš„ä¹Ÿå¾ˆç³Ÿç³•ã€‚ä¸æ–­çš„å°å†…å­˜åˆ†é…ï¼Œæˆ–è€…ä¸€æ¬¡å¤§çš„å†…å­˜åˆ†é…ï¼ˆæ¯”å¦‚è¯´bitmapï¼‰ï¼Œå°†ä¼šå¼•èµ·GC_FOR_ALLOCã€‚å› æ­¤ï¼Œä½ åˆ†é…å†…å­˜çš„è¶Šå¤šï¼Œä½ ä¼šé‡åˆ°åƒåœ¾å›æ”¶å™¨é˜»å¡åº”ç”¨çš„æƒ…å†µå°±è¶Šå¤šï¼Œåº”ç”¨æ‰å¸§å°±è¶Šä¸¥é‡ã€‚\né€šè¿‡é€‚åº¦å¤ç”¨å¤§å—èµ„æºï¼ŒGlideå¯ä»¥é¿å…å†…å­˜æŠ–åŠ¨ï¼Œå‡å°‘åƒåœ¾å›æ”¶å™¨é˜»å¡appçš„æ¬¡æ•°ã€‚\n\n### æ€ä¹ˆåš - Glideæ˜¯å¦‚ä½•å¤ç”¨èµ„æº\nGlideçš„èµ„æºå¤ç”¨ç­–ç•¥æ¯”è¾ƒå®½æ¾ã€‚è¿™æ„å‘³ç€ï¼Œå½“Glideè®¤ä¸ºè¯¥èµ„æºå¯ä»¥è¢«å®‰å…¨çš„å¤ç”¨æ—¶ï¼Œæ‰æœ‰å‡ ç‡å»å¤ç”¨å®ƒï¼Œå¹¶ä¸éœ€è¦å¼€å‘è€…åœ¨æ¯ä¸ªrequeståé¢å»æ‰‹åŠ¨é‡Šæ”¾èµ„æºã€‚\n\n#### æ ‡å¿—-å“ªäº›èµ„æºå¯å¤ç”¨\nGlideæœ‰ä¸¤ä¸ªç®€å•çš„æ ‡å¿—æ¥è¯†åˆ«å¯å¤ç”¨çš„èµ„æºã€‚\n\n1. `Glide.clear()` \n\n\tåœ¨`View`æˆ–è€…`Target`ä¸Šè°ƒç”¨`clear()`æ–¹æ³•éƒ½è¡¨ç¤ºï¼ŒGlideè¦å–æ¶ˆåŠ è½½ï¼Œå¯ä»¥å®‰å…¨åœ°æŠŠTargetå ç”¨çš„æ‰€æœ‰èµ„æºï¼ˆBitmapï¼Œbytesæ•°ç»„ç­‰ï¼‰æ”¾å…¥èµ„æºæ± ä¸­ï¼ˆpoolï¼‰ã€‚ç”¨æˆ·å¯ä»¥åœ¨ä»»ä½•æ—¶å€™å®‰å…¨åœ°æ‰‹åŠ¨è°ƒç”¨`clear()`æ–¹æ³•ï¼Œä½†æ˜¯å…¸å‹æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿™æ ·åšï¼Œçœ‹ç¬¬äºŒæ¡ã€‚\n\n2. Viewæˆ–è€…Targetçš„å¤ç”¨ \n\n\tå½“ç”¨æˆ·æŠŠå›¾ç‰‡åŠ è½½åˆ°ä¸€ä¸ªå·²ç»å­˜åœ¨çš„Viewæˆ–è€…Targetä¸Šæ—¶ï¼ˆæ³¨ï¼šç¡®åˆ‡çš„è¯´æ˜¯è°ƒç”¨`into(xxx)`æ–¹æ³•ä¹‹åï¼‰ï¼ŒGlideä¼šå…ˆè°ƒç”¨`clear()`æ¸…ç©ºè¯¥View/Targetä¸Šçš„åŠ è½½è¯·æ±‚å¹¶å¤ç”¨å·²ç»æ˜¾ç¤ºè¿‡çš„èµ„æºã€‚å› æ­¤ï¼Œå¦‚æœä½ çš„ListViewæˆ–è€…RecyclerViewä¸­çš„viewä½¿ç”¨äº†å¤ç”¨æœºåˆ¶ï¼ˆæ³¨ï¼šå¦‚ViewHolderï¼‰ï¼Œé‚£ä¹ˆGlideä¼šè‡ªåŠ¨ä¸ºä»–ä»¬ç¼“å­˜èµ„æºå’Œç®¡ç†åŠ è½½è¯·æ±‚ã€‚\n \n#### å¼•ç”¨è®¡æ•°\nå¦‚æœä¸¤ä¸ªè¯·æ±‚æŒ‡å‘åŒä¸€ä¸ªèµ„æºï¼Œä¸ºäº†é¿å…é¢å¤–çš„å·¥ä½œï¼ŒGlideä¼šæŠŠå•ä¸ªèµ„æºåˆ†é…ç»™ä»–ä»¬ã€‚è¿™å°±å¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼Œå½“Glideå¾—çŸ¥æŸä¸ªèµ„æºä¸è¢«æŸä¸ªè°ƒç”¨è€…ä½¿ç”¨ï¼Œè¿™å¹¶ä¸è¡¨ç¤ºå®ƒä¸ä¼šè¢«å…¶ä»–è°ƒç”¨è€…ä½¿ç”¨ã€‚ä¸ºäº†é¿å…å›æ”¶è°ƒä¾æ—§è¢«ä½¿ç”¨çš„èµ„æºï¼ŒGlideä½¿ç”¨å¼•ç”¨è®¡æ•°æ¥è·Ÿè¸ªèµ„æºã€‚\nå½“æŠŠèµ„æºæä¾›ç»™View/Targetæ—¶ï¼Œè¯¥èµ„æºçš„å¼•ç”¨è®¡æ•°åŠ 1ï¼Œå½“æ¸…ç©ºView/Targetæ—¶ï¼Œå¼•ç”¨è®¡æ•°å‡1ã€‚å½“å¼•ç”¨è®¡æ•°ä¸º0æ—¶ï¼ŒGlideä¼šå›æ”¶èµ„æºï¼Œå¹¶æŠŠå®ƒçš„å†…å®¹æ”¾å›å¯ç”¨å†…å­˜æ± ä¸­ã€‚\n\n#### æ”¾å…¥ç¼“å­˜æ± \nGlideçš„Resource APIæœ‰ä¸€ä¸ª`recycle()`æ–¹æ³•ï¼Œå½“Glideè®¤ä¸ºèµ„æºä¸å†è¢«å¼•ç”¨æ—¶ï¼Œä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œèµ„æºä¼šæ”¾å…¥ç¼“å­˜æ± ä¸­ã€‚\n\nGlideæä¾›çš„BitmapPoolæ¥å£å¯ä»¥è®©Resourceè·å–`Bitmap`å’Œå¤ç”¨Bitmapå¯¹è±¡ã€‚Glideçš„BitmapPoolå¯ä»¥é€šè¿‡Glideå•ä¾‹è·å¾—ï¼š\n\n```java\nGlide.get(context).getBitmapPool();\n```\nResourceDecoderå¯ä»¥è¿”å›Resourceçš„ä»»ä½•å®ç°ã€‚æ‰€æœ‰ï¼Œå¼€å‘è€…å¯ä»¥å®ç°ä»–ä»¬è‡ªå·±çš„Resourceå’ŒResourceDecoderæ¥è‡ªå®šä¹‰åœ°ç¼“å­˜ä¸€äº›ç‰¹æœ‰ç±»å‹çš„æ•°æ®ã€‚\nåŒæ ·åœ°ï¼Œå¼€å‘è€…å¦‚æœæƒ³æ›´å¤šåœ°æ§åˆ¶Bitmapç¼“å­˜ï¼Œå¯ä»¥å®ç°è‡ªå·±çš„BitmapPoolï¼Œç„¶åé€šè¿‡GlideModuleé…ç½®åˆ°Glideä¸­ã€‚\n\n### å¸¸è§çš„é”™è¯¯\nä¸å¹¸çš„æ˜¯ï¼Œç¼“å­˜æ± è®¾è®¡ä½¿æˆ‘ä»¬å¾ˆéš¾åˆ¤æ–­å¼€å‘è€…æ˜¯å¦è¯¯ç”¨äº†èµ„æºæˆ–è€…bitmapã€‚ä½†æ˜¯ï¼Œåœ¨Glideä¸­æœ‰ä¸¤ä¸ªä¸»è¦çš„ç°è±¡ä¼šæš—ç¤ºä½ æŸäº›åœ°æ–¹å¯èƒ½å‡ºäº†é—®é¢˜ã€‚\n\n#### ç°è±¡\n\n1. `Cannot draw a recycled Bitmap`\n\n\tGlideæœ‰ä¸ªå›ºå®šå¤§å°çš„Bitmapæ± ã€‚å½“Bitmapä¸å†è¢«å¤ç”¨ï¼ˆæ³¨ï¼šä¸æ˜¯ä½¿ç”¨ï¼ŒåŒºåˆ†ä½¿ç”¨å’Œå¤ç”¨ï¼‰ï¼Œä¼šä»æ± ä¸­ç§»èµ°ã€‚Glideä¼šè°ƒç”¨[`recycle()`](http://developer.android.com/reference/android/graphics/Bitmap.html#recycle())ï¼ˆæ³¨ï¼šæŒ‡çš„æ˜¯BitmapçœŸæ­£çš„recycleï¼Œä¸æ˜¯Resourceç±»çš„recycleï¼‰ã€‚ä½ å‘Šè¯‰Glideæ”¾å¿ƒåœ°å›æ”¶æŸä¸ªBitmapï¼Œä½†æ˜¯ï¼Œä½ çš„åº”ç”¨ä¸å°å¿ƒè¿˜æŒæœ‰è¿™ä¸ªBitmapçš„å¼•ç”¨ï¼Œåº”ç”¨ç¨‹åºå¯èƒ½ä¼šç»˜åˆ¶è¿™ä¸ªBitmapï¼Œå¯¼è‡´å´©æºƒã€‚\n\n2. Viewåœ¨å¤šå¼ å›¾ç‰‡ä¹‹é—´é—ªçƒï¼Œæˆ–è€…åŒæ ·çš„å›¾ç‰‡å‡ºç°åœ¨å¤šä¸ªViewä¸­\n\n\tå¦‚æœä¸€å¼ å›¾ç‰‡è¢«æ”¾å…¥BitmapPoolä¸­å¤šæ¬¡ã€‚æˆ–è€…è™½ç„¶ä¸€å¼ å›¾ç‰‡è¢«æ”¾å…¥äº†poolä¸­ï¼Œä½†æ˜¯æŸä¸ªViewä¾ç„¶æŒæœ‰è¿™ä¸ªå›¾çš„å¼•ç”¨ï¼Œä¸æ­¤åŒæ—¶ï¼Œå¦ä¸€å¼ å›¾ç‰‡è¢«è§£ææˆäº†Bitmapï¼ˆæ³¨ï¼šæ­¤Bitmapæ­£å¥½ç”¨äº†åˆšæ‰é‚£å¼ å›¾ç‰‡çš„æ§ä»¶æ¥å­˜æ”¾è§£æåçš„æ•°æ®ï¼‰ã€‚å¦‚æœå‘ç”Ÿè¿™ç§äº‹æƒ…ï¼ŒBitmapçš„å†…å®¹å°±ä¼šè¢«æ¢æˆäº†æ–°çš„å›¾ç‰‡å†…å®¹ã€‚æ­¤æ—¶ï¼ŒViewä¾ç„¶å°è¯•ç€ç»˜åˆ¶Bitmapï¼Œå¯¼è‡´åŸæ¥çš„Viewä¸­æ˜¾ç¤ºäº†ä¸€å¼ æ–°çš„å›¾ç‰‡ï¼\n\n#### åŸå› \nè¿™äº›é—®é¢˜ä¸»è¦æœ‰ä¸¤ä¸ªåŸå› ï¼š\n\n1. å°è¯•åŠ è½½ä¸¤ä¸ªä¸åŒçš„èµ„æºåˆ°åŒä¸€Targetä¸­\n\n\tåœ¨Glideä¸­ï¼Œæ²¡æœ‰å®‰å…¨çš„æ–¹æ³•æ¥åŠ è½½å¤šä¸ªèµ„æºåˆ°å•ä¸€çš„Targetä¸­ã€‚å¼€å‘è€…å¯ä»¥ä½¿ç”¨`thumbnail()`æ¥åŠ è½½ä¸€ç³»åˆ—èµ„æºåˆ°åˆ°æŸä¸ªTargetä¸­ï¼Œä½†æ˜¯å¯¹äºæ¯ä¸€ä¸ªåŠ è½½çš„èµ„æºæ¥è¯´ï¼Œåªæœ‰åœ¨ä¸‹ä¸€ä¸ª`onResourceReady()`è¢«è°ƒç”¨å‰ï¼Œå®ƒçš„å¼•ç”¨æ‰æ˜¯å®‰å…¨çš„ã€‚\nå¼€å‘è€…å¦‚æœæƒ³åŠ è½½å¤šä¸ªèµ„æºåˆ°åŒä¸€ä¸ªViewä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç‹¬ç«‹çš„Targetã€‚ä¸ºäº†ç¡®ä¿åŠ è½½è¿‡ç¨‹ä¸ç›¸äº’å–æ¶ˆï¼Œå¼€å‘è€…è¦ä¹ˆä¸ä½¿ç”¨ViewTargetçš„å­ç±»ï¼Œè¦ä¹ˆåœ¨ç»§æ‰¿ViewTargetæ—¶ï¼Œå¤å†™`setRequest()` å’Œ `getRequest()`ï¼Œä¸è¦ä½¿ç”¨tagæ¥å­˜å‚¨Requestã€‚ï¼ˆæ³¨ï¼šéœ€è¦ä¸€ä¸ªdemo)\n\n\t**è¯‘è€…æ³¨ï¼šå¯¹äºåŒä¸€ä¸ªviewï¼Œè°ƒç”¨ä¸¤æ¬¡Glide.xxx.into(view)ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨ä¼šå…ˆæ¸…ç©ºç¬¬ä¸€ä¸ªåŠ è½½çš„å›¾ç‰‡ï¼ˆå‡ºç°ç©ºç™½ï¼‰ï¼Œå†å»ä¸‹è½½æ–°çš„å›¾ç‰‡ï¼Œå¦‚æœæƒ³è¦åœ¨ç¬¬äºŒå¼ å›¾ç‰‡ä¸‹è½½ä¸‹æ¥ä¹‹å‰ä¾æ—§æ˜¾ç¤ºä¹‹å‰çš„ï¼Œéœ€è¦ä¸€äº›æŠ€å·§**\n2. åŠ è½½ä¸€ä¸ªèµ„æºæ”¾å…¥åˆ°Targetï¼Œç„¶åæ¸…ç©ºæˆ–è€…å¤ç”¨äº†Targetï¼Œä½†æ˜¯ä¾ç„¶å¼•ç”¨è¿™è¿™ä¸ªèµ„æºã€‚\n\n\tæœ€ç®€å•çš„é¿å…è¿™ä¸ªé”™è¯¯çš„æ–¹æ³•æ˜¯åœ¨`onLoadCleared()`æ–¹æ³•ä¸­æŠŠæ‰€æœ‰å¯¹èµ„æºå¯¹è±¡çš„å¼•ç”¨ç½®nullã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒåŠ è½½ä¸€ä¸ªBitmapï¼Œç„¶åå¼•ç”¨å®ƒçš„Targetæ˜¯å®‰å…¨çš„ã€‚ä¸å®‰å…¨çš„æ˜¯ï¼Œä½ æ¸…ç©ºäº†è¿™ä¸ªTargetï¼Œå´ä¾ç„¶å¼•ç”¨ç€è¿™ä¸ªBitmapã€‚\n\t\n---------\n\t\n## ä½¿ç”¨å¿«ç…§\n\n### å…³äºå¿«ç…§\nå¯¹äºé‚£äº›ä¸æƒ³ç­‰å¾…Glideä¸‹ä¸ªæ­£å¼ç‰ˆæœ¬è€Œæ„¿æ„å°é²œçš„ç”¨æˆ·ï¼Œæˆ‘ä»¬åœ¨[Sonatype](https://travis-ci.org/bumptech/glide)ä¸Šéƒ¨ç½²äº†è¿™ä¸ªåº“çš„å¿«ç…§ã€‚\næ¯ä¸€æ¬¡æˆ‘ä»¬pushä»£ç å¾…GitHubçš„masteråˆ†æ”¯ï¼Œ[travis-ci](https://oss.sonatype.org/content/repositories/snapshots/)ä¼šæ„å»ºGlide.å¦‚æœæ„å»ºæˆåŠŸï¼Œä¼šè‡ªåŠ¨éƒ¨ç½²æœ€æ–°ç‰ˆæœ¬çš„åº“åˆ°Sonatypeä¸Šã€‚\nå’ŒGlideä¸»åº“ä¸€æ ·ï¼Œæ¯ä¸ªIntergrationåº“ä¹Ÿæœ‰è‡ªå·±çš„å¿«ç…§ï¼Œå¦‚æœä½ ä½¿ç”¨å¿«ç…§ç‰ˆæœ¬çš„Glideåº“ï¼Œè¯·ä½¿ç”¨å¿«ç…§ç‰ˆæœ¬çš„Intergrationåº“ï¼Œåä¹‹ä¾ç„¶ã€‚\n\n### è·å–å¿«ç…§\nSonatypeçš„å¿«ç…§åº“å’Œå…¶ä»–çš„mavenåº“ä¸€æ ·ï¼Œæä¾›jarï¼Œmavenï¼Œgradleç­‰ç‰ˆæœ¬ã€‚\n\n#### Jar\nJaråŒ…å¯ä»¥ç›´æ¥ä»Sonatypeä¸Šä¸‹è½½ï¼Œå†æ¬¡æ£€æŸ¥ä¸€ä¸‹æ—¥æœŸï¼Œç¡®ä¿ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬\n\n#### Gradle\nåœ¨ä»“åº“åˆ—è¡¨ä¸­æ·»åŠ å¿«ç…§ä»“åº“\n\n```xml\nrepositories {\n  jcenter()\n  maven {\n    url 'http://oss.sonatype.org/content/repositories/snapshots'\n  }\n}\n```\nç„¶åä¿®æ”¹ä¾èµ–ä¸ºå¿«ç…§ç‰ˆæœ¬\n\n```xml\ndependencies {\n  compile \"com.github.bumptech.glide:glide:3.6.0-SNAPSHOT\"\n  compile \"com.github.bumptech.glide:okhttp-integration:1.3.0-SNAPSHOT\"\n}\n```\n\n#### Maven\nè¿™ç§æ–¹å¼æ²¡æœ‰æµ‹è¯•ï¼Œç›´æ¥ä»[StackOverflow](http://stackoverflow.com/questions/7715321/how-to-download-snapshot-version-from-maven-snapshot-repository)æ‹·è¿‡æ¥çš„ã€‚æ¬¢è¿æ”¹è¿›ä¸‹é¢çš„å†…å®¹ã€‚\næ·»åŠ ä¸‹é¢çš„ä»£ç åˆ°`~/.m2/settings.xml`ä¸­ï¼š\n\n```xml\n<profiles>\n  <profile>\n     <id>allow-snapshots</id>\n     <activation><activeByDefault>true</activeByDefault></activation>\n     <repositories>\n       <repository>\n         <id>snapshots-repo</id>\n         <url>https://oss.sonatype.org/content/repositories/snapshots</url>\n         <releases><enabled>false</enabled></releases>\n         <snapshots><enabled>true</enabled></snapshots>\n       </repository>\n     </repositories>\n   </profile>\n</profiles>\n```\nä¿®æ”¹ä¾èµ–ä¸ºå¿«ç…§ç‰ˆæœ¬\n\n```xml\n<dependency>\n  <groupId>com.github.bumptech.glide</groupId>\n  <artifactId>glide</artifactId>\n  <version>3.6.0-SNAPSHOT</version>\n</dependency>\n<dependency>\n  <groupId>com.github.bumptech.glide</groupId>\n  <artifactId>okhttp-integration</artifactId>\n  <version>1.3.0-SNAPSHOT</version>\n</dependency>\n```\n\n---------\n\n## å›¾å½¢å˜æ¢\n\n### é»˜è®¤çš„å˜æ¢\nGlideåŒ…å«ä¸¤ç§é»˜è®¤çš„å›¾åƒå˜æ¢æ–¹å¼ï¼ŒfitCenterå’ŒcenterCropã€‚å¦‚æœå¼€å‘è€…éœ€è¦å…¶ä»–ç±»å‹çš„å˜æ¢ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è¿™ä¸ªç‹¬ç«‹çš„[å˜æ¢åº“](https://github.com/wasabeef/glide-transformations)ã€‚\n\n#### Fit center\nFitCenterä¼šæŒ‰åŸå§‹æ¯”ä¾‹ç¼©å°å›¾åƒï¼Œä½¿å›¾åƒå¯ä»¥åœ¨æ”¾åœ¨ç»™å®šçš„åŒºåŸŸå†…ã€‚FitCenterä¼šå°½å¯èƒ½å°‘åœ°ç¼©å°å›¾ç‰‡ï¼Œä½¿å®½æˆ–è€…é«˜çš„ä¸€è¾¹ç­‰äºç»™å®šçš„å€¼ã€‚å¦å¤–ä¸€è¾¹ä¼šç­‰äºæˆ–è€…å°äºç»™å®šå€¼ã€‚\nFitCenterå’ŒAndroidä¸­çš„ScaleType.FIT_CENTERæ•ˆæœç›¸åŒã€‚\n#### CenterCrop\nCenterCropä¼šæŒ‰åŸå§‹æ¯”ä¾‹ç¼©å°å›¾åƒï¼Œä½¿å®½æˆ–è€…é«˜çš„ä¸€è¾¹ç­‰äºç»™å®šçš„å€¼ï¼Œå¦å¤–ä¸€è¾¹ä¼šç­‰äºæˆ–è€…å¤§äºç»™å®šå€¼ã€‚CenterCropä¼šè£å‰ªæ‰å¤šä½™éƒ¨åˆ†ã€‚\nCenterCropå’ŒAndroidä¸­çš„ScaleType.CENTER_CROPæ•ˆæœç›¸åŒã€‚\n\n### ä½¿ç”¨\nfit centeræ•ˆæœä½¿ç”¨`.fitCenter()`ï¼š\n\n```java\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .fitCenter()\n    .into(yourView);\n```\ncenter cropæ•ˆæœä½¿ç”¨`.centerCrop()`ï¼š\n\n```java\nGlide.with(yourFragment)\n    .load(yourUrl)\n    . centerCrop()\n    .into(yourView);\n```\nå¦‚æœä½ åªåŠ è½½Bitmapæˆ–è€…Gifï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªå˜æ¢ï¼š\n\n```java\n// For Bitmaps:\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .asBitmap()\n    .centerCrop()\n    .into(yourView);\n\n// For gifs:\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .asGif()\n    .fitCenter()\n    .into(yourView);\n```\nå½“åœ¨ç±»å‹é—´è½¬ç æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿™äº›å˜æ¢ã€‚ä¾‹å¦‚ï¼Œè·å–ä¸€ä¸ªå˜å½¢åçš„jpegå›¾ç‰‡çš„bytesæ•°æ®ï¼š\n\n```java\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .asBitmap()\n    .toBytes()\n    .centerCrop()\n    .into(new SimpleTarget<byte[]>(...) { ... });\n\n```\nè‡ªå®šä¹‰å˜æ¢\né™¤äº†ä¸¤ä¸ªå†…ç½®çš„å˜æ¢ï¼Œä½ è¿˜å¯ä»¥è‡ªå®šä¹‰å˜æ¢ã€‚\næœ€ç®€å•çš„æ–¹å¼æ˜¯ç»§æ‰¿BitmapTransformationã€‚\n\n```java\nprivate static class MyTransformation extends BitmapTransformation { \n \n    public MyTransformation(Context context) {\n       super(context);\n    } \n \n    @Override \n    protected Bitmap transform(BitmapPool pool, Bitmap toTransform, \n            int outWidth, int outHeight) {\n       Bitmap myTransformedBitmap = ... // apply some transformation here. \n       return myTransformedBitmap; \n    } \n \n    @Override \n    public String getId() {\n        // Return some id that uniquely identifies your transformation. \n        return \"com.example.myapp.MyTransformation\"; \n    } \n} \n```\n\nä¹‹åä¸€å°±å¯ä»¥ç”¨åŒæ ·çš„æ–¹å¼ä½¿ç”¨å®ƒã€‚ä½¿ç”¨`.transform(...)`ä»£æ›¿`.fitCenter()`/`.centerCrop()`ã€‚\n\n```java\n// For the default drawable type:\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .transform(new MyTransformation(context))\n    .into(yourView);\n\n// For Bitmaps:\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .asBitmap()\n    .transform(new MyTransformation(context))\n    .into(yourView);\n\n// For Gifs:\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .asGif()\n    .transform(new MyTransformation(context))\n    .into(yourView);\n```\n\n#### è°ƒæ•´å¤§å°\nä½ å¯èƒ½æ³¨æ„åˆ°ä¸Šé¢çš„ä¾‹å­æ²¡æœ‰ä¼ å…¥å…·ä½“çš„å°ºå¯¸ï¼Œé‚£ä¹ˆï¼ŒTransformationä¸­çš„å°ºå¯¸æ˜¯å¦‚ä½•è·å¾—çš„å‘¢ï¼Ÿ\nTransformationä¸­çš„å°ºå¯¸å°±æ˜¯Viewæˆ–è€…Targetçš„å¤§å°ã€‚Glideä¼šæ ¹æ®å¸ƒå±€æ–‡ä»¶ä¸­çš„weightï¼Œmatch_parentæˆ–è€…å…·ä½“å€¼ç®—å‡ºViewçš„å¤§å°ã€‚ï¼Œå½“ä½ æ‹¥æœ‰View/Targetçš„å…·ä½“å¤§å°ï¼Œåˆæ‹¥æœ‰åŸå§‹å›¾ç‰‡çš„å¤§å°æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡å›¾åƒå˜æ¢ç”Ÿæˆä¸€ä¸ªæ­£ç¡®å¤§å°çš„å›¾ç‰‡ã€‚\nå¦‚æœä½ æƒ³æŒ‡å®šView/Targetçš„è‡ªå®šä¹‰å¤§å°ï¼Œå¯ä»¥ä½¿ç”¨`.override(int, int)`æ–¹æ³•ï¼Œå¦‚æœä½ æƒ³åŠ è½½ä¸€ä¸ªå›¾ç‰‡æœ‰å…¶ä»–ç”¨é€”ï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºåœ¨Viewä¸­ï¼Œè¯·æŸ¥çœ‹ã€è‡ªå®šä¹‰Targetã€ç« èŠ‚ã€‚\n\n#### Bitmap å¤ç”¨\nä¸ºäº†å‡å°‘åƒåœ¾å›æ”¶ï¼Œä½ å¯ä»¥è¯´ä½¿ç”¨`BitmapPool`æ¥å£æ¥é‡Šæ”¾ä¸æƒ³è¦çš„Bitmapæˆ–è€…å¤ç”¨å­˜åœ¨çš„Bitmapã€‚ä¸€ä¸ªåœ¨Transformationä¸­å¤ç”¨Bitmapå…¸å‹çš„ä¾‹å­ï¼šä»poolä¸­è·å–Bitmapï¼Œä½¿ç”¨è¯¥Bitmapåˆ›å»ºä¸€ä¸ª`Canvas`ï¼Œç„¶åä½¿ç”¨Matrix/Paint/Shaderæ¥å˜æ¢å›¾åƒå¹¶ç»˜åˆ¶åˆ°Canvasä¸Šã€‚ä¸ºäº†æ­£ç¡®æœ‰æ•ˆåœ°åœ¨Transformationä¸­å¤ç”¨Bitmapä¸­ï¼Œéµå®ˆä¸‹é¢çš„è§„åˆ™ï¼š\n\n1. åœ¨`transform()`ä¸è¦å›æ”¶èµ„æºæˆ–è€…æŠŠBitmapæ”¾å…¥Bitmapæ± ä¸­ï¼Œè¿™äº›æ­¥éª¤ä¼šè‡ªåŠ¨å®Œæˆã€‚\n2. å¦‚æœä½ ä»Bitmapæ± ä¸­è·å–äº†å¤šä¸ªBitmapï¼Œæˆ–è€…æ²¡æœ‰ä½¿ç”¨ä»poolä¸­è·å–åˆ°çš„Bitmapï¼Œç¡®ä¿æŠŠå¤šä½™çš„Bitmapæ”¾å›poolä¸­ã€‚\n3. å¦‚æœä½ çš„Trasformationå¹¶æ²¡æœ‰æ›¿æ¢è°ƒåŸå§‹å›¾ç‰‡ï¼ˆæ¯”å¦‚ï¼Œå›¾ç‰‡å·²ç»æ»¡è¶³ä½ è¦æ±‚çš„å¤§å°ï¼Œç›´æ¥è¿”å›äº†ï¼‰ï¼Œè¯·åœ¨`transform()`æ–¹æ³•ä¸­è¿”å›åŸå§‹çš„èµ„æºæˆ–è€…Bitmapã€‚\n\nä¸€ä¸ªå…¸å‹çš„ç”¨æ³•å¦‚ä¸‹ï¼š\n\n```java\nprotected Bitmap transform(BitmapPool bitmapPool, Bitmap original, int width, int height) {\n    Bitmap result = bitmapPool.get(width, height, Bitmap.Config.ARGB_8888);\n    // If no matching Bitmap is in the pool, get will return null, so we should allocate. \n    if (result == null) {\n        // Use ARGB_8888 since we're going to add alpha to the image. \n        result = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n    } \n    // Create a Canvas backed by the result Bitmap. \n    Canvas canvas = new Canvas(result);\n    Paint paint = new Paint();\n    paint.setAlpha(128);\n    // Draw the original Bitmap onto the result Bitmap with a transformation. \n    canvas.drawBitmap(original, 0, 0, paint);\n    // Since we've replaced our original Bitmap, we return our new Bitmap here. Glide will \n    // will take care of returning our original Bitmap to the BitmapPool for us.  \n    return result;\n} \n```","source":"_posts/Androidå›¾ç‰‡åº“-Glide.md","raw":"title: Androidå›¾ç‰‡åº“--Glide Wikiä¸­æ–‡ç¿»è¯‘\ndate: 2016-01-24 10:32:54\ndescription: Glide Wikiä¸­æ–‡ç¿»è¯‘ã€‚Glideæ˜¯ä¸€ä¸ªAndroidå›¾ç‰‡åº“ï¼Œç¡®åˆ‡åœ°è¯´åº”å½“å«ã€åª’ä½“æ¡†æ¶ã€ã€‚æ”¯æŒå›¾ç‰‡ã€Gifã€åŸç”Ÿè§†é¢‘çš„åŠ è½½ã€‚ä½¿ç”¨ç®€å•ï¼Œæ€§èƒ½ä¼˜å¼‚ï¼ŒGoogleæ¨èã€‚\ncategories:\n- æŠ€æœ¯\ntags:\n- Android\n- ä¸»æ¡†æ¶\n---\n## åº\næœ€è¿‘ï¼Œä¸€ç›´åœ¨æ£é¼“Glideè¿™ä¸ªå›¾ç‰‡åº“ï¼Œç¡®åˆ‡åœ°è¯´åº”å½“å«ã€åª’ä½“æ¡†æ¶ã€ã€‚ä¸ºäº†æ”¯æŒGifæ’­æ”¾ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨Glideä»£æ›¿äº†Universal Image Loaderã€‚èµ·åˆæˆ‘ä»¬æ‰“ç®—ä½¿ç”¨çš„æ˜¯Frescoæ–¹æ¡ˆï¼Œæœ€ç»ˆå› ä¸ºLibä½“ç§¯çš„é—®é¢˜æ”¾å¼ƒã€‚ä¸‡ä¸‡æ²¡æƒ³åˆ°apkçš„sizeè¿™ä¹ˆæ•æ„Ÿï¼Œå›½å¤–å¾ˆå¤šæ¨å¹¿æœåŠ¡æ˜¯æ ¹æ®apkä½“ç§¯æ”¶è´¹çš„ï¼Œ3Mä¸€ä¸ªé—¨æ§›ï¼Œ5Mä¸€ä¸ªé—¨æ§›ã€‚frescoå¼•å…¥ä¹‹åå³ä½¿proguardã€7zipï¼Œapkçš„å¤§å°ä¹Ÿå¢åŠ äº†1M+ï¼Œå¤šå¹³å°çš„osåº“æ˜¯ä¸ªå¤§å¤´ï¼Œç¬¬ä¸‰ä¸–ç•Œçš„åº”ç”¨å¸‚åœºè¿˜ä¸æ”¯æŒæŒ‰å¹³å°åˆ†å‘ğŸ˜“ã€‚ã€‚\nGlideçš„ä½¿ç”¨è¿˜ä¸æ·±å…¥ï¼Œä»…ä»…åœç•™åœ¨Apiçš„èŒƒç•´ï¼Œä¸ºäº†è§£å†³bugï¼Œè·Ÿè¸ªäº†ä»£ç ï¼Œä¹Ÿæ˜¯äº‘é‡Œé›¾é‡Œã€‚ä¸å¾—ä¸è¯´ï¼ŒGlideæºç çš„è®¾è®¡ååˆ†NBï¼Œé¢å‘æ¥å£çš„ç†å¿µè´¯å½»çš„å¾ˆå½»åº•ï¼Œæ˜¯ä¸€ä¸ªå­¦ä¹ è®¾è®¡çš„å¥½demoã€‚\nGitHubçš„READMEä½œä¸ºæœ€ç®€å•çš„å…¥é—¨è¶³å¤Ÿäº†ï¼Œä½†æ˜¯é‡åˆ°å…·ä½“é—®é¢˜è¿˜æ˜¯è¦ç†è§£ä¸€äº›è®¾è®¡æ€æƒ³çš„ï¼ŒGitHubä¸Šçš„Wikiæœ‰ä¸€ä»½ä¸é”™çš„æ–‡æ¡£ï¼Œå¯æƒœæœ¨æœ‰ä¸­æ–‡ï¼Œæ­£å¥½å­¦ä¹ çš„è¿‡ç¨‹ä¸­ç¿»è¯‘ä¸€ä¸‹ã€‚\nåœ¨çœ‹wikiä¹‹å‰ï¼Œå¯ä»¥å…ˆçœ‹è¿™ä¸¤ç¯‡ä¸­æ–‡å…¥é—¨ï¼Œäº†è§£åŸºæœ¬çš„ç”¨æ³•ã€‚\n\n* [Googleæ¨èçš„å›¾ç‰‡åŠ è½½åº“Glideä»‹ç»](http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0327/2650.html)\n* [Glide ä¸€ä¸ªä¸“æ³¨äºå¹³æ»‘æ»šåŠ¨çš„å›¾ç‰‡åŠ è½½å’Œç¼“å­˜åº“](http://www.jianshu.com/p/4a3177b57949)\n\næœ¬æ–‡æ˜¯åŸºäº**Glide 3.x**æ­£å¼ç‰ˆçš„[Wikiæ–‡æ¡£](https://github.com/bumptech/glide/wiki)çš„ç¿»è¯‘ï¼ˆåŸæ–‡ç¼–è¾‘æ—¥æœŸï¼š2015-2-9,18 revisionï¼Œå½“æ—¶Glide releaseçš„ç‰ˆæœ¬å·3.6.1ï¼‰ã€‚\n\nç¿»è¯‘Versionï¼š1.1 ç®€å•æ ¡å¯¹\n\n### åè¯è§£é‡Š\nGlideä¸­æœ‰ä¸€éƒ¨åˆ†å•è¯ï¼Œæˆ‘ä¸çŸ¥é“ç”¨ä»€ä¹ˆä¸­æ–‡å¯ä»¥ç¡®åˆ‡çš„è¡¨è¾¾å‡ºå«ä¹‰ï¼Œç”¨è‹±æ–‡å•è¯å¯èƒ½åœ¨è¡Œæ–‡ä¸­æ›´åŠ åˆé€‚ï¼Œè¿˜æœ‰ä¸€äº›è¯åœ¨Glideä¸­æœ‰ç‰¹åˆ«çš„å«ä¹‰ï¼Œæˆ‘ç†è§£çš„å¯èƒ½ä¹Ÿä¸æ·±å…¥ï¼Œè¿™é‡Œå…ˆè®°å½•ä¸€ä¸‹ã€‚\n\n* Viewï¼š ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒæŒ‡Androidä¸­çš„ViewåŠå…¶å­ç±»æ§ä»¶ï¼ˆåŒ…æ‹¬è‡ªå®šä¹‰çš„ï¼‰ï¼Œå°¤å…¶æŒ‡ImageViewã€‚è¿™äº›æ§ä»¶å¯åœ¨ä¸Šé¢ç»˜åˆ¶Drawable\n* Targetï¼š Glideä¸­é‡è¦çš„æ¦‚å¿µï¼Œç›®æ ‡ã€‚å®ƒå³å¯ä»¥æŒ‡å°è£…äº†ä¸€ä¸ªViewçš„Targetï¼ˆViewTargetï¼‰ï¼Œä¹Ÿå¯ä»¥ä¸åŒ…å«Viewï¼ˆSimpleTargetï¼‰ã€‚\n* Drawableï¼š æŒ‡Androidä¸­çš„Drawableç±»æˆ–è€…å®ƒçš„å­ç±»ï¼Œå¦‚BitmapDrawableç­‰ã€‚æˆ–è€…Glideä¸­åŸºç¡€Drawableå®ç°çš„è‡ªå®šä¹‰Drawableï¼ˆå¦‚GifDrawableç­‰ï¼‰\n* Request - åŠ è½½è¯·æ±‚ï¼Œå¯ä»¥æ˜¯ç½‘ç»œè¯·æ±‚æˆ–è€…å…¶ä»–ä»»ä½•ä¸‹è½½å›¾ç‰‡çš„è¯·æ±‚ï¼Œä¹Ÿæ˜¯Glideä¸­çš„ä¸€ä¸ªç±»ã€‚\n* Modelï¼šæ•°æ®æºçš„æä¾›è€…ï¼Œå¦‚Urlï¼Œæ–‡ä»¶è·¯å¾„ç­‰ï¼Œå¯ä»¥ä»modelä¸­è·å–InputStreamã€‚\n* Signatureï¼šç­¾åï¼Œå¯ä»¥å”¯ä¸€åœ°æ ‡è¯†ä¸€ä¸ªå¯¹è±¡ã€‚\n* recycle()ï¼šGlideä¸­Resourceç±»æœ‰æ­¤æ–¹æ³•ï¼Œè¡¨ç¤ºè¯¥èµ„æºä¸è¢«å¼•ç”¨ï¼Œå¯ä»¥æ”¾å…¥æ± ä¸­ï¼ˆæ­¤æ—¶å¹¶æ²¡æœ‰é‡Šæ”¾ç©ºé—´ï¼‰ã€‚Androidä¸­Bitmapä¹Ÿæœ‰æ­¤æ–¹æ³•ï¼Œè¡¨ç¤ºé‡Šæ”¾Bitmapå ç”¨çš„å†…å­˜ã€‚\n\n## ç›®å½•\n* ä¸»ç›®å½•\n* ç¼“å­˜æœºåˆ¶ä¸ç¼“å­˜å¤±æ•ˆ\n* Glideé…ç½®\n* è‡ªå®šä¹‰Target\n* è°ƒè¯•ä¸é”™è¯¯å¤„ç†\n* ä½¿ç”¨Glideä¸‹è½½è‡ªå®šä¹‰å¤§å°å›¾ç‰‡\n* é›†æˆåº“-ä¸å…¶ä»–åº“ç›¸æ•´åˆ\n* åœ¨åå°çº¿ç¨‹ä¸­åŠ è½½ä¸ç¼“å­˜æ•°æ®\n* Glideä¸­çš„èµ„æºå¤ç”¨\n* å¿«ç…§ï¼ˆSnapshotsï¼‰\n* å›¾å½¢å˜æ¢ï¼ˆTransformationsï¼‰\n\n---------\n\n## ä¸»ç›®å½•\n\n### æŠ¥å‘Šé—®é¢˜\nå¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥åœ¨[Githubä¸Šæå‡º](https://github.com/bumptech/glide/issues/)æˆ–è€…å‘é€e-mailåˆ°æˆ‘ä»¬çš„[é‚®ä»¶åˆ—è¡¨](https://groups.google.com/forum/#!forum/glidelibrary)ï¼Œä¹Ÿå¯ä»¥åœ¨IRC(Internet Relay Chat ç½‘ç»œä¸­ç»§èŠå¤©ï¼Ÿ)é¢‘é“ä¸Šè”ç³»æˆ‘ä»¬ï¼š[irc.freenode.net#glide-library](http://webchat.freenode.net/?channels=glide-library)ã€‚\n\n### 3.0ç‰ˆæœ¬çš„æ–°ç‰¹æ€§\n* æ”¯æŒGifåŠ¨ç”»çš„è§£ç  - ä¸åŠ è½½å›¾ç‰‡ç›¸åŒï¼Œåªè¦è°ƒç”¨Glide.with(...).load(...)ï¼Œå¦‚æœä½ åŠ è½½çš„å›¾ç‰‡æ˜¯ä¸€ä¸ªå¯ä»¥æ’­æ”¾çš„Gifï¼ŒGlideä¼šè‡ªåŠ¨åŠ è½½å®ƒå¹¶æ˜¾ç¤ºåœ¨ä¸€ä¸ªè‡ªå®šä¹‰çš„Drawableä¸Šï¼ˆæ³¨ï¼šGifDrawableï¼‰ã€‚æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥æ§åˆ¶çš„æ›´å¤šï¼Œæ¯”å¦‚\n\n\t```java\n// ä½ æƒ³åŠ è½½Gifä¸ºä¸€å¼ é™æ€å›¾ç‰‡\nGlide.with(context).load(...).asBitmap()ã€‚\n// æˆ–è€…ä½ æƒ³åªæœ‰åŠ è½½å¯¹è±¡æ˜¯Gifæ—¶æ‰èƒ½åŠ è½½æˆåŠŸ\nGlide.with(context).load(...).asGif()ã€‚\n```\n\n* æœ¬åœ°è§†é¢‘æ’­æ”¾æŠ€æœ¯ - é™¤äº†è§£ç Gifï¼ŒGlideä¹Ÿèƒ½è§£ç ä½ è®¾å¤‡ä¸Šçš„è§†é¢‘ï¼ˆvideoï¼‰ã€‚ä½¿ç”¨æ–¹æ³•å’ŒåŠ è½½gifç›¸åŒï¼ŒGlideæ”¯æŒæ‰€æœ‰Androidå¯ä»¥ç›´æ¥è§£ç çš„è§†é¢‘ã€‚\n* æ”¯æŒç¼©ç•¥å›¾åŠ è½½ - æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›å‡å°‘ç”¨æˆ·ç­‰å¾…çš„æ—¶é—´åˆä¸æƒ³ç‰ºç‰²å›¾ç‰‡çš„è´¨é‡ï¼Œæˆ‘ä»¬å¯ä»¥åŒæ—¶åŠ è½½å¤šå¼ å›¾ç‰‡åˆ°ä¸€ä¸ªViewä¸­ï¼Œå…ˆåŠ è½½ç¼©ç•¥å›¾ï¼ˆåªæœ‰viewçš„1/10å¤§å°ï¼‰ï¼Œç„¶åå†åŠ è½½ä¸€ä¸ªå®Œæ•´çš„å›¾åƒè¦†ç›–åœ¨ä¸Šé¢ã€‚ä½¿ç”¨ä¸‹é¢çš„ä»£ç \n\n\t```java\nGlide.with(yourFragment).load(yourUrl).thumbnail(0.1f).into(yourView)\n```\n\nå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªRequeståˆ°`.thumbnail()`å‡½æ•°ä¸­ä½œä¸ºå‚æ•°ã€‚\n\n* ä¸ç”Ÿå‘½å‘¨æœŸé›†æˆ - åŠ è½½è¯·æ±‚ç°åœ¨ä¼šè‡ªåŠ¨åœ¨onStopä¸­æš‚åœåœ¨ï¼ŒonStartä¸­é‡æ–°å¼€å§‹ã€‚ä¸ºäº†èŠ‚çº¦ç”µé‡ï¼ŒGifåŠ¨ç”»ä¹Ÿä¼šåœ¨onStopä¸­è‡ªåŠ¨æš‚åœã€‚æ­¤å¤–ï¼Œå½“è®¾å¤‡çš„è¿æ¥çŠ¶æ€æ”¹å˜æ—¶ï¼Œæ‰€æœ‰å¤±è´¥çš„è¯·æ±‚ä¼šè‡ªåŠ¨é‡è¯•ï¼Œç¡®ä¿Glideä¸ä¼šå› ä¸ºä¸´æ—¶æ€§çš„è¿æ¥é—®é¢˜ï¼Œå¯¼è‡´è¯·æ±‚æ°¸è¿œå¤±è´¥ã€‚\n* è½¬ç  - é™¤äº†è§£ç èµ„æºï¼ŒGlideçš„`.toBytes()`å’Œ`.transcode()`æ–¹æ³•å…è®¸ä½ åœ¨åå°æ­£å¸¸åœ°è·å–ã€è§£ç ã€å˜æ¢ä¸€å¼ å›¾ç‰‡ã€‚ä½ è¿˜å¯ä»¥åœ¨è¿™äº›è°ƒç”¨ä¸­æŠŠå›¾ç‰‡è½¬ç æˆæ›´æœ‰ç”¨çš„æ ¼å¼ï¼Œæ¯”å¦‚ï¼Œä¸Šä¼ ä¸€å¼ å¤§å°ä¸º250*250åƒç´ çš„ç”¨æˆ·å¤´åƒçš„å›¾ç‰‡bytesæ•°æ®ï¼Œä»£ç å¦‚ä¸‹\n\n\t```java\nGlide.with(context)\n    .load(â€œ/user/profile/photo/pathâ€)\n    .asBitmap()\n    .toBytes()\n    .centerCrop()\n    .into(new SimpleTarget<byte[]>(250, 250) {\n        @Override\n        public void onResourceReady(byte[] data, GlideAnimation anim) {\n            // åœ¨æ­¤å¤„ï¼Œå°†bytesæ•°æ®ä¼ å…¥åå°çº¿ç¨‹ï¼Œå†ä¸Šä¼ ä»–ä»¬\n        }\n    });\n```\n\n* åŠ¨ç”» - Glide3.Xæ”¯æŒã€æ·¡å…¥æ·¡å‡ºã€åŠ¨ç”»ï¼ˆ`.crossFade()`ï¼‰å’Œviewçš„å±æ€§åŠ¨ç”»(`.animate(ViewPropertyAnimation.Animator)`)ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰Glide2.0å°±æ”¯æŒçš„android viewåŠ¨ç”»ã€‚\n* æ”¯æŒ OkHttp å’Œ Volley - ç°åœ¨ä½ å¯ä»¥é€‰æ‹©ç”¨OkHttpã€Volleyæˆ–è€…é»˜è®¤çš„HttpUrlConnectionä½œä¸ºç½‘ç»œæ ˆã€‚OkHttpå’ŒVolleyå¯ä»¥é€šè¿‡æ·»åŠ å¯¹åº”çš„é›†æˆåº“(integration library)å’Œæ³¨å†Œç›¸åº”çš„`ModelLoaderFactory`æ¥å¼•å…¥ã€‚å…·ä½“æŸ¥çœ‹ReadMeæ–‡ä»¶ã€‚\n* å…¶ä»– - å¯ä»¥ä½¿ç”¨Drawableå¯¹è±¡ä½œä¸ºåŠ è½½ä¸­çš„å ä½å›¾ã€è¯·æ±‚ä¼˜å…ˆçº§ã€è¦†ç›–è‡ªå®šä¹‰å®½å’Œé«˜ã€å¯ä»¥ç¼“å­˜å˜æ¢åçš„ç¼©ç•¥å›¾æˆ–è€…ç¼“å­˜åŸå§‹æ–‡ä»¶\n\n### ä»2.0è¿ç§»åˆ°3.0\n* å°†æ‰€æœ‰çš„`Glide.load()`æ›¿æ¢ä¸º`Glide.with([fragment/activity/context]).load()`ã€‚\n* å°†æ‰€æœ‰çš„è‡ªå®šä¹‰çš„åŠ è½½è°ƒç”¨`Glide.load(url).into(new SimpleTarget(){ ... }).with(context)`æ›¿æ¢æˆ`Glide.with(context).load(url).into(new SimpleTarget(width, height) { ... })`ã€‚\n\n### ç‰¹æ€§\né™¤äº†3.0å¼•å…¥çš„æ–°åŠŸèƒ½ï¼ŒGlideç»§æ‰¿äº†2.0çš„æ‰€æœ‰åŠŸèƒ½ï¼š\n\n* åå°å›¾ç‰‡åŠ è½½\n* å¦‚æœä½ ä½¿ç”¨äº†listviewçš„å¤ç”¨æœºåˆ¶ï¼Œé‚£ä¹ˆGlideä¼šè‡ªåŠ¨å–æ¶ˆä½œä¸šï¼ˆjobï¼‰\n* å†…å­˜å’Œç£ç›˜ç¼“å­˜\n* Bitmapå’Œèµ„æºæ± æ¥å‡å°‘å†…å­˜æŠ–åŠ¨\n* æ”¯æŒä»»æ„çš„å›¾åƒå˜æ¢\n\n---------\n\n## ç¼“å­˜æœºåˆ¶ä¸ç¼“å­˜å¤±æ•ˆ\nç¼“å­˜å¤±æ•ˆæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„è¯é¢˜ï¼Œç†æƒ³æƒ…å†µä¸‹ï¼Œä½ å°½å¯èƒ½ä¸è¦è€ƒè™‘è¿™ä¸ªé—®é¢˜ã€‚è¿™ä¸€èŠ‚ä¸»è¦æ˜¯è®©ä½ ç²—ç•¥çš„äº†è§£ä¸€ä¸‹Glideä¸­cacheçš„keyæ˜¯å¦‚ä½•ç”Ÿæˆï¼Œä»¥åŠæä¾›ä¸€äº›å…³äºå¦‚ä½•åˆç†åˆ©ç”¨ç¼“å­˜çš„æç¤ºã€‚\n### ç¼“å­˜çš„key\n`DiskCacheStrategy.RESULT`ç£ç›˜ç¼“å­˜ç­–ç•¥ï¼ˆæ³¨ï¼šæˆ‘ä»¬é…ç½®çš„ä¸€ç§ç£ç›˜ç¼“å­˜ç­–ç•¥ï¼‰ä½¿ç”¨çš„keyç”±ä»¥ä¸‹å››ä¸ªä¸»è¦éƒ¨åˆ†ç»„æˆï¼š\n\n* DataFetcherçš„æ–¹æ³•`getId()`è¿”å›çš„å­—ç¬¦ã€‚å…¸å‹åœ°ï¼ŒDataFetcherä»…ä»…è¿”å›ç”±æ•°æ®Modelçš„`toString()`æ–¹æ³•å¾—åˆ°çš„å€¼ã€‚æ‰€ä»¥ï¼Œå¦‚æœModelæ˜¯ä¸€ä¸ª**URL**ï¼Œé‚£ä¹ˆä¼šè¿”å›URLçš„å­—ç¬¦ä¸²ï¼Œå¦‚æœModelæ˜¯æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆä¼šè¿”å›æ–‡ä»¶çš„**è·¯å¾„**ã€‚ã€‚ã€‚\n* å®½å’Œé«˜ã€‚å¦‚æœä½ è°ƒç”¨è¿‡override(width,height)æ–¹æ³•ï¼Œé‚£ä¹ˆå°±æ˜¯æ˜¯å®ƒä¼ å…¥çš„å€¼ã€‚æ²¡æœ‰è°ƒç”¨è¿‡ï¼Œé»˜è®¤æ˜¯é€šè¿‡**Target**çš„`getSize()`æ–¹æ³•è·å¾—è¿™ä¸ªå€¼ã€‚\n* å„ç§ç¼–ç å™¨ã€è§£ç å™¨çš„`getId()`æ–¹æ³•è¿”å›çš„å­—ç¬¦ä¸²ã€‚è¿™äº›ç¼–ç å™¨ã€è§£ç å™¨ç”¨äºåŠ è½½å’Œç¼“å­˜ä½ çš„å›¾ç‰‡ã€‚ä»…æœ‰å“ªäº›å †bytesæ•°æ®æœ‰å½±å“çš„ç¼–ç å™¨ã€è§£ç å™¨æ‰ä¼šæœ‰è¿™äº›`id`å€¼ã€‚æ¯”å¦‚ï¼Œä½ åªæœ‰ä¸€ä¸ªå°†bytesæ•°æ®å†™å…¥ç£ç›˜çš„ç¼–ç å™¨ï¼Œé‚£ä¹ˆå®ƒå°±æ²¡æœ‰idå€¼ï¼Œå› ä¸ºä¸ç®¡æ€æ ·å®ƒéƒ½ä¸ä¼šä¿®æ”¹æ•°æ®ã€‚\n* å¯é€‰åœ°ï¼Œä½ å¯ä»¥ä¸ºå›¾ç‰‡åŠ è½½æä¾›ç­¾å(Signature)ï¼Œè¯·çœ‹ä¸‹é¢çš„ç¼“å­˜å¤±æ•ˆéƒ¨åˆ†ã€‚\n\næ‰€æœ‰çš„è¿™äº›keyï¼Œä»¥ç‰¹å®šçš„é¡ºåºè®¡ç®—å‡ºhashå€¼ï¼Œå¹¶å°†è¿™ä¸ªå€¼ä½œä¸ºä¿å­˜å›¾ç‰‡åˆ°ç£ç›˜ä¸Šçš„å”¯ä¸€ä¸”å®‰å…¨çš„æ–‡ä»¶åã€‚\n\n### ç¼“å­˜å¤±æ•ˆ\nç”±äºæ–‡ä»¶åæ˜¯hashå€¼ï¼Œæ²¡æœ‰ç®€ä¾¿çš„æ–¹å¼åˆ é™¤ç£ç›˜ä¸ŠæŸä¸ªç‰¹å®šurlæˆ–è€…æ–‡ä»¶è·¯å¾„çš„æ‰€æœ‰ç¼“å­˜æ–‡ä»¶ã€‚å¦‚æœä»…ä»…ç¼“å­˜åŸæ–‡ä»¶ï¼Œé—®é¢˜å¯èƒ½è¿˜æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯Glideä¼šç¼“å­˜ç¼©ç•¥å›¾ï¼Œå„ç§å˜æ¢åçš„å›¾ç‰‡ï¼Œæ‰€æœ‰è¿™äº›ç¼“å­˜éƒ½ä¼šäº§ç”Ÿæ–°æ–‡ä»¶ã€‚è·Ÿè¸ªå’Œåˆ é™¤æ‰€æœ‰æ–‡ä»¶æ˜¯ååˆ†å›°éš¾çš„ã€‚\n\n### è‡ªå®šä¹‰ç¼“å­˜å¤±æ•ˆ\né€šå¸¸æƒ…å†µä¸‹æ”¹å˜ç¼“å­˜çš„æ ‡å¿—ï¼ˆkeyï¼‰æ˜¯å›°éš¾çš„ã€‚Glideæä¾›äº†`signature()`APIæ¥æ··å…¥å…¶ä»–æ•°æ®ï¼Œå¸®åŠ©ä½ æ§åˆ¶ç¼“å­˜çš„keyã€‚ç­¾åï¼ˆSignatureï¼‰å¯¹äºå¤šåª’ä½“æˆ–è€…æœ‰ç‰ˆæœ¬ä¿¡æ¯çš„å†…å®¹æ¥è¯´éƒ½å¾ˆæœ‰ç”¨ã€‚\n\n* åª’ä½“åº“å†…å®¹ - å¯¹äºåª’ä½“åº“å†…å®¹ï¼Œä½ å¯ä»¥ä½¿ç”¨Glideçš„`MediaStoreSignature`ç±»ä½œä¸ºç­¾åï¼Œ MediaStoreSignatureç±»å…è®¸ä½ æ··å…¥æ–‡ä»¶ä¿®æ”¹æ—¶é—´ã€mimeç±»å‹ã€åª’ä½“åº“çš„æ–¹å‘(orientation?)è¿™äº›å€¼ä½œä¸ºç¼“å­˜çš„keyï¼Œè¿™ä¸‰ä¸ªå€¼è¶³ä»¥è®©ä½ å¯é çš„æ•æ‰åˆ°ä»»ä½•ä¿®æ”¹å’Œæ›´æ–°ï¼Œä½¿ä½ å¯ä»¥ç¼“å­˜åª’ä½“åº“çš„ç¼©ç•¥å›¾.?\n* æ–‡ä»¶ - ä½ å¯ä»¥ä½¿ç”¨`StringSignature`æ··å…¥æ–‡ä»¶ä¿®æ”¹æ—¶é—´\n* url - è™½ç„¶ä½¿urlå¤±æ•ˆæœ€å¥½çš„æ–¹å¼æ˜¯å½“å†…å®¹å˜åŒ–æ—¶ï¼ŒæœåŠ¡å™¨ä¿®æ”¹urlå¹¶æ›´æ–°å®¢æˆ·ç«¯ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥ç”¨`StringSignature`æ··å…¥ä»»æ„çš„å…ƒæ•°æ®ï¼ˆå¦‚ç‰ˆæœ¬å·ï¼‰æ¥ä½¿ç¼“å­˜å¤±æ•ˆã€‚\n\nä½¿ç”¨String SignatureåŠ è½½æ•°æ®å¾ˆç®€å•ï¼š\n\n```java\nGlide.with(yourFragment)\n    .load(yourFileDataModel)\n    .signature(new StringSignature(yourVersionMetadata))\n    .into(yourImageView);\n```\n\nåª’ä½“åº“Signatureå¯ä»¥ç›´æ¥ä½¿ç”¨ä»MeidaStore(æ³¨ï¼šä¸€ä¸ªandroid apiï¼‰è·å¾—çš„æ•°æ®\n\n```java\nGlide.with(fragment)\n    .load(mediaStoreUri)\n    .signature(new MediaStoreSignature(mimeType, dateModified, orientation))\n    .into(view);\n```\n\nä½ è¿˜å¯ä»¥é€šè¿‡å®ç°`key`æ¥å£æ¥è‡ªå®šä¹‰ç­¾åï¼Œç¡®ä¿å®ç°äº†`equals()`, `hashCode()`å’Œ`updateDiskCacheKey()`è¿™å‡ ä¸ªæ–¹æ³•\n\n```java\npublic class IntegerVersionSignature implements Key {\n    private int currentVersion;\n \n    public IntegerVersionSignature(int currentVersion) {\n         this.currentVersion = currentVersion;\n    } \n \n    @Override \n    public boolean equals(Object o) {\n        if (o instanceof IntegerVersionSignature) {\n            IntegerVersionSignature other = (IntegerVersionSignature) o;\n            return currentVersion = other.currentVersion;\n        } \n        return false; \n    } \n \n    @Override \n    public int hashCode() { \n        return currentVersion;\n    } \n \n    @Override \n    public void updateDiskCacheKey(MessageDigest md) {\n        messageDigest.update(ByteBuffer.allocate(Integer.SIZE).putInt(signature).array());\n    } \n} \n```\nè¯·ç‰¢è®°ï¼šä¸ºäº†é¿å…æ€§èƒ½ä¸‹é™ï¼Œè¯·åœ¨åå°çº¿ç¨‹ä¸­æ‰¹é‡åŠ è½½ç‰ˆæœ¬å…ƒæ•°æ®(metaDataï¼Œæ³¨ï¼šä¸€èˆ¬æŸ¥è¯¢æ•°æ®åº“è·å¾—)ï¼Œåªæœ‰è¿™æ ·ï¼Œæ‰èƒ½ç¡®ä¿å½“ä½ æƒ³åŠ è½½å›¾ç‰‡çš„æ—¶å€™ï¼Œè¿™äº›å€¼æ˜¯å¯ç”¨çš„ã€‚\n\nå¦‚æœè¿™äº›æ–¹æ³•éƒ½å¤±è´¥äº†ï¼Œæ¯”å¦‚ï¼Œä½ ä¸èƒ½æ”¹å˜æ ‡è¯†ç¬¦ï¼Œä¹Ÿä¸èƒ½è·Ÿè¸ªä¸€ä¸ªåˆç†çš„ç‰ˆæœ¬å·ã€‚ä½ è¿˜å¯ä»¥ä½¿ç”¨`diskCacheStrategy()`å’Œ`DiskCacheStrategy.NONE.`æ¥å®Œå…¨å…³é—­ç£ç›˜ç¼“å­˜ã€‚\n\n---------\n\n## é…ç½®\n\n### æ‡’åŠ è½½é…ç½®\nä»Glide3.5å¼€å§‹ï¼Œä½ å¯ä»¥ä½¿ç”¨`GlideModule`æ¥å£æ¥æ‡’åŠ è½½é…ç½®Glideä»¥åŠæ³¨å†Œç»„ä»¶ï¼ˆå¦‚`ModelLoaders`)ï¼Œè¿™äº›é…ç½®å°†ä¼šåœ¨ç¬¬ä¸€ä¸ªGlideè¯·æ±‚å‘èµ·çš„æ—¶å€™è¢«è°ƒç”¨ã€‚\n\n### åˆ›å»ºä¸€ä¸ªGlideModule\nä¸ºäº†ä½¿ç”¨å’Œæ³¨å†ŒGlideModuleï¼Œé¦–å…ˆéœ€è¦å®ç°è¯¥æ¥å£ï¼ŒåŠ å…¥ä½ çš„é…ç½®å’Œç»„ä»¶ã€‚\n\n```java\npackage com.mypackage; \n \npublic class MyGlideModule implements GlideModule { \n    @Override public void applyOptions(Context context, GlideBuilder builder) {\n        // Apply options to the builder here. \n    } \n \n    @Override public void registerComponents(Context context, Glide glide) {\n        // register ModelLoaders here. \n    } \n} \n```\n\nç„¶åï¼Œæ·»åŠ ä½ çš„å®ç°ç±»åˆ°`proguard.cfg`æ–‡ä»¶ä¸­ï¼Œè®©ä½ çš„moduleå¯ä»¥è¢«åå°„è°ƒç”¨åˆ°ã€‚è¿™ä¸ªæ€§èƒ½å¼€æ”¯å¾ˆå°‘ï¼Œå› ä¸ºæ¯ä¸ªmoduleåªä¼šåœ¨Glideç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™å®ä¾‹åŒ–ä¸€æ¬¡ã€‚\n\n```xml\n-keepnames class com.mypackage.MyGlideModule\n# or more generally:\n#-keep public class * implements com.bumptech.glide.module.GlideModule\n```\n\næœ€åï¼Œæ·»åŠ meta-dataæ ‡è®°åˆ°`AndroidManifest.xml`ï¼Œé‚£æ ·Glideæ‰èƒ½æ‰¾åˆ°å®ƒã€‚\n\n```xml\n<manifest ...>\n    <!-- ... permissions -->\n    <application ...>\n        <meta-data\n            android:name=\"com.mypackage.MyGlideModule\"\n            android:value=\"GlideModule\" />\n        <!-- ... activities and other components -->\n    </application>\n</manifest>\n```\n\nä½ å¯ä»¥å®ç°ä»»æ„ä¸ª`GlideModule`ï¼Œä½†æ˜¯æ¯ä¸€ä¸ªéƒ½è¦æ·»åŠ åˆ°`proguard.cfg`ï¼Œè€Œä¸”æ¯ä¸€ä¸ªGlideModuleéƒ½è¦åœ¨manifestæœ‰è‡ªå·±çš„meta-dataæ ‡è®°ã€‚\n\n### Libraryå·¥ç¨‹\nLibraryå·¥ç¨‹å¯èƒ½å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ª`GlideModule`ã€‚å½“æˆ‘ä»¬ä½¿ç”¨Gradleï¼ˆæˆ–è€…ä»»ä½•æ”¯æŒmanifeståˆå¹¶çš„æ„å»ºå·¥å…·ï¼‰æ„å»ºappæ—¶ï¼Œå¦‚æœæˆ‘ä»¬æ‰€ä¾èµ–çš„Libraryå·¥ç¨‹çš„manifestä¸­å«æœ‰moduleï¼Œé‚£ä¹ˆè¿™äº›moduleä¼šè‡ªåŠ¨å¹¶å…¥åˆ°appä¸­ã€‚å¦‚æœæ„å»ºå·¥å…·ä¸æ”¯æŒmanifeståˆå¹¶ï¼Œé‚£ä¹ˆè¿™äº›libraryå·¥ç¨‹ä¸­çš„moduleå¿…é¡»æ‰‹åŠ¨æ·»åŠ åˆ°ä½ appçš„manifestä¸­ã€‚\n\n### GlideModuleå†²çª\nè™½ç„¶Glideå…è®¸æ¯ä¸ªappæ³¨å†Œå¤šä¸ª`Glidemodule`ï¼Œä½†æ˜¯ä¸ä¼šä»¥æŸç§ç‰¹å®šçš„é¡ºåºè°ƒç”¨è¿™äº›moduleã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ çš„appä¸­å¤šä¸ª`GlideModules`æˆ–è€…ä¾èµ–çš„libraryå·¥ç¨‹ä¸­æœ‰å¤šä¸ª`GlideModules`ï¼Œä½ å¿…é¡»è´Ÿè´£é¿å…ä»–ä»¬ä¹‹é—´çš„å†²çªã€‚\nå¦‚æœå†²çªä¸å¯é¿å…ï¼Œappåº”è¯¥å®šä¹‰è‡ªå·±çš„é»˜è®¤moduleï¼Œè¿™ä¸ªmoduleéœ€è¦æ‰‹åŠ¨è§£å†³è¿™äº›å†²çªï¼Œæä¾›æ‰€æœ‰Libraryå·¥ç¨‹æ‰€éœ€è¦çš„ä¾èµ–ã€‚ä½¿ç”¨Gradleçš„å¼€å‘è€…ï¼Œæˆ–è€…ä½¿ç”¨manifeståˆå¹¶çš„å¼€å‘è€…ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ ‡ç­¾æ¥æ’é™¤å†²çªçš„moduleã€‚\n\n```xml\n<meta-data android:name=â€com.mypackage.MyGlideModuleâ€ tools:node=â€removeâ€ />\n```\n\n### å…¨å±€é…ç½®\nä½ å¯ä»¥é…ç½®ä¸€äº›ä½œç”¨äºæ‰€æœ‰è¯·æ±‚çš„å…¨å±€æ€§é…ç½®é¡¹ã€‚è¯·ä½¿ç”¨`GlideModule#applyOptions`æ–¹æ³•ä¸­ï¼ˆæ³¨ï¼šä½œä¸ºå‚æ•°ï¼‰æä¾›ç»™ä½ çš„`GlideBuilder`æ¥é…ç½®ã€‚æœ¬èŠ‚ä»£ç ç¤ºä¾‹ä¸­çš„`builder`å°±æ˜¯ä¸€ä¸ªGlideModuleå¯¹è±¡ã€‚\n\n### ç£ç›˜ç¼“å­˜\nä½ å¯ä»¥ä½¿ç”¨`GlideBuilder`çš„`setDiskCache()`æ–¹æ³•è®¾ç½®ç£ç›˜ç¼“å­˜çš„ä½ç½®ã€å¤§å°ï¼ˆæœ€å¤§å€¼ï¼‰ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨`DiskCacheAdapter`å½»åº•å…³é—­ç¼“å­˜ï¼Œæˆ–è€…è‡ªå·±å®ç°`DiskCache`æ¥å£æ¥æ¢æ‰é»˜è®¤å®ç°ã€‚ç£ç›˜ç¼“å­˜ç”±`DiskCache.Factory`æ¥å£çš„å®ä¾‹åœ¨åå°çº¿ç¨‹ä¸­åˆ›å»ºï¼Œä½¿ç”¨åå°çº¿ç¨‹å¯ä»¥é¿å…åœ¨ä¸¥æ ¼æ¨¡å¼ä¸­å‡ºç°é—®é¢˜ã€‚\nGlideé»˜è®¤ä½¿ç”¨`InternalCacheDiskCacheFactory`ç±»å»ºç«‹ç£ç›˜ç¼“å­˜ã€‚è¿™ä¸ªå†…éƒ¨ç¼“å­˜å·¥å‚ï¼ˆinternal cache factoryï¼‰ä¼šæŠŠç£ç›˜ç¼“å­˜æ”¾åˆ°åº”ç”¨ç¨‹åºçš„å†…éƒ¨ç¼“å­˜ç›®å½•ä¸­ï¼Œå¹¶ä¸”è®¾ç½®æœ€å¤§ç©ºé—´æ˜¯250MBï¼Œä½¿ç”¨å†…éƒ¨ç¼“å­˜çš„ç›®å½•è€Œä¸æ˜¯SDå¡çš„å¤–éƒ¨ç›®å½•æ„å‘³ç€å…¶ä»–åº”ç”¨ç¨‹åºæ— æ³•è®¿é—®åˆ°ä½ ä¸‹è½½çš„å›¾ç‰‡ã€‚å…·ä½“è¯·æŸ¥çœ‹Androidçš„[å­˜å‚¨é€‰é¡¹ç›¸å…³æ–‡æ¡£](http://developer.android.com/intl/zh-cn/guide/topics/data/data-storage.html#filesInternal)ã€‚\n\n#### å¤§å°\nä½¿ç”¨`InternalCacheDiskCacheFactory`è®¾ç½®ç£ç›˜ç¼“å­˜å¤§å°\n\n```java\nbuilder.setDiskCache(\n  new InternalCacheDiskCacheFactory(context, yourSizeInBytes));\n```\n\n#### ä½ç½®\nä¹Ÿå¯ä»¥è®¾ç½®ç£ç›˜ç¼“å­˜ä½ç½®\nä½ å¯ä»¥ä½¿ç”¨`InternalCacheDiskCacheFactory `æ¥æŠŠä½ çš„ç£ç›˜ç¼“å­˜æ”¾åˆ°åº”ç”¨ç¨‹åºç§æœ‰çš„å†…éƒ¨å­˜å‚¨ç›®å½•ä¸­ï¼š\n\n```java\nbuilder.setDiskCache(\n  new InternalCacheDiskCacheFactory(context, cacheDirectoryName, yourSizeInBytes));\n```\nè¿˜å¯ä»¥ç”¨`ExternalCacheDiskCacheFactory `æ¥æŠŠä½ çš„ç£ç›˜ç¼“å­˜æ”¾åˆ°sdå¡çš„å…¬å…±ç¼“å­˜ç›®å½•ä¸Šã€‚\n\n```java\nbuilder.setDiskCache(\n  new ExternalCacheDiskCacheFactory(context, cacheDirectoryName, yourSizeInBytes));\n```\nå¦‚æœä½ æƒ³ç”¨å…¶ä»–è‡ªå®šä¹‰çš„è·¯å¾„ï¼Œå¯ä»¥ç”¨`DiskLruCacheFactory`ç±»çš„æ„é€ å‡½æ•°æ¥å®ç°ã€‚\n\n```java\n// If you can figure out the folder without I/O: \n// Calling Context and Environment class methods usually do I/O. \nbuilder.setDiskCache( \n  new DiskLruCacheFactory(getMyCacheLocationWithoutIO(), yourSizeInBytes)); \n \n// In case you want to specify a cache folder (\"glide\"): \nbuilder.setDiskCache( \n  new DiskLruCacheFactory(getMyCacheLocationWithoutIO(), \"glide\", yourSizeInBytes)); \n \n// In case you need to query the file system while determining the folder: \nbuilder.setDiskCache(new DiskLruCacheFactory(new CacheDirectoryGetter() { \n    @Override public File getCacheDirectory() {\n        return getMyCacheLocationBlockingIO(); \n    } \n}), yourSizeInBytes); \n```\næ³¨æ„ï¼šè¯·ç‰¢è®°ï¼Œå†™æ­»ä»»ä½•å€¼éƒ½ä¸æ˜¯ä¸ªå¥½ä¸»æ„ï¼Œå°¤å…¶æ˜¯ç›®å½•çš„è·¯å¾„ï¼Œå› ä¸ºè‡ªAndroid4.2å¼€å§‹ï¼Œæ”¯æŒå•è®¾å¤‡å¤šç”¨æˆ·ã€‚\n\nå¦‚æœä½ æƒ³å®Œå…¨æ§åˆ¶ç¼“å­˜çš„åˆ›å»ºï¼Œå¯ä»¥è‡ªå·±å®ç°`DiskCache.Factory `æ¥å£ï¼Œä½¿ç”¨`DiskLruCacheWrapper`å¯ä»¥åœ¨ä½ æƒ³è¦çš„ä½ç½®åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å­˜ã€‚\n\n```java\nbuilder.setDiskCache(new DiskCache.Factory() { \n    @Override public DiskCache build() { \n        File cacheLocation = getMyCacheLocationBlockingIO();\n        cacheLocation.mkdirs();\n        return DiskLruCacheWrapper.get(cacheLocation, yourSizeInBytes);\n    } \n}); \n```\n\n### å†…å­˜ç¼“å­˜å’Œç¼“å­˜æ± \n`GlideBuilder`ç±»å…è®¸ä½ è®¾ç½®å†…å­˜ç¼“å­˜å¤§å°ï¼Œè€Œä¸”å¯ä»¥å®ç°è‡ªå®šä¹‰çš„`MemoryCache`å’Œ`BitmapPool`ã€‚\n\n#### å¤§å°\né»˜è®¤å¤§å°æ˜¯ç”±`MemorySizeCalculator`ç±»å†³å®šçš„ã€‚MemorySizeCalculatorç±»ä¼šè€ƒè™‘è¯¥è®¾å¤‡çš„å±å¹•å¤§å°ã€å¯ç”¨å†…å­˜æ¥è®¡ç®—å‡ºä¸€ä¸ªåˆç†çš„é»˜è®¤å€¼ã€‚å¦‚æœä½ æƒ³è°ƒæ•´è¿™ä¸ªé»˜è®¤å€¼ï¼Œè¯·æ„å»ºè‡ªå·±çš„å®ä¾‹ã€‚\n\n```java\nMemorySizeCalculator calculator = new MemorySizeCalculator(context);\nint defaultMemoryCacheSize = calculator.getMemoryCacheSize();\nint defaultBitmapPoolSize = calculator.getBitmapPoolSize();\n```\nå¦‚æœä½ æƒ³åœ¨åº”ç”¨çš„æŸä¸ªé˜¶æ®µåŠ¨æ€è°ƒæ•´Glideçš„å†…å­˜å ç”¨ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€ä¸ª`MemoryCategory`å¹¶ä½¿ç”¨`setMemoryCategory()`æ–¹æ³•ä¼ å…¥Glideä¸­ï¼š\n\n```java\nGlide.get(context).setMemoryCategory(MemoryCategory.HIGH);\n```\n\n#### å†…å­˜ç¼“å­˜\nGlideçš„å†…å­˜ç¼“å­˜ä¼šåœ¨å†…å­˜ä¸­æŒæœ‰èµ„æºï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä¸è¿›è¡ŒIOæ“ä½œè€Œå¿«é€Ÿè·å¾—å¯ç”¨èµ„æºã€‚\nä½ å¯ä»¥ä½¿ç”¨`GlideBuilder`çš„`setMemoryCache()`æ–¹æ³•è®¾ç½®å¤§å°ï¼Œæˆ–è€…è®¾ç½®ä½ å…³äºå†…å­˜ç¼“å­˜çš„è‡ªå®šä¹‰å®ç°ï¼ˆè‡ªå®šä¹‰ç±»ï¼‰ã€‚`LruResourceCache`ç±»æ˜¯Glideçš„é»˜è®¤å®ç°ã€‚ä½ å¯ä»¥é€šè¿‡`LruResourceCache`çš„æ„é€ å‡½æ•°æ¥é…ç½®å†…å­˜å ç”¨çš„bytesçš„æœ€å¤§å€¼ã€‚\n\n```java\nbuilder.setMemoryCache(new LruResourceCache(yourSizeInBytes));\n```\n\n#### Bitmapæ± \nGlideçš„Bitmapæ± ä¸»è¦ä½œç”¨æ˜¯ï¼Œå¯ä»¥è®©å„ç§å°ºå¯¸çš„Bitmapè¢«å¤ç”¨ï¼Œå¯ä»¥å¯è§‚åœ°å‡å°‘ç”±åƒåœ¾å›æ”¶å¼•èµ·çš„å†…å­˜æŠ–åŠ¨ã€‚åœ¨è§£ç å›¾ç‰‡æ—¶ï¼Œéœ€è¦ç»™åƒç´ æ•°ç»„åˆ†é…ç©ºé—´ï¼Œè¿™ä¼šè§¦å‘åƒåœ¾å›æ”¶ã€‚\nä½ å¯ä»¥ä½¿ç”¨`GlideBuilder`çš„`setBitmapPool()`æ–¹æ³•è®¾ç½®å¤§å°ï¼Œæˆ–è€…è®¾ç½®ä½ å…³äºBitmapæ± çš„è‡ªå®šä¹‰å®ç°ï¼Œ`LruBitmapPool`ç±»æ˜¯Glideçš„é»˜è®¤å®ç°ã€‚LruBitmapPoolç±»ä½¿ç”¨äº†LRUç®—æ³•ç»´æŠ¤æœ€è¿‘æœ€å¸¸ä½¿ç”¨çš„Bitmapçš„å°ºå¯¸ã€‚ä½ å¯ä»¥é€šè¿‡`LruBitmapPool`çš„æ„é€ å‡½æ•°é…ç½®å†…å­˜å ç”¨çš„bytesçš„æœ€å¤§å€¼ã€‚\n\n```java\nbuilder.setBitmapPool(new LruBitmapPool(sizeInBytes));\n```\n\n### Bitmapæ ¼å¼\n`GlideBuilder` ç±»ä¹Ÿå…è®¸ä½ é…ç½®ä¸€ä¸ªAppå…¨å±€ä½¿ç”¨çš„Bitmapçš„Configå±æ€§ã€‚\nGlideé»˜è®¤ä½¿ç”¨RGB_565ï¼Œå› ä¸ºå®ƒæ¯ä¸ªåƒç´ åªéœ€è¦2bytesï¼ˆ16bitï¼‰çš„ç©ºé—´ï¼Œå®ƒä»…éœ€è¦é«˜è´¨é‡å›¾ç‰‡ï¼ˆæ—¢ç³»ç»Ÿé»˜è®¤çš„`ARGB_8888 `ï¼‰ä¸€åŠçš„å†…å­˜ç©ºé—´ã€‚ä½†æ˜¯ï¼Œè¿™å¯¹äºæŸäº›å›¾ç‰‡è¿™å¯èƒ½ä¼šå‡ºç°ã€æ¡å¸¦ã€çš„é—®é¢˜ï¼Œè€Œä¸”å®ƒä¹Ÿä¸æ”¯æŒé€æ˜åº¦ã€‚\nå¦‚æœåœ¨ä½ çš„åº”ç”¨ä¸­ã€æ¡å¸¦ã€æ˜¯ä¸€ä¸ªé‡è¦çš„é—®é¢˜ï¼Œæˆ–è€…ä½ éœ€è¦å°½å¯èƒ½å¥½çš„å›¾ç‰‡è´¨é‡ï¼Œä½ å¯ä»¥ä½¿ç”¨`GlideBuilder`çš„`setDecodeFormat`æ–¹æ³•è®¾ç½®DecodeFormat.ALWAYS_ARGB_8888ä½œä¸ºé¦–é€‰é…ç½®ã€‚\n\n```java\nbuilder.setDecodeFormat(DecodeFormat.ALWAYS_ARGB_8888);\n```\n\n---------\n\n## è‡ªå®šä¹‰ç›®æ ‡ï¼ˆTargetsï¼‰\né™¤äº†å¯ä»¥åŠ è½½å›¾åƒï¼Œè§†é¢‘å‰§ç…§ï¼ŒgifåŠ¨ç”»åˆ°Viewä¸­ï¼Œä½ è¿˜å¯ä»¥åŠ è½½ä»–ä»¬åˆ°å®ç°äº†Targetæ¥å£çš„è‡ªå®šä¹‰ç›®æ ‡ä¸­ã€‚\n\n### SimpleTarget\nå¦‚æœä½ åªæ˜¯æƒ³åŠ è½½ä¸€ä¸ªBitmapï¼Œå¹¶ä¸æƒ³ç›´æ¥å±•ç¤ºç»™ç”¨æˆ·è€Œæ˜¯æœ‰ä¸€äº›ç‰¹æ®Šç”¨é€”ï¼Œæ¯”å¦‚åœ¨é€šçŸ¥æ ä¸­æ˜¾ç¤ºæˆ–è€…ä½œä¸ºå¤´åƒä¸Šä¼ ã€‚\nGlideä¹Ÿå¯ä»¥åšåˆ°ã€‚\nSimpleTargetä¸ºTargetæ¥å£æä¾›äº†å¤§éƒ¨åˆ†çš„é»˜è®¤å®ç°ã€‚ä½ å¯ä»¥ä¸“æ³¨äºå¤„ç†åŠ è½½çš„ç»“æœã€‚\nä¸ºäº†ä½¿ç”¨SimpleTargetï¼Œä½ éœ€è¦åœ¨å®ƒçš„æ„é€ å‡½æ•°ä¸­æä¾›ä½ è¦åŠ è½½çš„èµ„æºçš„å®½å’Œé«˜ï¼ˆå•ä½åƒç´ ï¼‰ï¼Œä½ è¿˜éœ€è¦å®ç°` onResourceReady(T resource, GlideAnimation animation)`æ–¹æ³•ã€‚\nä¸€ä¸ªå…¸å‹çš„ä½¿ç”¨SimpleTargetçš„ä¾‹å­å¦‚ä¸‹ï¼š\n\n```java\nint myWidth = 512;\nint myHeight = 384;\n \nGlide.with(yourApplicationContext)) \n    .load(youUrl) \n    .asBitmap() \n    .into(new SimpleTarget<Bitmap>(myWidth, myHeight) {\n        @Override \n        public void onResourceReady(Bitmap bitmap, GlideAnimation anim) {\n            // Do something with bitmap here. \n        } \n    }; \n```\n\n#### ä¸€äº›è­¦å‘Š\næ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ åŠ è½½ä¸€ä¸ªèµ„æºä¼šæŠŠä»–ä»¬æ”¾åˆ°viewä¸­ã€‚å½“ä½ çš„Activityæˆ–è€…Fragmentè¢«pauseæˆ–è€…destroyæ—¶ï¼ŒGlideä¼šæš‚åœæˆ–å–æ¶ˆåŠ è½½ï¼Œç¡®ä¿ä½ ä¸ä¼šåŠ è½½é‚£äº›æ ¹æœ¬ä¸ä¼šæ˜¾ç¤ºçš„èµ„æºã€‚\nå¯æ˜¯å½“æˆ‘ä»¬ä½¿ç”¨SimpleTargetçš„æ—¶å€™ï¼Œè¿™å¯èƒ½å¹¶ä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çš„è¡Œä¸ºã€‚æ‰€ä»¥ï¼Œå½“ä½ è°ƒç”¨`Glide.with(context)`çš„æ—¶å€™ï¼Œä½ å¯ä»¥ä¼ å…¥Applicationçš„contextï¼Œè€Œä¸æ˜¯ä¼ å…¥Activityæˆ–è€…Fragmentã€‚\næ­¤å¤–ï¼Œè€ƒè™‘åˆ°é•¿æ—¶é—´çš„åŠ è½½æ“ä½œå¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œè¯·è€ƒè™‘ä½¿ç”¨é™æ€å†…éƒ¨ç±»ï¼Œè€Œä¸æ˜¯åŒ¿åå†…éƒ¨ç±»ã€‚\n\n### ViewTarget\nå¦‚æœä½ æƒ³åŠ è½½ä¸€ä¸ªå›¾ç‰‡åˆ°Viewä¸­ï¼Œä½†æ˜¯ä½ æƒ³è§‚å¯Ÿæˆ–è€…è¦†ç›–Glideçš„é»˜è®¤è¡Œä¸ºã€‚ä½ å¯ä»¥è¦†ç›–ViewTargetæˆ–è€…å®ƒçš„å­ç±»ã€‚\nå½“ä½ æƒ³è®©Glideæ¥è·å–viewçš„çš„å¤§å°ï¼Œä½†æ˜¯ç”±è‡ªå·±æ¥å¯åŠ¨åŠ¨ç”»å’Œè®¾ç½®èµ„æºåˆ°viewä¸­ï¼ŒViewTargetæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚å¦‚æœä½ è¦åŠ è½½ä¸€ä¸ªå›¾ç‰‡åˆ°ImageViewä¹‹å¤–çš„è‡ªå®šä¹‰viewä¸­ï¼Œé‚£ä¹ˆImageViewTargetæˆ–è€…å®ƒçš„å­ç±»å°±ä¸èƒ½æ»¡è¶³ä½ çš„è¦æ±‚ï¼Œæ­¤æ—¶ç»§æ‰¿ViewTargetå°±ç‰¹åˆ«åˆé€‚ã€‚\nä½ å¯ä»¥é™æ€çš„å®šä¹‰ä¸€ä¸ªViewTargetçš„å­ç±»ï¼Œæˆ–è€…ä¼ é€’ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»åˆ°ä½ çš„åŠ è½½è°ƒç”¨é‡Œï¼š\n\n```java\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .into(new ViewTarget<YourViewClass, GlideDrawable>(yourViewObject) {\n        @Override\n        public void onResourceReady(GlideDrawable resource, GlideAnimation anim) {\n            YourViewClass myView = this.view;\n            // Set your resource on myView and/or start your animation here.\n        }\n    });\n```\næ³¨æ„ï¼Œå¦‚æœä½ æƒ³æŒ‡å®šåŠ è½½Bitmapè¿˜æ˜¯GifDrawableï¼Œè¯·åœ¨`.load(yourUrl)`è°ƒç”¨åé¢ç›´æ¥æ·»åŠ `.asBitmap()`æˆ–è€…`.asGif()`ï¼ŒåŒæ—¶å°†ViewTargetçš„ç±»å‹å‚æ•°`GlideDrawable`æ¢æˆå¯¹åº”åŠ è½½çš„ç±»å‹ã€‚\nä¸ºäº†æ›´å¤šæ§åˆ¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨Targetå®ç°`LifecycleListener`å›è°ƒï¼Œ`onStart()`ã€`onStop()`æˆ–è€…`onDestroy()`ä¼šå’Œä½ viewæ‰€åœ¨çš„fragmentçš„ç”Ÿå‘½å‘¨æœŸä¿æŒåŒæ­¥ã€‚\n\n### è¦†ç›–é»˜è®¤è¡Œä¸º\nå¦‚æœä½ åªæƒ³è§‚å¯Ÿä¸æƒ³ä¿®æ”¹Glideçš„é»˜è®¤è¡Œä¸ºï¼Œä½ å¯ä»¥ç»§æ‰¿ä»»ä½•ä¸€ä¸ªGlideå¯¹ImageViewTargetsçš„é»˜è®¤å®ç°ã€‚\n\n* GlideDrawableImageViewTarget - é»˜è®¤çš„Targetï¼Œç”¨äºæ­£å¸¸çš„åŠ è½½å’Œ`asGif()`ã€‚\n* BitmapImageViewTarget - å½“ä½¿ç”¨`asBitmap()`åŠ è½½æ—¶ï¼Œä½¿ç”¨çš„é»˜è®¤Targetã€‚\n\nåªæœ‰ä½ åœ¨æ¯ä¸ªæ–¹æ³•é‡Œé¢è°ƒç”¨`super()`ï¼Œå°†ä¼šä¿ç•™é»˜è®¤çš„è¡Œä¸ºï¼ŒåŒæ—¶è¿˜å¯ä»¥æ·»åŠ ä¸€äº›ä½ å¸Œæœ›çš„åŠŸèƒ½ã€‚\n\nä¾‹å¦‚ï¼Œæƒ³è¦ç”Ÿæˆä¸€ä¸ª[è°ƒè‰²æ¿](http://chris.banes.me/2014/07/04/palette-preview/)ï¼Œä½ å¯ä»¥è¿™æ ·åšã€‚\n\n```java\nGlide.with(yourFragment) \n    .load(yourUrl) \n    .asBitmap() \n    .into(new BitmapImageViewTarget(yourImageView)) { \n        @Override \n        public void onResourceReady(Bitmap bitmap, GlideAnimation anim) {\n            super.onResourceReady(bitmap, anim);\n            Palette.generateAsync(bitmap, new Palette.PaletteAsyncListener() {  \n                @Override \n                public void onGenerated(Palette palette) {\n                    // Here's your generated palette \n                } \n            }); \n        } \n    }); \n```\nè™½ç„¶è¿™ä¸ªä¾‹å­è¿˜ä¸é”™ï¼Œä½†æ˜¯ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä¸æ¨èç”¨è¿™ä¸ªæ–¹å¼ç”Ÿæˆè°ƒè‰²æ¿ã€‚è¯·æŸ¥çœ‹Glideçš„ `ResourceTranscoder` æ¥å£å’Œ`.transcode()`æ–¹æ³•ï¼Œè€ƒè™‘è¿”å›ä¸€ä¸ªåŒ…å«Bitmapå’Œè°ƒè‰²æ¿çš„è‡ªå®šä¹‰èµ„æºã€‚è°ƒè‰²æ¿å¯åœ¨åœ¨åå°çº¿ç¨‹ç”Ÿæˆã€‚ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿæ›´å¤šå†…å®¹ä¼šåœ¨ä»¥åæ¨å‡ºã€‚ã€‚ã€‚\n\n---------\n\n## è°ƒè¯•å’Œé”™è¯¯å¤„ç†\nGlideåœ¨åŠ è½½è¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šæ‰“æ—¥å¿—ã€‚Glideä¸ºä½ æä¾›äº†ä¸¤ç§æ–¹å¼æŸ¥çœ‹å’Œå¤„ç†è¿™äº›å¼‚å¸¸ã€‚\n\n### è°ƒè¯•\nä»…ä»…ä¸ºäº†æŸ¥çœ‹å¼‚å¸¸çš„è¯ï¼Œä½ å¯ä»¥ä¸º`GenericRequest`ç±»æ‰“å¼€Debugæ—¥å¿—ã€‚è¿™ä¸ªç±»å¤„ç†æ‰€æœ‰åª’ä½“èµ„æºçš„åŠ è½½å“åº”ï¼ˆresponseï¼‰ã€‚ä½ å¯ä»¥åœ¨å‘½ä»¤è¡Œé‡Œè¿è¡Œï¼š\n\n```xml\nadb shell setprop log.tag.GenericRequest DEBUG\n```\næƒ³è¦åŒ…æ‹¬è¯¦ç»†çš„è¯·æ±‚æ—¶åºä¿¡æ¯ï¼Œä½ å¯ä»¥æŠŠ`DEBUG`ç¼“å­˜`VERBOSE`ã€‚\n\nå…³é—­æ—¥å¿—ä½¿ç”¨ï¼š\n\n```xml\nadb shell setprop log.tag.GenericRequest ERROR\n```\n\n### è°ƒè¯•[å·¥ä½œæµ](https://docs.google.com/drawings/d/1KyOJkNd5Dlm8_awZpftzW7KtqgNR6GURvuF6RfB210g/edit)\nä¸ºäº†æŸ¥çœ‹å†…éƒ¨å¼•æ“ï¼ˆengineï¼‰å¦‚ä½•ä»¥åŠä½•æ—¶æŸ¥æ‰¾åˆ°èµ„æºï¼Œä½ å¯ä»¥æ‰“å¼€æ—¥å¿—ï¼š\n\n```xml\nadb shell setprop log.tag.Engine VERBOSE\nadb shell setprop log.tag.EngineJob VERBOSE\nadb shell setprop log.tag.DecodeJob VERBOSE\n```\næ‰“å¼€è¿™ä¸ªæœ‰åŠ©äºä½ æ‰¾å‡ºä¸ºä»€ä¹ˆæŸä¸ªèµ„æºæ²¡æœ‰ä»å†…å­˜ç¼“å­˜ä¸­åŠ è½½ï¼Œä¸ºä»€ä¹ˆè¯·æ±‚å†æ¬¡ä»å¤–éƒ¨çš„urlä¸‹è½½æ•°æ®ã€‚è¿™ä¹Ÿå¯ä»¥å¸®åŠ©ä½ äº†è§£ï¼šå¦‚æœæƒ³å‘½ä¸­ç£ç›˜ç¼“å­˜ï¼Œä»€ä¹ˆæ ·çš„å‚æ•°éœ€è¦åŒ¹é…ã€‚å¯ç”¨`DecodeJob`æ—¥å¿—ä¹Ÿå¯ä»¥å¸®åŠ©ä½ å»å®šä½è‡ªå®šä¹‰transformation/decoder/encoderç›¸å…³çš„é—®é¢˜ã€‚\n\n### ç›‘å¬è¯·æ±‚-RequestListener\nè™½ç„¶å¯ç”¨debugæ—¥å¿—å¾ˆç®€å•ï¼Œä½†æ˜¯åªæœ‰åœ¨ä½ å¯ä»¥è¿æ¥åˆ°è®¾å¤‡æ—¶æ‰èƒ½è¿™æ ·å¹²ã€‚ä¸ºäº†æŠŠGlideé›†æˆåˆ°å·²æœ‰çš„æ›´ä¸“ä¸šçš„é”™è¯¯æ—¥å¿—ç³»ç»Ÿã€‚ä½ å¯ä»¥ä½¿ç”¨`RequestListener`ç±»çš„`onException()`ã€‚å½“è¯·æ±‚å¤±è´¥æ—¶ï¼Œè¯¥æ–¹æ³•ä¼šå‘ŠçŸ¥ä½ å¯¼è‡´å¤±è´¥çš„`å¼‚å¸¸`(Exception)ï¼Œå¦‚æœè§£ç å™¨ï¼ˆDecoderï¼‰ä¸èƒ½ä»æ•°æ®ä¸­è§£æå‡ºä»»ä½•æœ‰ç”¨çš„ä¿¡æ¯ï¼ŒExceptionä¹Ÿå¯èƒ½ä¼ `null`ã€‚ä½ å¯ä»¥ä½¿ç”¨`listener()`APIä¼ ä¸€ä¸ªä½ çš„ç›‘å¬å™¨ï¼ˆlistenerï¼‰åˆ°æ¯ä¸€ä¸ªè¯·æ±‚ä¸­ã€‚\nè¯·ç¡®ä¿`onException()`è¿”å›`false`ï¼Œä»¥å…è¦†ç›–äº†Glideçš„é»˜è®¤é”™è¯¯å¤„ç†è¡Œä¸ºï¼ˆä¾‹å¦‚ï¼Œå®ƒé»˜è®¤ä¼šé€šçŸ¥`Target`è¿™ä¸ªerrorï¼‰ã€‚\nè¿™æ˜¯ä¸€ä¸ªå¿«é€Ÿè°ƒè¯•çš„ä¾‹å­ï¼š\n\n```java\n// example usage: .listener(new LoggingListener<String, GlideDrawable>()) \npublic class LoggingListener<T, R> implements RequestListener<T, R> {\n    @Override public boolean onException(Exception e, Object model, Target target, boolean isFirstResource) {\n        android.util.Log.d(\"GLIDE\", String.format(Locale.ROOT,\n                \"onException(%s, %s, %s, %s)\", e, model, target, isFirstResource), e);\n        return false; \n    } \n    @Override public boolean onResourceReady(Object resource, Object model, Target target, boolean isFromMemoryCache, boolean isFirstResource) {\n        android.util.Log.d(\"GLIDE\", String.format(Locale.ROOT,\n                \"onResourceReady(%s, %s, %s, %s, %s)\", resource, model, target, isFromMemoryCache, isFirstResource));\n        return false; \n    } \n} \n```\n**ç¡®ä¿å‘ç‰ˆå‰ç§»é™¤ç›¸å…³ä»£ç **\n\n### æ›´å¤šæ—¥å¿—\nè¿™ä¸ªåˆ—è¡¨æ˜¯ç»™3.6.0ç‰ˆæœ¬ç”¨çš„ï¼Œå¯èƒ½ä¸å®Œæ•´ã€‚\n\n```xml\ncd .../android-sdk/platform-tools\nadb shell setprop log.tag.AnimatedGifEncoder VERBOSE\nadb shell setprop log.tag.AssetUriFetcher VERBOSE\nadb shell setprop log.tag.BitmapEncoder VERBOSE\nadb shell setprop log.tag.BufferedIs VERBOSE\nadb shell setprop log.tag.ByteArrayPool VERBOSE\nadb shell setprop log.tag.CacheLoader VERBOSE\nadb shell setprop log.tag.ContentLengthStream VERBOSE\nadb shell setprop log.tag.DecodeJob VERBOSE\nadb shell setprop log.tag.DiskLruCacheWrapper VERBOSE\nadb shell setprop log.tag.Downsampler VERBOSE\nadb shell setprop log.tag.Engine VERBOSE\nadb shell setprop log.tag.EngineRunnable VERBOSE\nadb shell setprop log.tag.GenericRequest VERBOSE\nadb shell setprop log.tag.GifDecoder VERBOSE\nadb shell setprop log.tag.GifEncoder VERBOSE\nadb shell setprop log.tag.GifHeaderParser VERBOSE\nadb shell setprop log.tag.GifResourceDecoder VERBOSE\nadb shell setprop log.tag.Glide VERBOSE\nadb shell setprop log.tag.ImageHeaderParser VERBOSE\nadb shell setprop log.tag.ImageVideoDecoder VERBOSE\nadb shell setprop log.tag.IVML VERBOSE\nadb shell setprop log.tag.LocalUriFetcher VERBOSE\nadb shell setprop log.tag.LruBitmapPool VERBOSE\nadb shell setprop log.tag.MediaStoreThumbFetcher VERBOSE\nadb shell setprop log.tag.MemorySizeCalculator VERBOSE\nadb shell setprop log.tag.PreFillRunner VERBOSE\nadb shell setprop log.tag.ResourceLoader VERBOSE\nadb shell setprop log.tag.RMRetriever VERBOSE\nadb shell setprop log.tag.StreamEncoder VERBOSE\nadb shell setprop log.tag.TransformationUtils VERBOSE\n```\n\n---------\n\n## ä½¿ç”¨Glideä¸‹è½½è‡ªå®šä¹‰å¤§å°çš„å›¾ç‰‡\nå¼€å‘è€…å¯ä»¥é€šè¿‡Glideçš„ModelLoaderæ¥å£è·å¾—å›¾ç‰‡å¤§å°ï¼Œå¹¶æ ¹æ®è¿™ä¸ªå¤§å°æ¥åŠ è½½ä¸€ä¸ªåˆé€‚å°ºå¯¸çš„å›¾ç‰‡urlã€‚\nä½¿ç”¨åˆé€‚å°ºå¯¸çš„å›¾ç‰‡å¯ä»¥èŠ‚çº¦å¸¦å®½ï¼Œè®¾å¤‡çš„å­˜å‚¨ç©ºé—´ï¼Œè¿˜å¯ä»¥æå‡appæ€§èƒ½ã€‚\n2014å¹´çš„Google I/O appå›¢é˜Ÿå†™äº†ä¸€ç¯‡å…³äºå¦‚ä½•ä½¿ç”¨ModelLoaderæ¥å£è°ƒæ•´åŠ è½½çš„å›¾ç‰‡å¤§å°çš„æ–‡ç« ã€‚è¯·åœ¨GitHubä¸ŠæŸ¥çœ‹ [I/O appçš„æºç ](https://github.com/google/iosched/blob/master/doc/IMAGES.md)ã€‚\nä¸ºäº†å®ç°è‡ªå®šä¹‰çš„ModelLoaderæ¥é€šè¿‡http/httpsä¸‹è½½å›¾ç‰‡ï¼Œå¯ä»¥ç»§æ‰¿BaseGlideUrlLoaderè¿™ä¸ªç±»\n\n```java\npublic interface MyDataModel { \n    public String buildUrl(int width, int height);\n}  \n \npublic class MyUrlLoader extends BaseGlideUrlLoader<MyDataModel> { \n    @Override \n    protected String getUrl(MyDataModel model, int width, int height) {\n        // Construct the url for the correct size here. \n        return model.buildUrl(width, height);\n    } \n} \n```\n\nç„¶åï¼Œä½ å°±å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ModelLoaderæ¥åŠ è½½å›¾ç‰‡äº†ï¼Œå…¶ä»–çš„äº‹æƒ…ä¼šè‡ªåŠ¨å®Œæˆï¼š\n\n```java\nGlide.with(yourFragment)\n    .using(new MyUrlLoader())\n    .load(yourModel)\n    .into(yourView);\n```\n\nå¦‚æœä½ æƒ³é¿å…è°ƒç”¨`.using(new  MyUrlLoader())`ï¼Œä½ å¯ä»¥å®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„`ModelLoaderFactory`ï¼Œå¹¶åœ¨`GlideModule`ä¸­æ³¨å†Œå®ƒã€‚\n\n```java\npublic class MyGlideModule implements GlideModule { \n    ... \n    @Override \n    public void registerComponents(Context context, Glide glide) {\n        glide.register(MyDataModel.class, InputStream.class, \n            new MyUrlLoader.Factory()); \n    } \n} \n```\n\næ³¨å†ŒModelLoaderFactoryä¹‹åï¼Œä½ å°±ä¸ç”¨è°ƒç”¨`.using()`äº†ï¼š\n\n```java\nGlide.with(yourFragment)\n    .load(yourModel)\n    .into(yourView);\n```\n\nå…¶ä»–çš„ä¾‹å­ï¼Œå…³äºå¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰ModelLoaderåŠ è½½å„ç§å°ºå¯¸çš„å›¾ç‰‡ï¼Œè¯·æŸ¥çœ‹[Flickerç¤ºä¾‹åº”ç”¨](https://github.com/bumptech/glide/blob/master/samples/flickr/src/main/java/com/bumptech/glide/samples/flickr/FlickrModelLoader.java)ï¼Œå’Œ[Giphyç¤ºä¾‹åº”ç”¨](https://github.com/bumptech/glide/blob/master/samples/giphy/src/main/java/com/bumptech/glide/samples/giphy/GiphyModelLoader.java)ã€‚\n\n---------\n\n## é›†æˆï¼ˆIntegrationï¼‰åº“-Glideä¸å…¶ä»–åº“æ•´åˆ\n\n### ä»‹ç»\n\n####ä»€ä¹ˆæ˜¯é›†æˆåº“ï¼ˆIntegration Libraryï¼‰\nGlideåŒ…æ‹¬ä¸€ç³»åˆ—å°å·§å¯é…ç½®çš„é›†æˆåº“ï¼Œè¿™äº›åº“å¯ä»¥è®©Glideä¸å¤–éƒ¨çš„åº“ç›¸ç»“åˆã€‚ç°åœ¨é›†æˆåº“å¯ä»¥ä½¿Glideæ”¯æŒVolleyå’ŒOkHttpçš„http/httpsè¯·æ±‚ã€‚\n\næˆ‘ä»¬åšä¿¡ï¼Œæ‚¨æ‰€é€‰æ‹©çš„å®¢æˆ·ç«¯åª’ä½“åº“æ—¢ä¸åº”è¯¥å†³å®šä½ åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„ç½‘ç»œåº“ï¼Œä¹Ÿä¸éœ€è¦ä½ ä»…ä»…ä¸ºäº†åŠ è½½å›¾åƒé¢å¤–æ·»åŠ ç½‘ç»œåº“ã€‚é›†æˆåº“å’ŒGlideçš„ModelLoaderç³»ç»Ÿï¼Œå…è®¸å¼€å‘äººå‘˜å¯¹æ‰€æœ‰ç½‘ç»œè¯·æ±‚ä½¿ç”¨ç»Ÿä¸€çš„ç½‘ç»œåº“ã€‚\n\n#### ä¸ºä»€ä¹ˆæ²¡æœ‰XXXåº“çš„å®ç°\nå› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰ä¸ºè¿™ä¸ªåº“å†™é›†æˆåº“ã€‚OkHttpå’ŒVolleyæ˜¯ååˆ†æµè¡Œçš„åº“ï¼Œè®¸å¤šå¼€å‘è€…éƒ½ä½¿ç”¨ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸æ˜¯æ’æ–¥å…¶ä»–åº“ï¼Œå¦‚æœä½ å†™äº†å…¶ä»–åº“çš„`ModelLoader`å¹¶ä¸”æ‰“ç®—å¼€æºï¼Œæˆ‘ä»¬å¾ˆä¹æ„çœ‹åˆ°è¿™æ ·çš„æäº¤è¯·æ±‚ï¼ˆpull requestï¼‰ã€‚\n\n#### æˆ‘å¦‚ä½•ä¾èµ–ä¸€ä¸ªé›†æˆåº“å‘¢ï¼Ÿ\nä¾èµ–ä»»ä½•çš„é›†æˆåº“éœ€è¦ä¸¤gä¸ªæ­¥éª¤ã€‚\n\n1. æ·»åŠ ç›¸åº”çš„ç»§æ‰¿åº“çš„Maven/Gradle/jarä¾èµ–ï¼Œå› ä¸ºä½œä¸ºå¯é€‰é¡¹çš„é›†æˆåº“å¹¶ä¸åŒ…å«åœ¨glideçš„jarä¾èµ–ä¸­ã€‚\n2. ç¡®ä¿appåŒ…å«äº†é›†æˆåº“çš„GlideModuleï¼Œå…·ä½“å†…å®¹çœ‹[é…ç½®wiki](https://github.com/bumptech/glide/wiki/Configuration)éƒ¨åˆ†ã€‚å¯¹äºGlideé›†æˆåº“çš„å…·ä½“è¯´æ˜è§ä¸‹é¢ã€‚\n\n#### æˆ‘åº”å½“é€‰æ‹©å“ªä¸ªç‰ˆæœ¬ï¼Ÿ\né›†æˆåº“çš„ç‰ˆæœ¬è·Ÿéšç€Glideçš„releaseç‰ˆæœ¬ã€‚ä½†æ˜¯å¤šäº†ä¸€ä¸ªä¸åŒçš„æ•°å­—ã€‚ç¡®ä¿é€‰æ‹©ä¸æ‰€ä¾èµ–çš„Glideå¯¹åº”çš„é›†æˆåº“ã€‚åœ¨[releaseé¡µ](https://github.com/bumptech/glide/releases)æŸ¥çœ‹.\nç½‘ç»œåº“æœ‰è‡ªå·±çš„ç‰ˆæœ¬å·ã€‚ç»§æ‰¿åº“ä¼šä¾èµ–çš„åº“å°±æ˜¯ä½ åœ¨Maven/Gradleä¸­æŒ‡å®šçš„åº“ã€‚ä½ å¯ä»¥é€šè¿‡ç‰ˆæœ¬å·æ¥æŒ‡å®šå…·ä½“ä¾èµ–çš„ç½‘ç»œåº“ã€‚ï¼Ÿï¼Ÿ\n\n### Volley\nVolleyæ˜¯ä¸€ä¸ªHttpåº“ï¼Œå¯ä»¥ä½¿Androidä¸Šçš„ç½‘ç»œè¯·æ±‚æ›´ç®€å•ï¼Œæ›´å¿«é€Ÿã€‚\n\n#### Gradleä¸­ä½¿ç”¨Volley\n\n```java\ndependencies {\n    compile 'com.github.bumptech.glide:volley-integration:1.3.1@aar'\n    //compile 'com.mcxiaoke.volley:library:1.0.8'\n}\n```\né›†æˆåº“çš„`GlideModule`ä¼šè‡ªåŠ¨åˆå¹¶åˆ°ä½ appçš„manifestä¸­ã€‚\n\n#### Mavenä¸­æ˜¯Volley\n\n```xml\n<dependency>\n    <groupId>com.github.bumptech.glide</groupId>\n    <artifactId>volley-integration</artifactId>\n    <version>1.3.1</version>\n    <type>aar</type>\n</dependency>\n<dependency>\n    <groupId>com.mcxiaoke.volley</groupId>\n    <artifactId>library</artifactId>\n    <version>1.0.8</version>\n    <type>aar</type>\n</dependency>\n\n```\nè¯·æŸ¥çœ‹å¯¹åº”çš„manifestç« èŠ‚ï¼Œäº†è§£å¦‚ä½•æ·»åŠ å¯¹åº”çš„GlideModuleã€‚\n\n#### æ‰‹åŠ¨æ·»åŠ Volley\nä»[releaseé¡µ](https://github.com/bumptech/glide/releases)ä¸‹è½½[glide-volley-integration-<version>.jar ](https://github.com/bumptech/glide/releases/download/v3.6.1/glide-volley-integration-1.3.1.jar)ã€‚å¹¶æ·»åŠ åˆ°ä½ appçš„ç¼–è¯‘è·¯å¾„ä¸­(compile classpath)ã€‚\n\nè¯·æŸ¥çœ‹å¯¹åº”çš„manifestç« èŠ‚ï¼Œäº†è§£å¦‚ä½•æ·»åŠ å¯¹åº”çš„GlideModuleã€‚\n\n#### Volleyçš„Manifest\nå¦‚æœä½ ä½¿ç”¨é‚£äº›ä¸æ”¯æŒmanifeståˆå¹¶çš„ç¼–è¯‘ç³»ç»Ÿï¼ˆå¦‚Mavenï¼ŒAntï¼‰ï¼Œä½ å¿…é¡»æ‰‹åŠ¨æ·»åŠ `GlideModule`çš„metadataæ ‡ç­¾åˆ°`AndroidManifest.xml`ä¸­ã€‚\n\n```xml\n<meta-data\n    android:name=\"com.bumptech.glide.integration.volley.VolleyGlideModule\"\n    android:value=\"GlideModule\" />\n```\n\n#### Volleyçš„æ··æ·†è®¾ç½®\næ— è®ºä½¿ç”¨ä»€ä¹ˆç¼–è¯‘ç³»ç»Ÿï¼Œä¸è¦æ··æ·†`VolleyGlideModule`ç±»ï¼Œå®ƒéœ€è¦è¢«åå°„æ¥å®ä¾‹åŒ–ã€‚æ·»åŠ ä¸‹é¢çš„ä»£ç åˆ°`proguard.cfg`æ–‡ä»¶ï¼ˆæˆ–è€…æŸ¥çœ‹â€œé€šç”¨éƒ¨åˆ†â€ï¼‰ã€‚\n\n```java\n-keep class com.bumptech.glide.integration.volley.VolleyGlideModule\n```\n\n### OkHttp\nOKHttpæ˜¯ä¸€ä¸ªé«˜æ•ˆä¸”æ˜“äºä½¿ç”¨çš„Httpå®¢æˆ·ç«¯ã€‚\n\n#### Gradleä¸­ä½¿ç”¨OkHttp\n\n```java\ndependencies {\n    compile 'com.github.bumptech.glide:okhttp-integration:1.3.1@aar'\n    //compile 'com.squareup.okhttp:okhttp:2.2.0'\n}\n```\né›†æˆåº“çš„`GlideModule`ä¼šè‡ªåŠ¨åˆå¹¶åˆ°ä½ appçš„manifestä¸­ã€‚\n\n#### Mavenä¸­æ˜¯OkHttp\n\n```xml\n<dependency>\n    <groupId>com.github.bumptech.glide</groupId>\n    <artifactId>okhttp-integration</artifactId>\n    <version>1.3.1</version>\n    <type>aar</type>\n</dependency>\n<!--\n<dependency>\n    <groupId>com.squareup.okhttp</groupId>\n    <artifactId>okhttp</artifactId>\n    <version>2.2.0</version>\n    <type>jar</type>\n</dependency>\n-->\n\n```\nè¯·æŸ¥çœ‹å¯¹åº”çš„manifestç« èŠ‚ï¼Œäº†è§£å¦‚ä½•æ·»åŠ å¯¹åº”çš„GlideModuleã€‚\n\n#### æ‰‹åŠ¨æ·»åŠ OkHttp\nä»[releaseé¡µ](https://github.com/bumptech/glide/releases)ä¸‹è½½[glide-okhttp-integration-<version>.jar ](https://github.com/bumptech/glide/releases/download/v3.6.1/glide-okhttp-integration-1.3.1.jar)ã€‚å¹¶æ·»åŠ åˆ°ä½ appçš„ç¼–è¯‘è·¯å¾„ä¸­(compile classpath)ã€‚\n\nè¯·æŸ¥çœ‹å¯¹åº”çš„manifestç« èŠ‚ï¼Œäº†è§£å¦‚ä½•æ·»åŠ å¯¹åº”çš„GlideModuleã€‚\n\n#### OkHttpçš„Manifest\nå¦‚æœä½ ä½¿ç”¨é‚£äº›ä¸æ”¯æŒmanifeståˆå¹¶çš„ç¼–è¯‘ç³»ç»Ÿï¼ˆå¦‚Mavenï¼ŒAntï¼‰ï¼Œä½ å¿…é¡»æ‰‹åŠ¨æ·»åŠ `GlideModule`çš„metadataæ ‡ç­¾åˆ°`AndroidManifest.xml`ä¸­ã€‚\n\n```xml\n<meta-data\n    android:name=\"com.bumptech.glide.integration.okhttp.OkHttpGlideModule\"\n    android:value=\"GlideModule\" />\n```\n\n#### OkHttpçš„æ··æ·†è®¾ç½®\næ— è®ºä½¿ç”¨ä»€ä¹ˆç¼–è¯‘ç³»ç»Ÿï¼Œä¸è¦æ··æ·†`OkHttpGlideModule`ç±»ï¼Œå®ƒéœ€è¦è¢«åå°„æ¥å®ä¾‹åŒ–ã€‚æ·»åŠ ä¸‹é¢çš„ä»£ç åˆ°`proguard.cfg`æ–‡ä»¶ï¼ˆæˆ–è€…æŸ¥çœ‹â€œé€šç”¨éƒ¨åˆ†â€ï¼‰ã€‚\n\n```java\n-keep class com.bumptech.glide.integration.okhttp.OkHttpGlideModule\n```\n\n### æ›´å¤šé€‰é¡¹\n\n#### é€šç”¨çš„æ··æ·†é…ç½®\nä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„é…ç½®æ¥é¿å…æ··æ·†æ‰€æœ‰çš„`GlideModule`ã€‚\n\n```java\n-keep public class * implements com.bumptech.glide.module.GlideModule\n```\nè¿™ç§æ–¹å¼æœ‰å…¶ä»–çš„å¥½å¤„ï¼Œå½“ä¿®æ”¹é›†æˆåº“æˆ–è€…è‡ªå®šä¹‰é›†æˆåº“çš„è¡Œä¸ºæ—¶ï¼Œä¸éœ€è¦ä¿®æ”¹ã€‚å½“ä½ æ·»åŠ æˆ–è€…ç§»åŠ¨å…¶ä»–moduleçš„æ—¶å€™ï¼Œä¹Ÿä¸éœ€è¦ä¿®æ”¹ä»€ä¹ˆã€‚\n\n#### è¦†ç›–é»˜è®¤çš„è¡Œä¸º\nå¦‚æœé»˜è®¤é…ç½®æ— æ³•æ»¡è¶³ä½ ï¼Œæ‰€æœ‰çš„é›†æˆåº“è¿˜æœ‰ä¸€äº›é¢å¤–çš„é€‰é¡¹ã€‚æ¯”å¦‚æ·»åŠ é‡è¯•è¡Œä¸ºï¼Œè¯·æŸ¥çœ‹é›†æˆåº“çš„`GlideModule`çš„æºç ï¼ˆä½äº[/integration/<lib>/src/main/java/<package>](https://github.com/bumptech/glide/tree/3.0/integration)ï¼‰äº†è§£é»˜è®¤çš„æ³¨å†Œåšäº†äº›ä»€ä¹ˆã€‚ä½ å¯ä»¥é€šè¿‡åœ¨è‡ªå®šä¹‰çš„`GlideModule`ä¸­ä¿®æ”¹å‚æ•°ä¸º`UrlLoader.Factory`ç±»æ¥æ”¹å˜é»˜è®¤è¡Œä¸ºã€‚\nå½“ä½ è¦è¦†ç›–é»˜è®¤è¡Œä¸ºæ—¶ï¼Œè¯·ç¡®ä¿è‡ªå®šä¹‰çš„`GlideModule`è¢«æ³¨å†Œï¼Œä¸”é»˜è®¤çš„GlideModuleè¢«æ’é™¤åœ¨å¤–ã€‚æ’é™¤GlideModuleå¯èƒ½æ˜¯ä»manifestä¸­ç§»é™¤ç›¸åº”çš„çš„metadataï¼Œæˆ–è€…ä½¿ç”¨jaråŒ…ä¾èµ–ä»£æ›¿aarä¾èµ–ã€‚å…³äº`GlideModule`çš„æ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹[é…ç½®çš„wikié¡µ](https://github.com/bumptech/glide/wiki/Configuration)\\\n\n---------\n\n## åœ¨åå°çº¿ç¨‹ä¸­åŠ è½½å’Œç¼“å­˜\nä¸ºäº†ä½¿åå°åŠ è½½èµ„æºå’Œä¸åª’ä½“äº¤äº’æ›´åŠ å®¹æ˜“ï¼Œé™¤äº†`Glide.with(fragment).load(url).into(view)`è¿™ä¸ªAPIå¤–ï¼ŒGlideè¿˜æä¾›äº†é¢å¤–ä¸¤ä¸ªAPIã€‚\n\n* `downloadOnly(int, int)`\n* `into(int, int)`\n\n### downloadOnlyæ–¹æ³•\nGlideçš„`downloadOnly(int, int)`æ–¹æ³•å…è®¸ä½ æŠŠå›¾ç‰‡bytesä¸‹è½½åˆ°ç£ç›˜ç¼“å­˜ä¸­ï¼Œä»¥ä¾¿ä»¥åè·å–ä½¿ç”¨ã€‚ä½ å¯ä»¥åœ¨UIçº¿ç¨‹å¼‚æ­¥åœ°è°ƒç”¨`downloadOnly()`ï¼Œä¹Ÿå¯ä»¥åœ¨åå°çº¿ç¨‹åŒæ­¥çš„ä½¿ç”¨ã€‚ä½†æ˜¯ï¼Œæ³¨æ„ä»–ä»¬çš„å‚æ•°æœ‰äº›ä¸åŒï¼Œå¼‚æ­¥APIçš„å‚æ•°æ˜¯`Target`ï¼ŒåŒæ­¥apiçš„å‚æ•°æ˜¯å®½å’Œé«˜çš„æ•´æ•°å€¼ã€‚\t\nä¸ºäº†åœ¨åå°çº¿ç¨‹ä¸‹è½½å›¾ç‰‡ï¼Œä½ å¿…é¡»ä½¿ç”¨åŒæ­¥æ–¹æ³•\n\n```java\nFutureTarget<File> future = Glide.with(applicationContext)\n    .load(yourUrl)\n    .downloadOnly(500, 500);\nFile cacheFile = future.get();\n```\nå½“futureè¿”å›æ—¶ï¼Œå›¾ç‰‡çš„bytesæ•°æ®å°±åœ¨ç¼“å­˜ä¸­å¯ç”¨äº†ã€‚ä¸€ç§å…¸å‹çš„æƒ…å†µæ˜¯ï¼Œä½ ä½¿ç”¨`downloadOnly()`APIåªæ˜¯ä¸ºäº†ç¡®ä¿æ•°æ®ä¸‹è½½åˆ°äº†ç£ç›˜ä¸Šã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè™½ç„¶ä½ æœ‰æƒè®¿é—®åº•å±‚çš„ç¼“å­˜æ–‡ä»¶ï¼Œä½†æ˜¯ä½ ä¸éœ€è¦ç›´æ¥å’Œå®ƒäº¤äº’ã€‚\nè€Œæ˜¯ï¼Œå½“ä½ æƒ³è¦è·å–è¿™ä¸ªå›¾ç‰‡æ—¶ï¼Œä½ åªè¦åƒå¹³å¸¸åŠ è½½å›¾ç‰‡æ—¶é‚£æ ·è°ƒç”¨å°±è¡Œï¼Œ**åªæœ‰ä¸€ç‚¹ä¸åŒ**ï¼š\n\n```java\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .diskCacheStrategy(DiskCacheStrategy.ALL)\n    .into(yourView);\n```\né€šè¿‡ä¼ å…¥ `DiskCacheStrategy.ALL`æˆ–è€…`DiskCacheStrategy.SOURCE`ï¼Œç¡®ä¿Glideå¯ä»¥ä½¿ç”¨ä½ é€šè¿‡`downloadOnly()`ä¸‹è½½çš„æ•°æ®ã€‚\n\n### intoæ–¹æ³•\nå¦‚æœä½ æƒ³åœ¨ä¸€ä¸ª**åå°çº¿ç¨‹**ä¸ä¸€å¼ å·²ç»è§£ç çš„å›¾ç‰‡äº¤äº’ã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬çš„`into()`æ–¹æ³•æ¥è¿”å›ä¸€ä¸ª`FutureTarget`ã€‚ä¾‹å¦‚ï¼Œè·å–ä¸€å¼ ä¸­å¿ƒå‰ªè£åçš„500*500åƒç´ çš„å›¾ç‰‡ï¼š\n\n```java\nBitmap myBitmap = Glide.with(applicationContext)\n    .load(yourUrl)\n    .asBitmap()\n    .centerCrop()\n    .into(500, 500)\n    .get()\n```\nè™½ç„¶`into(int, int)`æ–¹æ³•åœ¨åå°çº¿ç¨‹ä¸­å¾ˆæœ‰æ•ˆï¼Œä½†æ˜¯ï¼Œä½ ä¸èƒ½æŠŠå®ƒç”¨åœ¨ä¸»çº¿ç¨‹ä¸­ã€‚å³ä½¿è¿™ä¸ªåŒæ­¥æ–¹æ³•åœ¨ä½ çš„ä¸»çº¿ç¨‹ä¸­ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè°ƒç”¨get()ä¹Ÿä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚ä¼šä½¿ä½ çš„APPæ€§èƒ½å˜å·®ï¼Œååº”è¿Ÿé’ã€‚\n\n---------\n\n## Glideä¸­çš„èµ„æºå¤ç”¨\n\n### ä¸ºä»€ä¹ˆ - èµ„æºå¤ç”¨çš„ä½œç”¨\nGlideé€šè¿‡å¤ç”¨èµ„æºé¿å…ä¸å¿…è¦çš„å†…å­˜åˆ†é…ã€‚Dalvikè™šæ‹Ÿæœºï¼ˆåœ¨Lollipopä¹‹å‰ï¼‰æœ‰ä¸¤ç§åŸºæœ¬çš„åƒåœ¾å›æ”¶æ–¹å¼ï¼Œ`GC_CONCURRENT` å’Œ`GC_FOR_ALLOC`ã€‚æ¯æ¬¡`GC_CONCURRENT`ä¼šé˜»å¡ä¸»çº¿ç¨‹5msã€‚ç”±äºæ¯æ¬¡æ“ä½œçš„æ—¶é—´å°‘äº16msï¼ˆ1å¸§çš„æ—¶é—´ï¼‰ï¼Œ`GC_CONCURRENT`å¹¶ä¸ä¼šå¼•èµ·æ‰å¸§ã€‚ç›¸åçš„æ˜¯`GC_FOR_ALLOC`ï¼Œä»–ä¼šåœæ­¢æ‰€æœ‰æ“ä½œï¼Œé˜»å¡ä¸»çº¿ç¨‹125+msï¼Œäº‹å®ä¸Šï¼ŒGC_FOR_ALLOCæ€»æ˜¯ä¼šè®©ä½ çš„appæ‰å¾ˆå¤šå¸§ã€‚å°¤å…¶æ˜¯åœ¨æ»‘åŠ¨æ—¶ï¼Œå¯¼è‡´æ˜æ˜¾çš„å¡é¡¿ã€‚\nå¾ˆä¸å¹¸ï¼Œå³ä½¿åªæ˜¯åˆ†é…é€‚å½“çš„ç©ºé—´ï¼ˆæ¯”å¦‚16kbçš„bufferï¼‰Dalvikè¡¨ç°çš„ä¹Ÿå¾ˆç³Ÿç³•ã€‚ä¸æ–­çš„å°å†…å­˜åˆ†é…ï¼Œæˆ–è€…ä¸€æ¬¡å¤§çš„å†…å­˜åˆ†é…ï¼ˆæ¯”å¦‚è¯´bitmapï¼‰ï¼Œå°†ä¼šå¼•èµ·GC_FOR_ALLOCã€‚å› æ­¤ï¼Œä½ åˆ†é…å†…å­˜çš„è¶Šå¤šï¼Œä½ ä¼šé‡åˆ°åƒåœ¾å›æ”¶å™¨é˜»å¡åº”ç”¨çš„æƒ…å†µå°±è¶Šå¤šï¼Œåº”ç”¨æ‰å¸§å°±è¶Šä¸¥é‡ã€‚\né€šè¿‡é€‚åº¦å¤ç”¨å¤§å—èµ„æºï¼ŒGlideå¯ä»¥é¿å…å†…å­˜æŠ–åŠ¨ï¼Œå‡å°‘åƒåœ¾å›æ”¶å™¨é˜»å¡appçš„æ¬¡æ•°ã€‚\n\n### æ€ä¹ˆåš - Glideæ˜¯å¦‚ä½•å¤ç”¨èµ„æº\nGlideçš„èµ„æºå¤ç”¨ç­–ç•¥æ¯”è¾ƒå®½æ¾ã€‚è¿™æ„å‘³ç€ï¼Œå½“Glideè®¤ä¸ºè¯¥èµ„æºå¯ä»¥è¢«å®‰å…¨çš„å¤ç”¨æ—¶ï¼Œæ‰æœ‰å‡ ç‡å»å¤ç”¨å®ƒï¼Œå¹¶ä¸éœ€è¦å¼€å‘è€…åœ¨æ¯ä¸ªrequeståé¢å»æ‰‹åŠ¨é‡Šæ”¾èµ„æºã€‚\n\n#### æ ‡å¿—-å“ªäº›èµ„æºå¯å¤ç”¨\nGlideæœ‰ä¸¤ä¸ªç®€å•çš„æ ‡å¿—æ¥è¯†åˆ«å¯å¤ç”¨çš„èµ„æºã€‚\n\n1. `Glide.clear()` \n\n\tåœ¨`View`æˆ–è€…`Target`ä¸Šè°ƒç”¨`clear()`æ–¹æ³•éƒ½è¡¨ç¤ºï¼ŒGlideè¦å–æ¶ˆåŠ è½½ï¼Œå¯ä»¥å®‰å…¨åœ°æŠŠTargetå ç”¨çš„æ‰€æœ‰èµ„æºï¼ˆBitmapï¼Œbytesæ•°ç»„ç­‰ï¼‰æ”¾å…¥èµ„æºæ± ä¸­ï¼ˆpoolï¼‰ã€‚ç”¨æˆ·å¯ä»¥åœ¨ä»»ä½•æ—¶å€™å®‰å…¨åœ°æ‰‹åŠ¨è°ƒç”¨`clear()`æ–¹æ³•ï¼Œä½†æ˜¯å…¸å‹æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿™æ ·åšï¼Œçœ‹ç¬¬äºŒæ¡ã€‚\n\n2. Viewæˆ–è€…Targetçš„å¤ç”¨ \n\n\tå½“ç”¨æˆ·æŠŠå›¾ç‰‡åŠ è½½åˆ°ä¸€ä¸ªå·²ç»å­˜åœ¨çš„Viewæˆ–è€…Targetä¸Šæ—¶ï¼ˆæ³¨ï¼šç¡®åˆ‡çš„è¯´æ˜¯è°ƒç”¨`into(xxx)`æ–¹æ³•ä¹‹åï¼‰ï¼ŒGlideä¼šå…ˆè°ƒç”¨`clear()`æ¸…ç©ºè¯¥View/Targetä¸Šçš„åŠ è½½è¯·æ±‚å¹¶å¤ç”¨å·²ç»æ˜¾ç¤ºè¿‡çš„èµ„æºã€‚å› æ­¤ï¼Œå¦‚æœä½ çš„ListViewæˆ–è€…RecyclerViewä¸­çš„viewä½¿ç”¨äº†å¤ç”¨æœºåˆ¶ï¼ˆæ³¨ï¼šå¦‚ViewHolderï¼‰ï¼Œé‚£ä¹ˆGlideä¼šè‡ªåŠ¨ä¸ºä»–ä»¬ç¼“å­˜èµ„æºå’Œç®¡ç†åŠ è½½è¯·æ±‚ã€‚\n \n#### å¼•ç”¨è®¡æ•°\nå¦‚æœä¸¤ä¸ªè¯·æ±‚æŒ‡å‘åŒä¸€ä¸ªèµ„æºï¼Œä¸ºäº†é¿å…é¢å¤–çš„å·¥ä½œï¼ŒGlideä¼šæŠŠå•ä¸ªèµ„æºåˆ†é…ç»™ä»–ä»¬ã€‚è¿™å°±å¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼Œå½“Glideå¾—çŸ¥æŸä¸ªèµ„æºä¸è¢«æŸä¸ªè°ƒç”¨è€…ä½¿ç”¨ï¼Œè¿™å¹¶ä¸è¡¨ç¤ºå®ƒä¸ä¼šè¢«å…¶ä»–è°ƒç”¨è€…ä½¿ç”¨ã€‚ä¸ºäº†é¿å…å›æ”¶è°ƒä¾æ—§è¢«ä½¿ç”¨çš„èµ„æºï¼ŒGlideä½¿ç”¨å¼•ç”¨è®¡æ•°æ¥è·Ÿè¸ªèµ„æºã€‚\nå½“æŠŠèµ„æºæä¾›ç»™View/Targetæ—¶ï¼Œè¯¥èµ„æºçš„å¼•ç”¨è®¡æ•°åŠ 1ï¼Œå½“æ¸…ç©ºView/Targetæ—¶ï¼Œå¼•ç”¨è®¡æ•°å‡1ã€‚å½“å¼•ç”¨è®¡æ•°ä¸º0æ—¶ï¼ŒGlideä¼šå›æ”¶èµ„æºï¼Œå¹¶æŠŠå®ƒçš„å†…å®¹æ”¾å›å¯ç”¨å†…å­˜æ± ä¸­ã€‚\n\n#### æ”¾å…¥ç¼“å­˜æ± \nGlideçš„Resource APIæœ‰ä¸€ä¸ª`recycle()`æ–¹æ³•ï¼Œå½“Glideè®¤ä¸ºèµ„æºä¸å†è¢«å¼•ç”¨æ—¶ï¼Œä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œèµ„æºä¼šæ”¾å…¥ç¼“å­˜æ± ä¸­ã€‚\n\nGlideæä¾›çš„BitmapPoolæ¥å£å¯ä»¥è®©Resourceè·å–`Bitmap`å’Œå¤ç”¨Bitmapå¯¹è±¡ã€‚Glideçš„BitmapPoolå¯ä»¥é€šè¿‡Glideå•ä¾‹è·å¾—ï¼š\n\n```java\nGlide.get(context).getBitmapPool();\n```\nResourceDecoderå¯ä»¥è¿”å›Resourceçš„ä»»ä½•å®ç°ã€‚æ‰€æœ‰ï¼Œå¼€å‘è€…å¯ä»¥å®ç°ä»–ä»¬è‡ªå·±çš„Resourceå’ŒResourceDecoderæ¥è‡ªå®šä¹‰åœ°ç¼“å­˜ä¸€äº›ç‰¹æœ‰ç±»å‹çš„æ•°æ®ã€‚\nåŒæ ·åœ°ï¼Œå¼€å‘è€…å¦‚æœæƒ³æ›´å¤šåœ°æ§åˆ¶Bitmapç¼“å­˜ï¼Œå¯ä»¥å®ç°è‡ªå·±çš„BitmapPoolï¼Œç„¶åé€šè¿‡GlideModuleé…ç½®åˆ°Glideä¸­ã€‚\n\n### å¸¸è§çš„é”™è¯¯\nä¸å¹¸çš„æ˜¯ï¼Œç¼“å­˜æ± è®¾è®¡ä½¿æˆ‘ä»¬å¾ˆéš¾åˆ¤æ–­å¼€å‘è€…æ˜¯å¦è¯¯ç”¨äº†èµ„æºæˆ–è€…bitmapã€‚ä½†æ˜¯ï¼Œåœ¨Glideä¸­æœ‰ä¸¤ä¸ªä¸»è¦çš„ç°è±¡ä¼šæš—ç¤ºä½ æŸäº›åœ°æ–¹å¯èƒ½å‡ºäº†é—®é¢˜ã€‚\n\n#### ç°è±¡\n\n1. `Cannot draw a recycled Bitmap`\n\n\tGlideæœ‰ä¸ªå›ºå®šå¤§å°çš„Bitmapæ± ã€‚å½“Bitmapä¸å†è¢«å¤ç”¨ï¼ˆæ³¨ï¼šä¸æ˜¯ä½¿ç”¨ï¼ŒåŒºåˆ†ä½¿ç”¨å’Œå¤ç”¨ï¼‰ï¼Œä¼šä»æ± ä¸­ç§»èµ°ã€‚Glideä¼šè°ƒç”¨[`recycle()`](http://developer.android.com/reference/android/graphics/Bitmap.html#recycle())ï¼ˆæ³¨ï¼šæŒ‡çš„æ˜¯BitmapçœŸæ­£çš„recycleï¼Œä¸æ˜¯Resourceç±»çš„recycleï¼‰ã€‚ä½ å‘Šè¯‰Glideæ”¾å¿ƒåœ°å›æ”¶æŸä¸ªBitmapï¼Œä½†æ˜¯ï¼Œä½ çš„åº”ç”¨ä¸å°å¿ƒè¿˜æŒæœ‰è¿™ä¸ªBitmapçš„å¼•ç”¨ï¼Œåº”ç”¨ç¨‹åºå¯èƒ½ä¼šç»˜åˆ¶è¿™ä¸ªBitmapï¼Œå¯¼è‡´å´©æºƒã€‚\n\n2. Viewåœ¨å¤šå¼ å›¾ç‰‡ä¹‹é—´é—ªçƒï¼Œæˆ–è€…åŒæ ·çš„å›¾ç‰‡å‡ºç°åœ¨å¤šä¸ªViewä¸­\n\n\tå¦‚æœä¸€å¼ å›¾ç‰‡è¢«æ”¾å…¥BitmapPoolä¸­å¤šæ¬¡ã€‚æˆ–è€…è™½ç„¶ä¸€å¼ å›¾ç‰‡è¢«æ”¾å…¥äº†poolä¸­ï¼Œä½†æ˜¯æŸä¸ªViewä¾ç„¶æŒæœ‰è¿™ä¸ªå›¾çš„å¼•ç”¨ï¼Œä¸æ­¤åŒæ—¶ï¼Œå¦ä¸€å¼ å›¾ç‰‡è¢«è§£ææˆäº†Bitmapï¼ˆæ³¨ï¼šæ­¤Bitmapæ­£å¥½ç”¨äº†åˆšæ‰é‚£å¼ å›¾ç‰‡çš„æ§ä»¶æ¥å­˜æ”¾è§£æåçš„æ•°æ®ï¼‰ã€‚å¦‚æœå‘ç”Ÿè¿™ç§äº‹æƒ…ï¼ŒBitmapçš„å†…å®¹å°±ä¼šè¢«æ¢æˆäº†æ–°çš„å›¾ç‰‡å†…å®¹ã€‚æ­¤æ—¶ï¼ŒViewä¾ç„¶å°è¯•ç€ç»˜åˆ¶Bitmapï¼Œå¯¼è‡´åŸæ¥çš„Viewä¸­æ˜¾ç¤ºäº†ä¸€å¼ æ–°çš„å›¾ç‰‡ï¼\n\n#### åŸå› \nè¿™äº›é—®é¢˜ä¸»è¦æœ‰ä¸¤ä¸ªåŸå› ï¼š\n\n1. å°è¯•åŠ è½½ä¸¤ä¸ªä¸åŒçš„èµ„æºåˆ°åŒä¸€Targetä¸­\n\n\tåœ¨Glideä¸­ï¼Œæ²¡æœ‰å®‰å…¨çš„æ–¹æ³•æ¥åŠ è½½å¤šä¸ªèµ„æºåˆ°å•ä¸€çš„Targetä¸­ã€‚å¼€å‘è€…å¯ä»¥ä½¿ç”¨`thumbnail()`æ¥åŠ è½½ä¸€ç³»åˆ—èµ„æºåˆ°åˆ°æŸä¸ªTargetä¸­ï¼Œä½†æ˜¯å¯¹äºæ¯ä¸€ä¸ªåŠ è½½çš„èµ„æºæ¥è¯´ï¼Œåªæœ‰åœ¨ä¸‹ä¸€ä¸ª`onResourceReady()`è¢«è°ƒç”¨å‰ï¼Œå®ƒçš„å¼•ç”¨æ‰æ˜¯å®‰å…¨çš„ã€‚\nå¼€å‘è€…å¦‚æœæƒ³åŠ è½½å¤šä¸ªèµ„æºåˆ°åŒä¸€ä¸ªViewä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç‹¬ç«‹çš„Targetã€‚ä¸ºäº†ç¡®ä¿åŠ è½½è¿‡ç¨‹ä¸ç›¸äº’å–æ¶ˆï¼Œå¼€å‘è€…è¦ä¹ˆä¸ä½¿ç”¨ViewTargetçš„å­ç±»ï¼Œè¦ä¹ˆåœ¨ç»§æ‰¿ViewTargetæ—¶ï¼Œå¤å†™`setRequest()` å’Œ `getRequest()`ï¼Œä¸è¦ä½¿ç”¨tagæ¥å­˜å‚¨Requestã€‚ï¼ˆæ³¨ï¼šéœ€è¦ä¸€ä¸ªdemo)\n\n\t**è¯‘è€…æ³¨ï¼šå¯¹äºåŒä¸€ä¸ªviewï¼Œè°ƒç”¨ä¸¤æ¬¡Glide.xxx.into(view)ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨ä¼šå…ˆæ¸…ç©ºç¬¬ä¸€ä¸ªåŠ è½½çš„å›¾ç‰‡ï¼ˆå‡ºç°ç©ºç™½ï¼‰ï¼Œå†å»ä¸‹è½½æ–°çš„å›¾ç‰‡ï¼Œå¦‚æœæƒ³è¦åœ¨ç¬¬äºŒå¼ å›¾ç‰‡ä¸‹è½½ä¸‹æ¥ä¹‹å‰ä¾æ—§æ˜¾ç¤ºä¹‹å‰çš„ï¼Œéœ€è¦ä¸€äº›æŠ€å·§**\n2. åŠ è½½ä¸€ä¸ªèµ„æºæ”¾å…¥åˆ°Targetï¼Œç„¶åæ¸…ç©ºæˆ–è€…å¤ç”¨äº†Targetï¼Œä½†æ˜¯ä¾ç„¶å¼•ç”¨è¿™è¿™ä¸ªèµ„æºã€‚\n\n\tæœ€ç®€å•çš„é¿å…è¿™ä¸ªé”™è¯¯çš„æ–¹æ³•æ˜¯åœ¨`onLoadCleared()`æ–¹æ³•ä¸­æŠŠæ‰€æœ‰å¯¹èµ„æºå¯¹è±¡çš„å¼•ç”¨ç½®nullã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒåŠ è½½ä¸€ä¸ªBitmapï¼Œç„¶åå¼•ç”¨å®ƒçš„Targetæ˜¯å®‰å…¨çš„ã€‚ä¸å®‰å…¨çš„æ˜¯ï¼Œä½ æ¸…ç©ºäº†è¿™ä¸ªTargetï¼Œå´ä¾ç„¶å¼•ç”¨ç€è¿™ä¸ªBitmapã€‚\n\t\n---------\n\t\n## ä½¿ç”¨å¿«ç…§\n\n### å…³äºå¿«ç…§\nå¯¹äºé‚£äº›ä¸æƒ³ç­‰å¾…Glideä¸‹ä¸ªæ­£å¼ç‰ˆæœ¬è€Œæ„¿æ„å°é²œçš„ç”¨æˆ·ï¼Œæˆ‘ä»¬åœ¨[Sonatype](https://travis-ci.org/bumptech/glide)ä¸Šéƒ¨ç½²äº†è¿™ä¸ªåº“çš„å¿«ç…§ã€‚\næ¯ä¸€æ¬¡æˆ‘ä»¬pushä»£ç å¾…GitHubçš„masteråˆ†æ”¯ï¼Œ[travis-ci](https://oss.sonatype.org/content/repositories/snapshots/)ä¼šæ„å»ºGlide.å¦‚æœæ„å»ºæˆåŠŸï¼Œä¼šè‡ªåŠ¨éƒ¨ç½²æœ€æ–°ç‰ˆæœ¬çš„åº“åˆ°Sonatypeä¸Šã€‚\nå’ŒGlideä¸»åº“ä¸€æ ·ï¼Œæ¯ä¸ªIntergrationåº“ä¹Ÿæœ‰è‡ªå·±çš„å¿«ç…§ï¼Œå¦‚æœä½ ä½¿ç”¨å¿«ç…§ç‰ˆæœ¬çš„Glideåº“ï¼Œè¯·ä½¿ç”¨å¿«ç…§ç‰ˆæœ¬çš„Intergrationåº“ï¼Œåä¹‹ä¾ç„¶ã€‚\n\n### è·å–å¿«ç…§\nSonatypeçš„å¿«ç…§åº“å’Œå…¶ä»–çš„mavenåº“ä¸€æ ·ï¼Œæä¾›jarï¼Œmavenï¼Œgradleç­‰ç‰ˆæœ¬ã€‚\n\n#### Jar\nJaråŒ…å¯ä»¥ç›´æ¥ä»Sonatypeä¸Šä¸‹è½½ï¼Œå†æ¬¡æ£€æŸ¥ä¸€ä¸‹æ—¥æœŸï¼Œç¡®ä¿ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬\n\n#### Gradle\nåœ¨ä»“åº“åˆ—è¡¨ä¸­æ·»åŠ å¿«ç…§ä»“åº“\n\n```xml\nrepositories {\n  jcenter()\n  maven {\n    url 'http://oss.sonatype.org/content/repositories/snapshots'\n  }\n}\n```\nç„¶åä¿®æ”¹ä¾èµ–ä¸ºå¿«ç…§ç‰ˆæœ¬\n\n```xml\ndependencies {\n  compile \"com.github.bumptech.glide:glide:3.6.0-SNAPSHOT\"\n  compile \"com.github.bumptech.glide:okhttp-integration:1.3.0-SNAPSHOT\"\n}\n```\n\n#### Maven\nè¿™ç§æ–¹å¼æ²¡æœ‰æµ‹è¯•ï¼Œç›´æ¥ä»[StackOverflow](http://stackoverflow.com/questions/7715321/how-to-download-snapshot-version-from-maven-snapshot-repository)æ‹·è¿‡æ¥çš„ã€‚æ¬¢è¿æ”¹è¿›ä¸‹é¢çš„å†…å®¹ã€‚\næ·»åŠ ä¸‹é¢çš„ä»£ç åˆ°`~/.m2/settings.xml`ä¸­ï¼š\n\n```xml\n<profiles>\n  <profile>\n     <id>allow-snapshots</id>\n     <activation><activeByDefault>true</activeByDefault></activation>\n     <repositories>\n       <repository>\n         <id>snapshots-repo</id>\n         <url>https://oss.sonatype.org/content/repositories/snapshots</url>\n         <releases><enabled>false</enabled></releases>\n         <snapshots><enabled>true</enabled></snapshots>\n       </repository>\n     </repositories>\n   </profile>\n</profiles>\n```\nä¿®æ”¹ä¾èµ–ä¸ºå¿«ç…§ç‰ˆæœ¬\n\n```xml\n<dependency>\n  <groupId>com.github.bumptech.glide</groupId>\n  <artifactId>glide</artifactId>\n  <version>3.6.0-SNAPSHOT</version>\n</dependency>\n<dependency>\n  <groupId>com.github.bumptech.glide</groupId>\n  <artifactId>okhttp-integration</artifactId>\n  <version>1.3.0-SNAPSHOT</version>\n</dependency>\n```\n\n---------\n\n## å›¾å½¢å˜æ¢\n\n### é»˜è®¤çš„å˜æ¢\nGlideåŒ…å«ä¸¤ç§é»˜è®¤çš„å›¾åƒå˜æ¢æ–¹å¼ï¼ŒfitCenterå’ŒcenterCropã€‚å¦‚æœå¼€å‘è€…éœ€è¦å…¶ä»–ç±»å‹çš„å˜æ¢ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è¿™ä¸ªç‹¬ç«‹çš„[å˜æ¢åº“](https://github.com/wasabeef/glide-transformations)ã€‚\n\n#### Fit center\nFitCenterä¼šæŒ‰åŸå§‹æ¯”ä¾‹ç¼©å°å›¾åƒï¼Œä½¿å›¾åƒå¯ä»¥åœ¨æ”¾åœ¨ç»™å®šçš„åŒºåŸŸå†…ã€‚FitCenterä¼šå°½å¯èƒ½å°‘åœ°ç¼©å°å›¾ç‰‡ï¼Œä½¿å®½æˆ–è€…é«˜çš„ä¸€è¾¹ç­‰äºç»™å®šçš„å€¼ã€‚å¦å¤–ä¸€è¾¹ä¼šç­‰äºæˆ–è€…å°äºç»™å®šå€¼ã€‚\nFitCenterå’ŒAndroidä¸­çš„ScaleType.FIT_CENTERæ•ˆæœç›¸åŒã€‚\n#### CenterCrop\nCenterCropä¼šæŒ‰åŸå§‹æ¯”ä¾‹ç¼©å°å›¾åƒï¼Œä½¿å®½æˆ–è€…é«˜çš„ä¸€è¾¹ç­‰äºç»™å®šçš„å€¼ï¼Œå¦å¤–ä¸€è¾¹ä¼šç­‰äºæˆ–è€…å¤§äºç»™å®šå€¼ã€‚CenterCropä¼šè£å‰ªæ‰å¤šä½™éƒ¨åˆ†ã€‚\nCenterCropå’ŒAndroidä¸­çš„ScaleType.CENTER_CROPæ•ˆæœç›¸åŒã€‚\n\n### ä½¿ç”¨\nfit centeræ•ˆæœä½¿ç”¨`.fitCenter()`ï¼š\n\n```java\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .fitCenter()\n    .into(yourView);\n```\ncenter cropæ•ˆæœä½¿ç”¨`.centerCrop()`ï¼š\n\n```java\nGlide.with(yourFragment)\n    .load(yourUrl)\n    . centerCrop()\n    .into(yourView);\n```\nå¦‚æœä½ åªåŠ è½½Bitmapæˆ–è€…Gifï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªå˜æ¢ï¼š\n\n```java\n// For Bitmaps:\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .asBitmap()\n    .centerCrop()\n    .into(yourView);\n\n// For gifs:\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .asGif()\n    .fitCenter()\n    .into(yourView);\n```\nå½“åœ¨ç±»å‹é—´è½¬ç æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿™äº›å˜æ¢ã€‚ä¾‹å¦‚ï¼Œè·å–ä¸€ä¸ªå˜å½¢åçš„jpegå›¾ç‰‡çš„bytesæ•°æ®ï¼š\n\n```java\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .asBitmap()\n    .toBytes()\n    .centerCrop()\n    .into(new SimpleTarget<byte[]>(...) { ... });\n\n```\nè‡ªå®šä¹‰å˜æ¢\né™¤äº†ä¸¤ä¸ªå†…ç½®çš„å˜æ¢ï¼Œä½ è¿˜å¯ä»¥è‡ªå®šä¹‰å˜æ¢ã€‚\næœ€ç®€å•çš„æ–¹å¼æ˜¯ç»§æ‰¿BitmapTransformationã€‚\n\n```java\nprivate static class MyTransformation extends BitmapTransformation { \n \n    public MyTransformation(Context context) {\n       super(context);\n    } \n \n    @Override \n    protected Bitmap transform(BitmapPool pool, Bitmap toTransform, \n            int outWidth, int outHeight) {\n       Bitmap myTransformedBitmap = ... // apply some transformation here. \n       return myTransformedBitmap; \n    } \n \n    @Override \n    public String getId() {\n        // Return some id that uniquely identifies your transformation. \n        return \"com.example.myapp.MyTransformation\"; \n    } \n} \n```\n\nä¹‹åä¸€å°±å¯ä»¥ç”¨åŒæ ·çš„æ–¹å¼ä½¿ç”¨å®ƒã€‚ä½¿ç”¨`.transform(...)`ä»£æ›¿`.fitCenter()`/`.centerCrop()`ã€‚\n\n```java\n// For the default drawable type:\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .transform(new MyTransformation(context))\n    .into(yourView);\n\n// For Bitmaps:\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .asBitmap()\n    .transform(new MyTransformation(context))\n    .into(yourView);\n\n// For Gifs:\nGlide.with(yourFragment)\n    .load(yourUrl)\n    .asGif()\n    .transform(new MyTransformation(context))\n    .into(yourView);\n```\n\n#### è°ƒæ•´å¤§å°\nä½ å¯èƒ½æ³¨æ„åˆ°ä¸Šé¢çš„ä¾‹å­æ²¡æœ‰ä¼ å…¥å…·ä½“çš„å°ºå¯¸ï¼Œé‚£ä¹ˆï¼ŒTransformationä¸­çš„å°ºå¯¸æ˜¯å¦‚ä½•è·å¾—çš„å‘¢ï¼Ÿ\nTransformationä¸­çš„å°ºå¯¸å°±æ˜¯Viewæˆ–è€…Targetçš„å¤§å°ã€‚Glideä¼šæ ¹æ®å¸ƒå±€æ–‡ä»¶ä¸­çš„weightï¼Œmatch_parentæˆ–è€…å…·ä½“å€¼ç®—å‡ºViewçš„å¤§å°ã€‚ï¼Œå½“ä½ æ‹¥æœ‰View/Targetçš„å…·ä½“å¤§å°ï¼Œåˆæ‹¥æœ‰åŸå§‹å›¾ç‰‡çš„å¤§å°æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡å›¾åƒå˜æ¢ç”Ÿæˆä¸€ä¸ªæ­£ç¡®å¤§å°çš„å›¾ç‰‡ã€‚\nå¦‚æœä½ æƒ³æŒ‡å®šView/Targetçš„è‡ªå®šä¹‰å¤§å°ï¼Œå¯ä»¥ä½¿ç”¨`.override(int, int)`æ–¹æ³•ï¼Œå¦‚æœä½ æƒ³åŠ è½½ä¸€ä¸ªå›¾ç‰‡æœ‰å…¶ä»–ç”¨é€”ï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºåœ¨Viewä¸­ï¼Œè¯·æŸ¥çœ‹ã€è‡ªå®šä¹‰Targetã€ç« èŠ‚ã€‚\n\n#### Bitmap å¤ç”¨\nä¸ºäº†å‡å°‘åƒåœ¾å›æ”¶ï¼Œä½ å¯ä»¥è¯´ä½¿ç”¨`BitmapPool`æ¥å£æ¥é‡Šæ”¾ä¸æƒ³è¦çš„Bitmapæˆ–è€…å¤ç”¨å­˜åœ¨çš„Bitmapã€‚ä¸€ä¸ªåœ¨Transformationä¸­å¤ç”¨Bitmapå…¸å‹çš„ä¾‹å­ï¼šä»poolä¸­è·å–Bitmapï¼Œä½¿ç”¨è¯¥Bitmapåˆ›å»ºä¸€ä¸ª`Canvas`ï¼Œç„¶åä½¿ç”¨Matrix/Paint/Shaderæ¥å˜æ¢å›¾åƒå¹¶ç»˜åˆ¶åˆ°Canvasä¸Šã€‚ä¸ºäº†æ­£ç¡®æœ‰æ•ˆåœ°åœ¨Transformationä¸­å¤ç”¨Bitmapä¸­ï¼Œéµå®ˆä¸‹é¢çš„è§„åˆ™ï¼š\n\n1. åœ¨`transform()`ä¸è¦å›æ”¶èµ„æºæˆ–è€…æŠŠBitmapæ”¾å…¥Bitmapæ± ä¸­ï¼Œè¿™äº›æ­¥éª¤ä¼šè‡ªåŠ¨å®Œæˆã€‚\n2. å¦‚æœä½ ä»Bitmapæ± ä¸­è·å–äº†å¤šä¸ªBitmapï¼Œæˆ–è€…æ²¡æœ‰ä½¿ç”¨ä»poolä¸­è·å–åˆ°çš„Bitmapï¼Œç¡®ä¿æŠŠå¤šä½™çš„Bitmapæ”¾å›poolä¸­ã€‚\n3. å¦‚æœä½ çš„Trasformationå¹¶æ²¡æœ‰æ›¿æ¢è°ƒåŸå§‹å›¾ç‰‡ï¼ˆæ¯”å¦‚ï¼Œå›¾ç‰‡å·²ç»æ»¡è¶³ä½ è¦æ±‚çš„å¤§å°ï¼Œç›´æ¥è¿”å›äº†ï¼‰ï¼Œè¯·åœ¨`transform()`æ–¹æ³•ä¸­è¿”å›åŸå§‹çš„èµ„æºæˆ–è€…Bitmapã€‚\n\nä¸€ä¸ªå…¸å‹çš„ç”¨æ³•å¦‚ä¸‹ï¼š\n\n```java\nprotected Bitmap transform(BitmapPool bitmapPool, Bitmap original, int width, int height) {\n    Bitmap result = bitmapPool.get(width, height, Bitmap.Config.ARGB_8888);\n    // If no matching Bitmap is in the pool, get will return null, so we should allocate. \n    if (result == null) {\n        // Use ARGB_8888 since we're going to add alpha to the image. \n        result = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n    } \n    // Create a Canvas backed by the result Bitmap. \n    Canvas canvas = new Canvas(result);\n    Paint paint = new Paint();\n    paint.setAlpha(128);\n    // Draw the original Bitmap onto the result Bitmap with a transformation. \n    canvas.drawBitmap(original, 0, 0, paint);\n    // Since we've replaced our original Bitmap, we return our new Bitmap here. Glide will \n    // will take care of returning our original Bitmap to the BitmapPool for us.  \n    return result;\n} \n```","slug":"Androidå›¾ç‰‡åº“-Glide","published":1,"updated":"2016-02-01T02:21:22.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cilg4yv6w000w0uc9it1lxwkf","sticky":0}],"PostAsset":[],"PostCategory":[{"post_id":"cilg4yv6300060uc9kcrde9w6","category_id":"cilg4yv6800070uc9bhips80e","_id":"cilg4yv6b00080uc9py5u5690"},{"post_id":"cilg4yv6d00090uc98nobv7vb","category_id":"cilg4yv6e000a0uc96jflhsfh","_id":"cilg4yv6g000d0uc9t8409hsl"},{"post_id":"cilg4yv6j000g0uc9dmwulntc","category_id":"cilg4yv6e000a0uc96jflhsfh","_id":"cilg4yv6k000h0uc9r2r7wn0m"},{"post_id":"cilg4yv6n000n0uc9ljtc70xb","category_id":"cilg4yv6e000a0uc96jflhsfh","_id":"cilg4yv6p000o0uc9mf56wts3"},{"post_id":"cilg4yv6t000s0uc95qwtnlls","category_id":"cilg4yv6e000a0uc96jflhsfh","_id":"cilg4yv6u000t0uc9kqm7wphv"},{"post_id":"cilg4yv6w000w0uc9it1lxwkf","category_id":"cilg4yv6e000a0uc96jflhsfh","_id":"cilg4yv6y000x0uc9kqw7u79j"}],"PostTag":[{"post_id":"cilg4yv6d00090uc98nobv7vb","tag_id":"cilg4yv6e000b0uc9oi0skzt3","_id":"cilg4yv6g000e0uc91w6beawc"},{"post_id":"cilg4yv6d00090uc98nobv7vb","tag_id":"cilg4yv6f000c0uc9ueaxz6xo","_id":"cilg4yv6g000f0uc97iqeg366"},{"post_id":"cilg4yv6j000g0uc9dmwulntc","tag_id":"cilg4yv6e000b0uc9oi0skzt3","_id":"cilg4yv6l000k0uc9a17a5kd7"},{"post_id":"cilg4yv6j000g0uc9dmwulntc","tag_id":"cilg4yv6k000i0uc91pgnb5l7","_id":"cilg4yv6l000l0uc9juyib5v8"},{"post_id":"cilg4yv6j000g0uc9dmwulntc","tag_id":"cilg4yv6l000j0uc9sjpul4nl","_id":"cilg4yv6m000m0uc9s772fsee"},{"post_id":"cilg4yv6n000n0uc9ljtc70xb","tag_id":"cilg4yv6e000b0uc9oi0skzt3","_id":"cilg4yv6r000q0uc9r2xib0cg"},{"post_id":"cilg4yv6n000n0uc9ljtc70xb","tag_id":"cilg4yv6p000p0uc93nk5blou","_id":"cilg4yv6r000r0uc92x75fc23"},{"post_id":"cilg4yv6t000s0uc95qwtnlls","tag_id":"cilg4yv6e000b0uc9oi0skzt3","_id":"cilg4yv6u000u0uc9dzhvpaey"},{"post_id":"cilg4yv6t000s0uc95qwtnlls","tag_id":"cilg4yv6p000p0uc93nk5blou","_id":"cilg4yv6u000v0uc9mccm9d2t"},{"post_id":"cilg4yv6w000w0uc9it1lxwkf","tag_id":"cilg4yv6e000b0uc9oi0skzt3","_id":"cilg4yv6y000y0uc918kqcbi1"},{"post_id":"cilg4yv6w000w0uc9it1lxwkf","tag_id":"cilg4yv6p000p0uc93nk5blou","_id":"cilg4yv6z000z0uc9rd4v9re2"}],"Tag":[{"name":"Android","_id":"cilg4yv6e000b0uc9oi0skzt3"},{"name":"å…¶ä»–","_id":"cilg4yv6f000c0uc9ueaxz6xo"},{"name":"Guide","_id":"cilg4yv6k000i0uc91pgnb5l7"},{"name":"æœ€ä½³å®è·µ","_id":"cilg4yv6l000j0uc9sjpul4nl"},{"name":"ä¸»æ¡†æ¶","_id":"cilg4yv6p000p0uc93nk5blou"}]}}